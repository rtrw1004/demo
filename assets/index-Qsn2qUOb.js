const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CNI2dr0_.js","assets/pouchdb-DRfoo8Cz.js"])))=>i.map(i=>d[i]);
import{g as em}from"./pouchdb-DRfoo8Cz.js";function Ap(l,o){for(var a=0;a<o.length;a++){const u=o[a];if(typeof u!="string"&&!Array.isArray(u)){for(const f in u)if(f!=="default"&&!(f in l)){const d=Object.getOwnPropertyDescriptor(u,f);d&&Object.defineProperty(l,f,d.get?d:{enumerable:!0,get:()=>u[f]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function a(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(f){if(f.ep)return;f.ep=!0;const d=a(f);fetch(f.href,d)}})();var oo={exports:{}},ms={},co={exports:{}},je={},_d;function Ep(){if(_d)return je;_d=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),w=Symbol.iterator;function O(v){return v===null||typeof v!="object"?null:(v=w&&v[w]||v["@@iterator"],typeof v=="function"?v:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,$={};function S(v,P,L){this.props=v,this.context=P,this.refs=$,this.updater=L||F}S.prototype.isReactComponent={},S.prototype.setState=function(v,P){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,P,"setState")},S.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function M(){}M.prototype=S.prototype;function K(v,P,L){this.props=v,this.context=P,this.refs=$,this.updater=L||F}var Q=K.prototype=new M;Q.constructor=K,ee(Q,S.prototype),Q.isPureReactComponent=!0;var q=Array.isArray,ne=Object.prototype.hasOwnProperty,ce={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function E(v,P,L){var pe,ae={},X=null,ie=null;if(P!=null)for(pe in P.ref!==void 0&&(ie=P.ref),P.key!==void 0&&(X=""+P.key),P)ne.call(P,pe)&&!U.hasOwnProperty(pe)&&(ae[pe]=P[pe]);var re=arguments.length-2;if(re===1)ae.children=L;else if(1<re){for(var de=Array(re),ye=0;ye<re;ye++)de[ye]=arguments[ye+2];ae.children=de}if(v&&v.defaultProps)for(pe in re=v.defaultProps,re)ae[pe]===void 0&&(ae[pe]=re[pe]);return{$$typeof:l,type:v,key:X,ref:ie,props:ae,_owner:ce.current}}function B(v,P){return{$$typeof:l,type:v.type,key:P,ref:v.ref,props:v.props,_owner:v._owner}}function N(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function _(v){var P={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(L){return P[L]})}var C=/\/+/g;function G(v,P){return typeof v=="object"&&v!==null&&v.key!=null?_(""+v.key):P.toString(36)}function te(v,P,L,pe,ae){var X=typeof v;(X==="undefined"||X==="boolean")&&(v=null);var ie=!1;if(v===null)ie=!0;else switch(X){case"string":case"number":ie=!0;break;case"object":switch(v.$$typeof){case l:case o:ie=!0}}if(ie)return ie=v,ae=ae(ie),v=pe===""?"."+G(ie,0):pe,q(ae)?(L="",v!=null&&(L=v.replace(C,"$&/")+"/"),te(ae,P,L,"",function(ye){return ye})):ae!=null&&(N(ae)&&(ae=B(ae,L+(!ae.key||ie&&ie.key===ae.key?"":(""+ae.key).replace(C,"$&/")+"/")+v)),P.push(ae)),1;if(ie=0,pe=pe===""?".":pe+":",q(v))for(var re=0;re<v.length;re++){X=v[re];var de=pe+G(X,re);ie+=te(X,P,L,de,ae)}else if(de=O(v),typeof de=="function")for(v=de.call(v),re=0;!(X=v.next()).done;)X=X.value,de=pe+G(X,re++),ie+=te(X,P,L,de,ae);else if(X==="object")throw P=String(v),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ie}function xe(v,P,L){if(v==null)return v;var pe=[],ae=0;return te(v,pe,"","",function(X){return P.call(L,X,ae++)}),pe}function fe(v){if(v._status===-1){var P=v._result;P=P(),P.then(function(L){(v._status===0||v._status===-1)&&(v._status=1,v._result=L)},function(L){(v._status===0||v._status===-1)&&(v._status=2,v._result=L)}),v._status===-1&&(v._status=0,v._result=P)}if(v._status===1)return v._result.default;throw v._result}var b={current:null},z={transition:null},Z={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:z,ReactCurrentOwner:ce};function W(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:xe,forEach:function(v,P,L){xe(v,function(){P.apply(this,arguments)},L)},count:function(v){var P=0;return xe(v,function(){P++}),P},toArray:function(v){return xe(v,function(P){return P})||[]},only:function(v){if(!N(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},je.Component=S,je.Fragment=a,je.Profiler=f,je.PureComponent=K,je.StrictMode=u,je.Suspense=m,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,je.act=W,je.cloneElement=function(v,P,L){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var pe=ee({},v.props),ae=v.key,X=v.ref,ie=v._owner;if(P!=null){if(P.ref!==void 0&&(X=P.ref,ie=ce.current),P.key!==void 0&&(ae=""+P.key),v.type&&v.type.defaultProps)var re=v.type.defaultProps;for(de in P)ne.call(P,de)&&!U.hasOwnProperty(de)&&(pe[de]=P[de]===void 0&&re!==void 0?re[de]:P[de])}var de=arguments.length-2;if(de===1)pe.children=L;else if(1<de){re=Array(de);for(var ye=0;ye<de;ye++)re[ye]=arguments[ye+2];pe.children=re}return{$$typeof:l,type:v.type,key:ae,ref:X,props:pe,_owner:ie}},je.createContext=function(v){return v={$$typeof:p,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:d,_context:v},v.Consumer=v},je.createElement=E,je.createFactory=function(v){var P=E.bind(null,v);return P.type=v,P},je.createRef=function(){return{current:null}},je.forwardRef=function(v){return{$$typeof:g,render:v}},je.isValidElement=N,je.lazy=function(v){return{$$typeof:h,_payload:{_status:-1,_result:v},_init:fe}},je.memo=function(v,P){return{$$typeof:y,type:v,compare:P===void 0?null:P}},je.startTransition=function(v){var P=z.transition;z.transition={};try{v()}finally{z.transition=P}},je.unstable_act=W,je.useCallback=function(v,P){return b.current.useCallback(v,P)},je.useContext=function(v){return b.current.useContext(v)},je.useDebugValue=function(){},je.useDeferredValue=function(v){return b.current.useDeferredValue(v)},je.useEffect=function(v,P){return b.current.useEffect(v,P)},je.useId=function(){return b.current.useId()},je.useImperativeHandle=function(v,P,L){return b.current.useImperativeHandle(v,P,L)},je.useInsertionEffect=function(v,P){return b.current.useInsertionEffect(v,P)},je.useLayoutEffect=function(v,P){return b.current.useLayoutEffect(v,P)},je.useMemo=function(v,P){return b.current.useMemo(v,P)},je.useReducer=function(v,P,L){return b.current.useReducer(v,P,L)},je.useRef=function(v){return b.current.useRef(v)},je.useState=function(v){return b.current.useState(v)},je.useSyncExternalStore=function(v,P,L){return b.current.useSyncExternalStore(v,P,L)},je.useTransition=function(){return b.current.useTransition()},je.version="18.3.1",je}var Id;function Co(){return Id||(Id=1,co.exports=Ep()),co.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Tp(){if(Cd)return ms;Cd=1;var l=Co(),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(g,m,y){var h,w={},O=null,F=null;y!==void 0&&(O=""+y),m.key!==void 0&&(O=""+m.key),m.ref!==void 0&&(F=m.ref);for(h in m)u.call(m,h)&&!d.hasOwnProperty(h)&&(w[h]=m[h]);if(g&&g.defaultProps)for(h in m=g.defaultProps,m)w[h]===void 0&&(w[h]=m[h]);return{$$typeof:o,type:g,key:O,ref:F,props:w,_owner:f.current}}return ms.Fragment=a,ms.jsx=p,ms.jsxs=p,ms}var Ad;function Pp(){return Ad||(Ad=1,oo.exports=Tp()),oo.exports}var r=Pp(),I=Co();const tm=em(I),Mp=Ap({__proto__:null,default:tm},[I]);var Ma={},uo={exports:{}},ft={},mo={exports:{}},fo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Rp(){return Ed||(Ed=1,function(l){function o(z,Z){var W=z.length;z.push(Z);e:for(;0<W;){var v=W-1>>>1,P=z[v];if(0<f(P,Z))z[v]=Z,z[W]=P,W=v;else break e}}function a(z){return z.length===0?null:z[0]}function u(z){if(z.length===0)return null;var Z=z[0],W=z.pop();if(W!==Z){z[0]=W;e:for(var v=0,P=z.length,L=P>>>1;v<L;){var pe=2*(v+1)-1,ae=z[pe],X=pe+1,ie=z[X];if(0>f(ae,W))X<P&&0>f(ie,ae)?(z[v]=ie,z[X]=W,v=X):(z[v]=ae,z[pe]=W,v=pe);else if(X<P&&0>f(ie,W))z[v]=ie,z[X]=W,v=X;else break e}}return Z}function f(z,Z){var W=z.sortIndex-Z.sortIndex;return W!==0?W:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var m=[],y=[],h=1,w=null,O=3,F=!1,ee=!1,$=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(z){for(var Z=a(y);Z!==null;){if(Z.callback===null)u(y);else if(Z.startTime<=z)u(y),Z.sortIndex=Z.expirationTime,o(m,Z);else break;Z=a(y)}}function q(z){if($=!1,Q(z),!ee)if(a(m)!==null)ee=!0,fe(ne);else{var Z=a(y);Z!==null&&b(q,Z.startTime-z)}}function ne(z,Z){ee=!1,$&&($=!1,M(E),E=-1),F=!0;var W=O;try{for(Q(Z),w=a(m);w!==null&&(!(w.expirationTime>Z)||z&&!_());){var v=w.callback;if(typeof v=="function"){w.callback=null,O=w.priorityLevel;var P=v(w.expirationTime<=Z);Z=l.unstable_now(),typeof P=="function"?w.callback=P:w===a(m)&&u(m),Q(Z)}else u(m);w=a(m)}if(w!==null)var L=!0;else{var pe=a(y);pe!==null&&b(q,pe.startTime-Z),L=!1}return L}finally{w=null,O=W,F=!1}}var ce=!1,U=null,E=-1,B=5,N=-1;function _(){return!(l.unstable_now()-N<B)}function C(){if(U!==null){var z=l.unstable_now();N=z;var Z=!0;try{Z=U(!0,z)}finally{Z?G():(ce=!1,U=null)}}else ce=!1}var G;if(typeof K=="function")G=function(){K(C)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,xe=te.port2;te.port1.onmessage=C,G=function(){xe.postMessage(null)}}else G=function(){S(C,0)};function fe(z){U=z,ce||(ce=!0,G())}function b(z,Z){E=S(function(){z(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_continueExecution=function(){ee||F||(ee=!0,fe(ne))},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return O},l.unstable_getFirstCallbackNode=function(){return a(m)},l.unstable_next=function(z){switch(O){case 1:case 2:case 3:var Z=3;break;default:Z=O}var W=O;O=Z;try{return z()}finally{O=W}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=O;O=z;try{return Z()}finally{O=W}},l.unstable_scheduleCallback=function(z,Z,W){var v=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?v+W:v):W=v,z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=W+P,z={id:h++,callback:Z,priorityLevel:z,startTime:W,expirationTime:P,sortIndex:-1},W>v?(z.sortIndex=W,o(y,z),a(m)===null&&z===a(y)&&($?(M(E),E=-1):$=!0,b(q,W-v))):(z.sortIndex=P,o(m,z),ee||F||(ee=!0,fe(ne))),z},l.unstable_shouldYield=_,l.unstable_wrapCallback=function(z){var Z=O;return function(){var W=O;O=Z;try{return z.apply(this,arguments)}finally{O=W}}}}(fo)),fo}var Td;function Op(){return Td||(Td=1,mo.exports=Rp()),mo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function zp(){if(Pd)return ft;Pd=1;var l=Co(),o=Op();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},w={};function O(e){return m.call(w,e)?!0:m.call(h,e)?!1:y.test(e)?w[e]=!0:(h[e]=!0,!1)}function F(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ee(e,t,n,s){if(t===null||typeof t>"u"||F(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $(e,t,n,s,i,c,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=x}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new $(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new $(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new $(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new $(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new $(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new $(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new $(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new $(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new $(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,K);S[t]=new $(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,K);S[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,K);S[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new $(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new $(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,t,n,s){var i=S.hasOwnProperty(t)?S[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ee(t,n,i,s)&&(n=null),s||i===null?O(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var q=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ce=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),z=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,v;function P(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var L=!1;function pe(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var s=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){s=R}e.call(t.prototype)}else{try{throw Error()}catch(R){s=R}e()}}catch(R){if(R&&s&&typeof R.stack=="string"){for(var i=R.stack.split(`
`),c=s.stack.split(`
`),x=i.length-1,j=c.length-1;1<=x&&0<=j&&i[x]!==c[j];)j--;for(;1<=x&&0<=j;x--,j--)if(i[x]!==c[j]){if(x!==1||j!==1)do if(x--,j--,0>j||i[x]!==c[j]){var k=`
`+i[x].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=x&&0<=j);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function ae(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=pe(e.type,!1),e;case 11:return e=pe(e.type.render,!1),e;case 1:return e=pe(e.type,!0),e;default:return""}}function X(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case ce:return"Portal";case B:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function de(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ye(e){var t=de(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(x){s=""+x,c.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function De(e){e._valueTracker||(e._valueTracker=ye(e))}function Ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=de(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function be(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xl(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=re(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ro(e,t){t=t.checked,t!=null&&Q(e,"checked",t,!1)}function hl(e,t){Ro(e,t);var n=re(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gl(e,t.type,n):t.hasOwnProperty("defaultValue")&&gl(e,t.type,re(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gl(e,t,n){(t!=="number"||be(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _r=Array.isArray;function Hn(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+re(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(_r(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:re(n)}}function Lo(e,t){var n=re(t.value),s=re(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ko(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,Uo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){Pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function Bo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function Wo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Bo(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var Mm=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(e,t){if(t){if(Mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,Jn=null,qn=null;function Qo(e){if(e=Yr(e)){if(typeof Nl!="function")throw Error(a(280));var t=e.stateNode;t&&(t=qs(t),Nl(e.stateNode,e.type,t))}}function $o(e){Jn?qn?qn.push(e):qn=[e]:Jn=e}function Vo(){if(Jn){var e=Jn,t=qn;if(qn=Jn=null,Qo(e),t)for(e=0;e<t.length;e++)Qo(t[e])}}function Ho(e,t){return e(t)}function Jo(){}var bl=!1;function qo(e,t,n){if(bl)return e(t,n);bl=!0;try{return Ho(e,t,n)}finally{bl=!1,(Jn!==null||qn!==null)&&(Jo(),Vo())}}function Ar(e,t){var n=e.stateNode;if(n===null)return null;var s=qs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var Dl=!1;if(g)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Dl=!1}function Rm(e,t,n,s,i,c,x,j,k){var R=Array.prototype.slice.call(arguments,3);try{t.apply(n,R)}catch(H){this.onError(H)}}var Tr=!1,_s=null,Is=!1,_l=null,Om={onError:function(e){Tr=!0,_s=e}};function zm(e,t,n,s,i,c,x,j,k){Tr=!1,_s=null,Rm.apply(Om,arguments)}function Lm(e,t,n,s,i,c,x,j,k){if(zm.apply(this,arguments),Tr){if(Tr){var R=_s;Tr=!1,_s=null}else throw Error(a(198));Is||(Is=!0,_l=R)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Go(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yo(e){if(_n(e)!==e)throw Error(a(188))}function Km(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return Yo(i),e;if(c===s)return Yo(i),t;c=c.sibling}throw Error(a(188))}if(n.return!==s.return)n=i,s=c;else{for(var x=!1,j=i.child;j;){if(j===n){x=!0,n=i,s=c;break}if(j===s){x=!0,s=i,n=c;break}j=j.sibling}if(!x){for(j=c.child;j;){if(j===n){x=!0,n=c,s=i;break}if(j===s){x=!0,s=c,n=i;break}j=j.sibling}if(!x)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Xo(e){return e=Km(e),e!==null?Zo(e):null}function Zo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zo(e);if(t!==null)return t;e=e.sibling}return null}var ec=o.unstable_scheduleCallback,tc=o.unstable_cancelCallback,Fm=o.unstable_shouldYield,Um=o.unstable_requestPaint,Oe=o.unstable_now,Bm=o.unstable_getCurrentPriorityLevel,Il=o.unstable_ImmediatePriority,nc=o.unstable_UserBlockingPriority,Cs=o.unstable_NormalPriority,Wm=o.unstable_LowPriority,rc=o.unstable_IdlePriority,As=null,Lt=null;function Qm(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(As,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Hm,$m=Math.log,Vm=Math.LN2;function Hm(e){return e>>>=0,e===0?32:31-($m(e)/Vm|0)|0}var Es=64,Ts=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ps(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,c=e.pingedLanes,x=n&268435455;if(x!==0){var j=x&~i;j!==0?s=Pr(j):(c&=x,c!==0&&(s=Pr(c)))}else x=n&~i,x!==0?s=Pr(x):c!==0&&(s=Pr(c));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,c=t&-t,i>=c||i===16&&(c&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ct(t),i=1<<n,s|=e[n],t&=~i;return s}function Jm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes;0<c;){var x=31-Ct(c),j=1<<x,k=i[x];k===-1?(!(j&n)||j&s)&&(i[x]=Jm(j,t)):k<=t&&(e.expiredLanes|=j),c&=~j}}function Cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sc(){var e=Es;return Es<<=1,!(Es&4194240)&&(Es=64),e}function Al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ct(n),c=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~c}}function El(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ct(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Ne=0;function ac(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lc,Tl,ic,oc,cc,Pl=!1,Ms=[],nn=null,rn=null,sn=null,Rr=new Map,Or=new Map,an=[],Ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function zr(e,t,n,s,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[i]},t!==null&&(t=Yr(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xm(e,t,n,s,i){switch(t){case"focusin":return nn=zr(nn,e,t,n,s,i),!0;case"dragenter":return rn=zr(rn,e,t,n,s,i),!0;case"mouseover":return sn=zr(sn,e,t,n,s,i),!0;case"pointerover":var c=i.pointerId;return Rr.set(c,zr(Rr.get(c)||null,e,t,n,s,i)),!0;case"gotpointercapture":return c=i.pointerId,Or.set(c,zr(Or.get(c)||null,e,t,n,s,i)),!0}return!1}function dc(e){var t=In(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=Go(n),t!==null){e.blockedOn=t,cc(e.priority,function(){ic(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);kl=s,n.target.dispatchEvent(s),kl=null}else return t=Yr(n),t!==null&&Tl(t),e.blockedOn=n,!1;t.shift()}return!0}function mc(e,t,n){Rs(e)&&n.delete(t)}function Zm(){Pl=!1,nn!==null&&Rs(nn)&&(nn=null),rn!==null&&Rs(rn)&&(rn=null),sn!==null&&Rs(sn)&&(sn=null),Rr.forEach(mc),Or.forEach(mc)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,Pl||(Pl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Zm)))}function Kr(e){function t(i){return Lr(i,e)}if(0<Ms.length){Lr(Ms[0],e);for(var n=1;n<Ms.length;n++){var s=Ms[n];s.blockedOn===e&&(s.blockedOn=null)}}for(nn!==null&&Lr(nn,e),rn!==null&&Lr(rn,e),sn!==null&&Lr(sn,e),Rr.forEach(t),Or.forEach(t),n=0;n<an.length;n++)s=an[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)dc(n),n.blockedOn===null&&an.shift()}var Gn=q.ReactCurrentBatchConfig,Os=!0;function ef(e,t,n,s){var i=Ne,c=Gn.transition;Gn.transition=null;try{Ne=1,Ml(e,t,n,s)}finally{Ne=i,Gn.transition=c}}function tf(e,t,n,s){var i=Ne,c=Gn.transition;Gn.transition=null;try{Ne=4,Ml(e,t,n,s)}finally{Ne=i,Gn.transition=c}}function Ml(e,t,n,s){if(Os){var i=Rl(e,t,n,s);if(i===null)Xl(e,t,s,zs,n),uc(e,s);else if(Xm(i,e,t,n,s))s.stopPropagation();else if(uc(e,s),t&4&&-1<Ym.indexOf(e)){for(;i!==null;){var c=Yr(i);if(c!==null&&lc(c),c=Rl(e,t,n,s),c===null&&Xl(e,t,s,zs,n),c===i)break;i=c}i!==null&&s.stopPropagation()}else Xl(e,t,s,null,n)}}var zs=null;function Rl(e,t,n,s){if(zs=null,e=Sl(s),e=In(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Go(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function fc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case Il:return 1;case nc:return 4;case Cs:case Wm:return 16;case rc:return 536870912;default:return 16}default:return 16}}var ln=null,Ol=null,Ls=null;function pc(){if(Ls)return Ls;var e,t=Ol,n=t.length,s,i="value"in ln?ln.value:ln.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var x=n-e;for(s=1;s<=x&&t[n-s]===i[c-s];s++);return Ls=i.slice(e,1<s?1-s:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function xc(){return!1}function gt(e){function t(n,s,i,c,x){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=c,this.target=x,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(c):c[j]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Fs:xc,this.isPropagationStopped=xc,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=gt(Yn),Fr=W({},Yn,{view:0,detail:0}),nf=gt(Fr),Ll,Kl,Ur,Us=W({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Ll=e.screenX-Ur.screenX,Kl=e.screenY-Ur.screenY):Kl=Ll=0,Ur=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),hc=gt(Us),rf=W({},Us,{dataTransfer:0}),sf=gt(rf),af=W({},Fr,{relatedTarget:0}),Fl=gt(af),lf=W({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),of=gt(lf),cf=W({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uf=gt(cf),df=W({},Yn,{data:0}),gc=gt(df),mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pf[e])?!!t[e]:!1}function Ul(){return xf}var hf=W({},Fr,{key:function(e){if(e.key){var t=mf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gf=gt(hf),yf=W({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=gt(yf),vf=W({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),jf=gt(vf),wf=W({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kf=gt(wf),Sf=W({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nf=gt(Sf),bf=[9,13,27,32],Bl=g&&"CompositionEvent"in window,Br=null;g&&"documentMode"in document&&(Br=document.documentMode);var Df=g&&"TextEvent"in window&&!Br,vc=g&&(!Bl||Br&&8<Br&&11>=Br),jc=" ",wc=!1;function kc(e,t){switch(e){case"keyup":return bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function _f(e,t){switch(e){case"compositionend":return Sc(t);case"keypress":return t.which!==32?null:(wc=!0,jc);case"textInput":return e=t.data,e===jc&&wc?null:e;default:return null}}function If(e,t){if(Xn)return e==="compositionend"||!Bl&&kc(e,t)?(e=pc(),Ls=Ol=ln=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vc&&t.locale!=="ko"?null:t.data;default:return null}}var Cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cf[e.type]:t==="textarea"}function bc(e,t,n,s){$o(s),t=Vs(t,"onChange"),0<t.length&&(n=new zl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Wr=null,Qr=null;function Af(e){Wc(e,0)}function Bs(e){var t=rr(e);if(Ze(t))return e}function Ef(e,t){if(e==="change")return t}var Dc=!1;if(g){var Wl;if(g){var Ql="oninput"in document;if(!Ql){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),Ql=typeof _c.oninput=="function"}Wl=Ql}else Wl=!1;Dc=Wl&&(!document.documentMode||9<document.documentMode)}function Ic(){Wr&&(Wr.detachEvent("onpropertychange",Cc),Qr=Wr=null)}function Cc(e){if(e.propertyName==="value"&&Bs(Qr)){var t=[];bc(t,Qr,e,Sl(e)),qo(Af,t)}}function Tf(e,t,n){e==="focusin"?(Ic(),Wr=t,Qr=n,Wr.attachEvent("onpropertychange",Cc)):e==="focusout"&&Ic()}function Pf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(Qr)}function Mf(e,t){if(e==="click")return Bs(t)}function Rf(e,t){if(e==="input"||e==="change")return Bs(t)}function Of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Of;function $r(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!m.call(t,i)||!At(e[i],t[i]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var n=Ac(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ac(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pc(){for(var e=window,t=be();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=be(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zf(e){var t=Pc(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(s!==null&&$l(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,c=Math.min(s.start,i);s=s.end===void 0?c:Math.min(s.end,i),!e.extend&&c>s&&(i=s,s=c,c=i),i=Ec(n,c);var x=Ec(n,s);i&&x&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lf=g&&"documentMode"in document&&11>=document.documentMode,Zn=null,Vl=null,Vr=null,Hl=!1;function Mc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hl||Zn==null||Zn!==be(s)||(s=Zn,"selectionStart"in s&&$l(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vr&&$r(Vr,s)||(Vr=s,s=Vs(Vl,"onSelect"),0<s.length&&(t=new zl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Zn)))}function Ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Jl={},Rc={};g&&(Rc=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Qs(e){if(Jl[e])return Jl[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rc)return Jl[e]=t[n];return e}var Oc=Qs("animationend"),zc=Qs("animationiteration"),Lc=Qs("animationstart"),Kc=Qs("transitionend"),Fc=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){Fc.set(e,t),d(t,[e])}for(var ql=0;ql<Uc.length;ql++){var Gl=Uc[ql],Kf=Gl.toLowerCase(),Ff=Gl[0].toUpperCase()+Gl.slice(1);on(Kf,"on"+Ff)}on(Oc,"onAnimationEnd"),on(zc,"onAnimationIteration"),on(Lc,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Kc,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Bc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Lm(s,t,void 0,e),e.currentTarget=null}function Wc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var x=s.length-1;0<=x;x--){var j=s[x],k=j.instance,R=j.currentTarget;if(j=j.listener,k!==c&&i.isPropagationStopped())break e;Bc(i,j,R),c=k}else for(x=0;x<s.length;x++){if(j=s[x],k=j.instance,R=j.currentTarget,j=j.listener,k!==c&&i.isPropagationStopped())break e;Bc(i,j,R),c=k}}}if(Is)throw e=_l,Is=!1,_l=null,e}function Ie(e,t){var n=t[si];n===void 0&&(n=t[si]=new Set);var s=e+"__bubble";n.has(s)||(Qc(t,e,2,!1),n.add(s))}function Yl(e,t,n){var s=0;t&&(s|=4),Qc(n,e,s,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[$s]){e[$s]=!0,u.forEach(function(n){n!=="selectionchange"&&(Uf.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,Yl("selectionchange",!1,t))}}function Qc(e,t,n,s){switch(fc(t)){case 1:var i=ef;break;case 4:i=tf;break;default:i=Ml}n=i.bind(null,t,n,e),i=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xl(e,t,n,s,i){var c=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var j=s.stateNode.containerInfo;if(j===i||j.nodeType===8&&j.parentNode===i)break;if(x===4)for(x=s.return;x!==null;){var k=x.tag;if((k===3||k===4)&&(k=x.stateNode.containerInfo,k===i||k.nodeType===8&&k.parentNode===i))return;x=x.return}for(;j!==null;){if(x=In(j),x===null)return;if(k=x.tag,k===5||k===6){s=c=x;continue e}j=j.parentNode}}s=s.return}qo(function(){var R=c,H=Sl(n),J=[];e:{var V=Fc.get(e);if(V!==void 0){var se=zl,oe=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":se=gf;break;case"focusin":oe="focus",se=Fl;break;case"focusout":oe="blur",se=Fl;break;case"beforeblur":case"afterblur":se=Fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=jf;break;case Oc:case zc:case Lc:se=of;break;case Kc:se=kf;break;case"scroll":se=nf;break;case"wheel":se=Nf;break;case"copy":case"cut":case"paste":se=uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=yc}var ue=(t&4)!==0,ze=!ue&&e==="scroll",A=ue?V!==null?V+"Capture":null:V;ue=[];for(var D=R,T;D!==null;){T=D;var Y=T.stateNode;if(T.tag===5&&Y!==null&&(T=Y,A!==null&&(Y=Ar(D,A),Y!=null&&ue.push(qr(D,Y,T)))),ze)break;D=D.return}0<ue.length&&(V=new se(V,oe,null,n,H),J.push({event:V,listeners:ue}))}}if(!(t&7)){e:{if(V=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",V&&n!==kl&&(oe=n.relatedTarget||n.fromElement)&&(In(oe)||oe[$t]))break e;if((se||V)&&(V=H.window===H?H:(V=H.ownerDocument)?V.defaultView||V.parentWindow:window,se?(oe=n.relatedTarget||n.toElement,se=R,oe=oe?In(oe):null,oe!==null&&(ze=_n(oe),oe!==ze||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(se=null,oe=R),se!==oe)){if(ue=hc,Y="onMouseLeave",A="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ue=yc,Y="onPointerLeave",A="onPointerEnter",D="pointer"),ze=se==null?V:rr(se),T=oe==null?V:rr(oe),V=new ue(Y,D+"leave",se,n,H),V.target=ze,V.relatedTarget=T,Y=null,In(H)===R&&(ue=new ue(A,D+"enter",oe,n,H),ue.target=T,ue.relatedTarget=ze,Y=ue),ze=Y,se&&oe)t:{for(ue=se,A=oe,D=0,T=ue;T;T=tr(T))D++;for(T=0,Y=A;Y;Y=tr(Y))T++;for(;0<D-T;)ue=tr(ue),D--;for(;0<T-D;)A=tr(A),T--;for(;D--;){if(ue===A||A!==null&&ue===A.alternate)break t;ue=tr(ue),A=tr(A)}ue=null}else ue=null;se!==null&&$c(J,V,se,ue,!1),oe!==null&&ze!==null&&$c(J,ze,oe,ue,!0)}}e:{if(V=R?rr(R):window,se=V.nodeName&&V.nodeName.toLowerCase(),se==="select"||se==="input"&&V.type==="file")var me=Ef;else if(Nc(V))if(Dc)me=Rf;else{me=Pf;var he=Tf}else(se=V.nodeName)&&se.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(me=Mf);if(me&&(me=me(e,R))){bc(J,me,n,H);break e}he&&he(e,V,R),e==="focusout"&&(he=V._wrapperState)&&he.controlled&&V.type==="number"&&gl(V,"number",V.value)}switch(he=R?rr(R):window,e){case"focusin":(Nc(he)||he.contentEditable==="true")&&(Zn=he,Vl=R,Vr=null);break;case"focusout":Vr=Vl=Zn=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Mc(J,n,H);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":Mc(J,n,H)}var ge;if(Bl)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Xn?kc(e,n)&&(ve="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(vc&&n.locale!=="ko"&&(Xn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Xn&&(ge=pc()):(ln=H,Ol="value"in ln?ln.value:ln.textContent,Xn=!0)),he=Vs(R,ve),0<he.length&&(ve=new gc(ve,e,null,n,H),J.push({event:ve,listeners:he}),ge?ve.data=ge:(ge=Sc(n),ge!==null&&(ve.data=ge)))),(ge=Df?_f(e,n):If(e,n))&&(R=Vs(R,"onBeforeInput"),0<R.length&&(H=new gc("onBeforeInput","beforeinput",null,n,H),J.push({event:H,listeners:R}),H.data=ge))}Wc(J,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,c=i.stateNode;i.tag===5&&c!==null&&(i=c,c=Ar(e,n),c!=null&&s.unshift(qr(e,c,i)),c=Ar(e,t),c!=null&&s.push(qr(e,c,i))),e=e.return}return s}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,n,s,i){for(var c=t._reactName,x=[];n!==null&&n!==s;){var j=n,k=j.alternate,R=j.stateNode;if(k!==null&&k===s)break;j.tag===5&&R!==null&&(j=R,i?(k=Ar(n,c),k!=null&&x.unshift(qr(n,k,j))):i||(k=Ar(n,c),k!=null&&x.push(qr(n,k,j)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var Bf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(Bf,`
`).replace(Wf,"")}function Hs(e,t,n){if(t=Vc(t),Vc(e)!==t&&n)throw Error(a(425))}function Js(){}var Zl=null,ei=null;function ti(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ni=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,$f=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(Vf)}:ni;function Vf(e){setTimeout(function(){throw e})}function ri(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Kr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Kr(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+nr,Gr="__reactProps$"+nr,$t="__reactContainer$"+nr,si="__reactEvents$"+nr,Hf="__reactListeners$"+nr,Jf="__reactHandles$"+nr;function In(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jc(e);e!==null;){if(n=e[Kt])return n;e=Jc(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[Kt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function qs(e){return e[Gr]||null}var ai=[],sr=-1;function un(e){return{current:e}}function Ce(e){0>sr||(e.current=ai[sr],ai[sr]=null,sr--)}function _e(e,t){sr++,ai[sr]=e.current,e.current=t}var dn={},et=un(dn),ot=un(!1),Cn=dn;function ar(e,t){var n=e.type.contextTypes;if(!n)return dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},c;for(c in n)i[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function Gs(){Ce(ot),Ce(et)}function qc(e,t,n){if(et.current!==dn)throw Error(a(168));_e(et,t),_e(ot,n)}function Gc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(a(108,ie(e)||"Unknown",i));return W({},n,s)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Cn=et.current,_e(et,e),_e(ot,ot.current),!0}function Yc(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Gc(e,t,Cn),s.__reactInternalMemoizedMergedChildContext=e,Ce(ot),Ce(et),_e(et,e)):Ce(ot),_e(ot,n)}var Vt=null,Xs=!1,li=!1;function Xc(e){Vt===null?Vt=[e]:Vt.push(e)}function qf(e){Xs=!0,Xc(e)}function mn(){if(!li&&Vt!==null){li=!0;var e=0,t=Ne;try{var n=Vt;for(Ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Vt=null,Xs=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),ec(Il,mn),i}finally{Ne=t,li=!1}}return null}var lr=[],ir=0,Zs=null,ea=0,kt=[],St=0,An=null,Ht=1,Jt="";function En(e,t){lr[ir++]=ea,lr[ir++]=Zs,Zs=e,ea=t}function Zc(e,t,n){kt[St++]=Ht,kt[St++]=Jt,kt[St++]=An,An=e;var s=Ht;e=Jt;var i=32-Ct(s)-1;s&=~(1<<i),n+=1;var c=32-Ct(t)+i;if(30<c){var x=i-i%5;c=(s&(1<<x)-1).toString(32),s>>=x,i-=x,Ht=1<<32-Ct(t)+i|n<<i|s,Jt=c+e}else Ht=1<<c|n<<i|s,Jt=e}function ii(e){e.return!==null&&(En(e,1),Zc(e,1,0))}function oi(e){for(;e===Zs;)Zs=lr[--ir],lr[ir]=null,ea=lr[--ir],lr[ir]=null;for(;e===An;)An=kt[--St],kt[St]=null,Jt=kt[--St],kt[St]=null,Ht=kt[--St],kt[St]=null}var yt=null,vt=null,Ae=!1,Et=null;function eu(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Ht,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,vt=null,!0):!1;default:return!1}}function ci(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ui(e){if(Ae){var t=vt;if(t){var n=t;if(!tu(e,t)){if(ci(e))throw Error(a(418));t=cn(n.nextSibling);var s=yt;t&&tu(e,t)?eu(s,n):(e.flags=e.flags&-4097|2,Ae=!1,yt=e)}}else{if(ci(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ae=!1,yt=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function ta(e){if(e!==yt)return!1;if(!Ae)return nu(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ti(e.type,e.memoizedProps)),t&&(t=vt)){if(ci(e))throw ru(),Error(a(418));for(;t;)eu(e,t),t=cn(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?cn(e.stateNode.nextSibling):null;return!0}function ru(){for(var e=vt;e;)e=cn(e.nextSibling)}function or(){vt=yt=null,Ae=!1}function di(e){Et===null?Et=[e]:Et.push(e)}var Gf=q.ReactCurrentBatchConfig;function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var i=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(x){var j=i.refs;x===null?delete j[c]:j[c]=x},t._stringRef=c,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function au(e){function t(A,D){if(e){var T=A.deletions;T===null?(A.deletions=[D],A.flags|=16):T.push(D)}}function n(A,D){if(!e)return null;for(;D!==null;)t(A,D),D=D.sibling;return null}function s(A,D){for(A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function i(A,D){return A=jn(A,D),A.index=0,A.sibling=null,A}function c(A,D,T){return A.index=T,e?(T=A.alternate,T!==null?(T=T.index,T<D?(A.flags|=2,D):T):(A.flags|=2,D)):(A.flags|=1048576,D)}function x(A){return e&&A.alternate===null&&(A.flags|=2),A}function j(A,D,T,Y){return D===null||D.tag!==6?(D=no(T,A.mode,Y),D.return=A,D):(D=i(D,T),D.return=A,D)}function k(A,D,T,Y){var me=T.type;return me===U?H(A,D,T.props.children,Y,T.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===fe&&su(me)===D.type)?(Y=i(D,T.props),Y.ref=Xr(A,D,T),Y.return=A,Y):(Y=Da(T.type,T.key,T.props,null,A.mode,Y),Y.ref=Xr(A,D,T),Y.return=A,Y)}function R(A,D,T,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==T.containerInfo||D.stateNode.implementation!==T.implementation?(D=ro(T,A.mode,Y),D.return=A,D):(D=i(D,T.children||[]),D.return=A,D)}function H(A,D,T,Y,me){return D===null||D.tag!==7?(D=Kn(T,A.mode,Y,me),D.return=A,D):(D=i(D,T),D.return=A,D)}function J(A,D,T){if(typeof D=="string"&&D!==""||typeof D=="number")return D=no(""+D,A.mode,T),D.return=A,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ne:return T=Da(D.type,D.key,D.props,null,A.mode,T),T.ref=Xr(A,null,D),T.return=A,T;case ce:return D=ro(D,A.mode,T),D.return=A,D;case fe:var Y=D._init;return J(A,Y(D._payload),T)}if(_r(D)||Z(D))return D=Kn(D,A.mode,T,null),D.return=A,D;na(A,D)}return null}function V(A,D,T,Y){var me=D!==null?D.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return me!==null?null:j(A,D,""+T,Y);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ne:return T.key===me?k(A,D,T,Y):null;case ce:return T.key===me?R(A,D,T,Y):null;case fe:return me=T._init,V(A,D,me(T._payload),Y)}if(_r(T)||Z(T))return me!==null?null:H(A,D,T,Y,null);na(A,T)}return null}function se(A,D,T,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return A=A.get(T)||null,j(D,A,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case ne:return A=A.get(Y.key===null?T:Y.key)||null,k(D,A,Y,me);case ce:return A=A.get(Y.key===null?T:Y.key)||null,R(D,A,Y,me);case fe:var he=Y._init;return se(A,D,T,he(Y._payload),me)}if(_r(Y)||Z(Y))return A=A.get(T)||null,H(D,A,Y,me,null);na(D,Y)}return null}function oe(A,D,T,Y){for(var me=null,he=null,ge=D,ve=D=0,Ve=null;ge!==null&&ve<T.length;ve++){ge.index>ve?(Ve=ge,ge=null):Ve=ge.sibling;var Se=V(A,ge,T[ve],Y);if(Se===null){ge===null&&(ge=Ve);break}e&&ge&&Se.alternate===null&&t(A,ge),D=c(Se,D,ve),he===null?me=Se:he.sibling=Se,he=Se,ge=Ve}if(ve===T.length)return n(A,ge),Ae&&En(A,ve),me;if(ge===null){for(;ve<T.length;ve++)ge=J(A,T[ve],Y),ge!==null&&(D=c(ge,D,ve),he===null?me=ge:he.sibling=ge,he=ge);return Ae&&En(A,ve),me}for(ge=s(A,ge);ve<T.length;ve++)Ve=se(ge,A,ve,T[ve],Y),Ve!==null&&(e&&Ve.alternate!==null&&ge.delete(Ve.key===null?ve:Ve.key),D=c(Ve,D,ve),he===null?me=Ve:he.sibling=Ve,he=Ve);return e&&ge.forEach(function(wn){return t(A,wn)}),Ae&&En(A,ve),me}function ue(A,D,T,Y){var me=Z(T);if(typeof me!="function")throw Error(a(150));if(T=me.call(T),T==null)throw Error(a(151));for(var he=me=null,ge=D,ve=D=0,Ve=null,Se=T.next();ge!==null&&!Se.done;ve++,Se=T.next()){ge.index>ve?(Ve=ge,ge=null):Ve=ge.sibling;var wn=V(A,ge,Se.value,Y);if(wn===null){ge===null&&(ge=Ve);break}e&&ge&&wn.alternate===null&&t(A,ge),D=c(wn,D,ve),he===null?me=wn:he.sibling=wn,he=wn,ge=Ve}if(Se.done)return n(A,ge),Ae&&En(A,ve),me;if(ge===null){for(;!Se.done;ve++,Se=T.next())Se=J(A,Se.value,Y),Se!==null&&(D=c(Se,D,ve),he===null?me=Se:he.sibling=Se,he=Se);return Ae&&En(A,ve),me}for(ge=s(A,ge);!Se.done;ve++,Se=T.next())Se=se(ge,A,ve,Se.value,Y),Se!==null&&(e&&Se.alternate!==null&&ge.delete(Se.key===null?ve:Se.key),D=c(Se,D,ve),he===null?me=Se:he.sibling=Se,he=Se);return e&&ge.forEach(function(Cp){return t(A,Cp)}),Ae&&En(A,ve),me}function ze(A,D,T,Y){if(typeof T=="object"&&T!==null&&T.type===U&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ne:e:{for(var me=T.key,he=D;he!==null;){if(he.key===me){if(me=T.type,me===U){if(he.tag===7){n(A,he.sibling),D=i(he,T.props.children),D.return=A,A=D;break e}}else if(he.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===fe&&su(me)===he.type){n(A,he.sibling),D=i(he,T.props),D.ref=Xr(A,he,T),D.return=A,A=D;break e}n(A,he);break}else t(A,he);he=he.sibling}T.type===U?(D=Kn(T.props.children,A.mode,Y,T.key),D.return=A,A=D):(Y=Da(T.type,T.key,T.props,null,A.mode,Y),Y.ref=Xr(A,D,T),Y.return=A,A=Y)}return x(A);case ce:e:{for(he=T.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===T.containerInfo&&D.stateNode.implementation===T.implementation){n(A,D.sibling),D=i(D,T.children||[]),D.return=A,A=D;break e}else{n(A,D);break}else t(A,D);D=D.sibling}D=ro(T,A.mode,Y),D.return=A,A=D}return x(A);case fe:return he=T._init,ze(A,D,he(T._payload),Y)}if(_r(T))return oe(A,D,T,Y);if(Z(T))return ue(A,D,T,Y);na(A,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,D!==null&&D.tag===6?(n(A,D.sibling),D=i(D,T),D.return=A,A=D):(n(A,D),D=no(T,A.mode,Y),D.return=A,A=D),x(A)):n(A,D)}return ze}var cr=au(!0),lu=au(!1),ra=un(null),sa=null,ur=null,mi=null;function fi(){mi=ur=sa=null}function pi(e){var t=ra.current;Ce(ra),e._currentValue=t}function xi(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){sa=e,mi=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(mi!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(sa===null)throw Error(a(308));ur=e,sa.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var Tn=null;function hi(e){Tn===null?Tn=[e]:Tn.push(e)}function iu(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,hi(t)):(n.next=i.next,i.next=n),t.interleaved=n,qt(e,s)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ke&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,qt(e,n)}return i=s.interleaved,i===null?(t.next=t,hi(s)):(t.next=i.next,i.next=t),s.interleaved=t,qt(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,El(e,n)}}function cu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var x={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?i=c=x:c=c.next=x,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,s){var i=e.updateQueue;fn=!1;var c=i.firstBaseUpdate,x=i.lastBaseUpdate,j=i.shared.pending;if(j!==null){i.shared.pending=null;var k=j,R=k.next;k.next=null,x===null?c=R:x.next=R,x=k;var H=e.alternate;H!==null&&(H=H.updateQueue,j=H.lastBaseUpdate,j!==x&&(j===null?H.firstBaseUpdate=R:j.next=R,H.lastBaseUpdate=k))}if(c!==null){var J=i.baseState;x=0,H=R=k=null,j=c;do{var V=j.lane,se=j.eventTime;if((s&V)===V){H!==null&&(H=H.next={eventTime:se,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var oe=e,ue=j;switch(V=t,se=n,ue.tag){case 1:if(oe=ue.payload,typeof oe=="function"){J=oe.call(se,J,V);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ue.payload,V=typeof oe=="function"?oe.call(se,J,V):oe,V==null)break e;J=W({},J,V);break e;case 2:fn=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,V=i.effects,V===null?i.effects=[j]:V.push(j))}else se={eventTime:se,lane:V,tag:j.tag,payload:j.payload,callback:j.callback,next:null},H===null?(R=H=se,k=J):H=H.next=se,x|=V;if(j=j.next,j===null){if(j=i.shared.pending,j===null)break;V=j,j=V.next,V.next=null,i.lastBaseUpdate=V,i.shared.pending=null}}while(!0);if(H===null&&(k=J),i.baseState=k,i.firstBaseUpdate=R,i.lastBaseUpdate=H,t=i.shared.interleaved,t!==null){i=t;do x|=i.lane,i=i.next;while(i!==t)}else c===null&&(i.shared.lanes=0);Rn|=x,e.lanes=x,e.memoizedState=J}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(a(191,i));i.call(s)}}}var Zr={},Ft=un(Zr),es=un(Zr),ts=un(Zr);function Pn(e){if(e===Zr)throw Error(a(174));return e}function yi(e,t){switch(_e(ts,t),_e(es,e),_e(Ft,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vl(t,e)}Ce(Ft),_e(Ft,t)}function mr(){Ce(Ft),Ce(es),Ce(ts)}function du(e){Pn(ts.current);var t=Pn(Ft.current),n=vl(t,e.type);t!==n&&(_e(es,e),_e(Ft,n))}function vi(e){es.current===e&&(Ce(Ft),Ce(es))}var Te=un(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ji=[];function wi(){for(var e=0;e<ji.length;e++)ji[e]._workInProgressVersionPrimary=null;ji.length=0}var oa=q.ReactCurrentDispatcher,ki=q.ReactCurrentBatchConfig,Mn=0,Pe=null,Ue=null,Qe=null,ca=!1,ns=!1,rs=0,Yf=0;function tt(){throw Error(a(321))}function Si(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Ni(e,t,n,s,i,c){if(Mn=c,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?tp:np,e=n(s,i),ns){c=0;do{if(ns=!1,rs=0,25<=c)throw Error(a(301));c+=1,Qe=Ue=null,t.updateQueue=null,oa.current=rp,e=n(s,i)}while(ns)}if(oa.current=ma,t=Ue!==null&&Ue.next!==null,Mn=0,Qe=Ue=Pe=null,ca=!1,t)throw Error(a(300));return e}function bi(){var e=rs!==0;return rs=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Pe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function bt(){if(Ue===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Qe===null?Pe.memoizedState:Qe.next;if(t!==null)Qe=t,Ue=e;else{if(e===null)throw Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?Pe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ss(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=bt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=Ue,i=s.baseQueue,c=n.pending;if(c!==null){if(i!==null){var x=i.next;i.next=c.next,c.next=x}s.baseQueue=i=c,n.pending=null}if(i!==null){c=i.next,s=s.baseState;var j=x=null,k=null,R=c;do{var H=R.lane;if((Mn&H)===H)k!==null&&(k=k.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),s=R.hasEagerState?R.eagerState:e(s,R.action);else{var J={lane:H,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};k===null?(j=k=J,x=s):k=k.next=J,Pe.lanes|=H,Rn|=H}R=R.next}while(R!==null&&R!==c);k===null?x=s:k.next=j,At(s,t.memoizedState)||(ut=!0),t.memoizedState=s,t.baseState=x,t.baseQueue=k,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do c=i.lane,Pe.lanes|=c,Rn|=c,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _i(e){var t=bt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var x=i=i.next;do c=e(c,x.action),x=x.next;while(x!==i);At(c,t.memoizedState)||(ut=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function mu(){}function fu(e,t){var n=Pe,s=bt(),i=t(),c=!At(s.memoizedState,i);if(c&&(s.memoizedState=i,ut=!0),s=s.queue,Ii(hu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,as(9,xu.bind(null,n,s,i,t),void 0,null),$e===null)throw Error(a(349));Mn&30||pu(n,t,i)}return i}function pu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xu(e,t,n,s){t.value=n,t.getSnapshot=s,gu(t)&&yu(e)}function hu(e,t,n){return n(function(){gu(t)&&yu(e)})}function gu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function yu(e){var t=qt(e,1);t!==null&&Rt(t,e,1,-1)}function vu(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,Pe,e),[t.memoizedState,e]}function as(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ju(){return bt().memoizedState}function ua(e,t,n,s){var i=Ut();Pe.flags|=e,i.memoizedState=as(1|t,n,void 0,s===void 0?null:s)}function da(e,t,n,s){var i=bt();s=s===void 0?null:s;var c=void 0;if(Ue!==null){var x=Ue.memoizedState;if(c=x.destroy,s!==null&&Si(s,x.deps)){i.memoizedState=as(t,n,c,s);return}}Pe.flags|=e,i.memoizedState=as(1|t,n,c,s)}function wu(e,t){return ua(8390656,8,e,t)}function Ii(e,t){return da(2048,8,e,t)}function ku(e,t){return da(4,2,e,t)}function Su(e,t){return da(4,4,e,t)}function Nu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bu(e,t,n){return n=n!=null?n.concat([e]):null,da(4,4,Nu.bind(null,t,e),n)}function Ci(){}function Du(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Si(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function _u(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Si(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Iu(e,t,n){return Mn&21?(At(n,t)||(n=sc(),Pe.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function Xf(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var s=ki.transition;ki.transition={};try{e(!1),t()}finally{Ne=n,ki.transition=s}}function Cu(){return bt().memoizedState}function Zf(e,t,n){var s=yn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Au(e))Eu(t,n);else if(n=iu(e,t,n,s),n!==null){var i=at();Rt(n,e,s,i),Tu(n,t,s)}}function ep(e,t,n){var s=yn(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Au(e))Eu(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var x=t.lastRenderedState,j=c(x,n);if(i.hasEagerState=!0,i.eagerState=j,At(j,x)){var k=t.interleaved;k===null?(i.next=i,hi(t)):(i.next=k.next,k.next=i),t.interleaved=i;return}}catch{}finally{}n=iu(e,t,i,s),n!==null&&(i=at(),Rt(n,e,s,i),Tu(n,t,s))}}function Au(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Eu(e,t){ns=ca=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,El(e,n)}}var ma={readContext:Nt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},tp={readContext:Nt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:wu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ua(4194308,4,Nu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var n=Ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ut();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Zf.bind(null,Pe,e),[s.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:Ci,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=Xf.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Pe,i=Ut();if(Ae){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),$e===null)throw Error(a(349));Mn&30||pu(s,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,wu(hu.bind(null,s,c,e),[e]),s.flags|=2048,as(9,xu.bind(null,s,c,n,t),void 0,null),n},useId:function(){var e=Ut(),t=$e.identifierPrefix;if(Ae){var n=Jt,s=Ht;n=(s&~(1<<32-Ct(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:Nt,useCallback:Du,useContext:Nt,useEffect:Ii,useImperativeHandle:bu,useInsertionEffect:ku,useLayoutEffect:Su,useMemo:_u,useReducer:Di,useRef:ju,useState:function(){return Di(ss)},useDebugValue:Ci,useDeferredValue:function(e){var t=bt();return Iu(t,Ue.memoizedState,e)},useTransition:function(){var e=Di(ss)[0],t=bt().memoizedState;return[e,t]},useMutableSource:mu,useSyncExternalStore:fu,useId:Cu,unstable_isNewReconciler:!1},rp={readContext:Nt,useCallback:Du,useContext:Nt,useEffect:Ii,useImperativeHandle:bu,useInsertionEffect:ku,useLayoutEffect:Su,useMemo:_u,useReducer:_i,useRef:ju,useState:function(){return _i(ss)},useDebugValue:Ci,useDeferredValue:function(e){var t=bt();return Ue===null?t.memoizedState=e:Iu(t,Ue.memoizedState,e)},useTransition:function(){var e=_i(ss)[0],t=bt().memoizedState;return[e,t]},useMutableSource:mu,useSyncExternalStore:fu,useId:Cu,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ai(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=at(),i=yn(e),c=Gt(s,i);c.payload=t,n!=null&&(c.callback=n),t=pn(e,c,i),t!==null&&(Rt(t,e,i,s),aa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=at(),i=yn(e),c=Gt(s,i);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=pn(e,c,i),t!==null&&(Rt(t,e,i,s),aa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),s=yn(e),i=Gt(n,s);i.tag=2,t!=null&&(i.callback=t),t=pn(e,i,s),t!==null&&(Rt(t,e,s,n),aa(t,e,s))}};function Pu(e,t,n,s,i,c,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,x):t.prototype&&t.prototype.isPureReactComponent?!$r(n,s)||!$r(i,c):!0}function Mu(e,t,n){var s=!1,i=dn,c=t.contextType;return typeof c=="object"&&c!==null?c=Nt(c):(i=ct(t)?Cn:et.current,s=t.contextTypes,c=(s=s!=null)?ar(e,i):dn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=c),t}function Ru(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function Ei(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gi(e);var c=t.contextType;typeof c=="object"&&c!==null?i.context=Nt(c):(c=ct(t)?Cn:et.current,i.context=ar(e,c)),i.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Ai(e,t,c,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),la(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var n="",s=t;do n+=ae(s),s=s.return;while(s);var i=n}catch(c){i=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:i,digest:null}}function Ti(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function Ou(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){ja||(ja=!0,Ji=s),Pi(e,t)},n}function zu(e,t,n){n=Gt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){Pi(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Pi(e,t),typeof s!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),n}function Lu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new sp;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=yp.bind(null,e,t,n),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fu(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var ap=q.ReactCurrentOwner,ut=!1;function st(e,t,n,s){t.child=e===null?lu(t,null,n,s):cr(t,e.child,n,s)}function Uu(e,t,n,s,i){n=n.render;var c=t.ref;return dr(t,i),s=Ni(e,t,n,s,c,i),n=bi(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(Ae&&n&&ii(t),t.flags|=1,st(e,t,s,i),t.child)}function Bu(e,t,n,s,i){if(e===null){var c=n.type;return typeof c=="function"&&!to(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Wu(e,t,c,s,i)):(e=Da(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&i)){var x=c.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(x,s)&&e.ref===t.ref)return Yt(e,t,i)}return t.flags|=1,e=jn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Wu(e,t,n,s,i){if(e!==null){var c=e.memoizedProps;if($r(c,s)&&e.ref===t.ref)if(ut=!1,t.pendingProps=s=c,(e.lanes&i)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Yt(e,t,i)}return Mi(e,t,n,s,i)}function Qu(e,t,n){var s=t.pendingProps,i=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(xr,jt),jt|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(xr,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:n,_e(xr,jt),jt|=s}else c!==null?(s=c.baseLanes|n,t.memoizedState=null):s=n,_e(xr,jt),jt|=s;return st(e,t,i,n),t.child}function $u(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mi(e,t,n,s,i){var c=ct(n)?Cn:et.current;return c=ar(t,c),dr(t,i),n=Ni(e,t,n,s,c,i),s=bi(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(Ae&&s&&ii(t),t.flags|=1,st(e,t,n,i),t.child)}function Vu(e,t,n,s,i){if(ct(n)){var c=!0;Ys(t)}else c=!1;if(dr(t,i),t.stateNode===null)xa(e,t),Mu(t,n,s),Ei(t,n,s,i),s=!0;else if(e===null){var x=t.stateNode,j=t.memoizedProps;x.props=j;var k=x.context,R=n.contextType;typeof R=="object"&&R!==null?R=Nt(R):(R=ct(n)?Cn:et.current,R=ar(t,R));var H=n.getDerivedStateFromProps,J=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function";J||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==s||k!==R)&&Ru(t,x,s,R),fn=!1;var V=t.memoizedState;x.state=V,la(t,s,x,i),k=t.memoizedState,j!==s||V!==k||ot.current||fn?(typeof H=="function"&&(Ai(t,n,H,s),k=t.memoizedState),(j=fn||Pu(t,n,j,s,V,k,R))?(J||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),x.props=s,x.state=k,x.context=R,s=j):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{x=t.stateNode,ou(e,t),j=t.memoizedProps,R=t.type===t.elementType?j:Tt(t.type,j),x.props=R,J=t.pendingProps,V=x.context,k=n.contextType,typeof k=="object"&&k!==null?k=Nt(k):(k=ct(n)?Cn:et.current,k=ar(t,k));var se=n.getDerivedStateFromProps;(H=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==J||V!==k)&&Ru(t,x,s,k),fn=!1,V=t.memoizedState,x.state=V,la(t,s,x,i);var oe=t.memoizedState;j!==J||V!==oe||ot.current||fn?(typeof se=="function"&&(Ai(t,n,se,s),oe=t.memoizedState),(R=fn||Pu(t,n,R,s,V,oe,k)||!1)?(H||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(s,oe,k),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(s,oe,k)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=oe),x.props=s,x.state=oe,x.context=k,s=R):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),s=!1)}return Ri(e,t,n,s,c,i)}function Ri(e,t,n,s,i,c){$u(e,t);var x=(t.flags&128)!==0;if(!s&&!x)return i&&Yc(t,n,!1),Yt(e,t,c);s=t.stateNode,ap.current=t;var j=x&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&x?(t.child=cr(t,e.child,null,c),t.child=cr(t,null,j,c)):st(e,t,j,c),t.memoizedState=s.state,i&&Yc(t,n,!0),t.child}function Hu(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),yi(e,t.containerInfo)}function Ju(e,t,n,s,i){return or(),di(i),t.flags|=256,st(e,t,n,s),t.child}var Oi={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function qu(e,t,n){var s=t.pendingProps,i=Te.current,c=!1,x=(t.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(i&2)!==0),j?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Te,i&1),e===null)return ui(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=s.children,e=s.fallback,c?(s=t.mode,c=t.child,x={mode:"hidden",children:x},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=x):c=_a(x,s,0,null),e=Kn(e,s,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=zi(n),t.memoizedState=Oi,e):Li(t,x));if(i=e.memoizedState,i!==null&&(j=i.dehydrated,j!==null))return lp(e,t,x,s,j,i,n);if(c){c=s.fallback,x=t.mode,i=e.child,j=i.sibling;var k={mode:"hidden",children:s.children};return!(x&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=k,t.deletions=null):(s=jn(i,k),s.subtreeFlags=i.subtreeFlags&14680064),j!==null?c=jn(j,c):(c=Kn(c,x,n,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,x=e.child.memoizedState,x=x===null?zi(n):{baseLanes:x.baseLanes|n,cachePool:null,transitions:x.transitions},c.memoizedState=x,c.childLanes=e.childLanes&~n,t.memoizedState=Oi,s}return c=e.child,e=c.sibling,s=jn(c,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Li(e,t){return t=_a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pa(e,t,n,s){return s!==null&&di(s),cr(t,e.child,null,n),e=Li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lp(e,t,n,s,i,c,x){if(n)return t.flags&256?(t.flags&=-257,s=Ti(Error(a(422))),pa(e,t,x,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,i=t.mode,s=_a({mode:"visible",children:s.children},i,0,null),c=Kn(c,i,x,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,t.mode&1&&cr(t,e.child,null,x),t.child.memoizedState=zi(x),t.memoizedState=Oi,c);if(!(t.mode&1))return pa(e,t,x,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var j=s.dgst;return s=j,c=Error(a(419)),s=Ti(c,s,void 0),pa(e,t,x,s)}if(j=(x&e.childLanes)!==0,ut||j){if(s=$e,s!==null){switch(x&-x){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|x)?0:i,i!==0&&i!==c.retryLane&&(c.retryLane=i,qt(e,i),Rt(s,e,i,-1))}return eo(),s=Ti(Error(a(421))),pa(e,t,x,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vp.bind(null,e),i._reactRetry=t,null):(e=c.treeContext,vt=cn(i.nextSibling),yt=t,Ae=!0,Et=null,e!==null&&(kt[St++]=Ht,kt[St++]=Jt,kt[St++]=An,Ht=e.id,Jt=e.overflow,An=t),t=Li(t,s.children),t.flags|=4096,t)}function Gu(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xi(e.return,t,n)}function Ki(e,t,n,s,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=i)}function Yu(e,t,n){var s=t.pendingProps,i=s.revealOrder,c=s.tail;if(st(e,t,s.children,n),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,n,t);else if(e.tag===19)Gu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(_e(Te,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ia(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ki(t,!1,i,n,c);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ia(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ki(t,!0,n,null,c);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ip(e,t,n){switch(t.tag){case 3:Hu(t),or();break;case 5:du(t);break;case 1:ct(t.type)&&Ys(t);break;case 4:yi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;_e(ra,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?qu(e,t,n):(_e(Te,Te.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Yu(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,Qu(e,t,n)}return Yt(e,t,n)}var Xu,Fi,Zu,ed;Xu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fi=function(){},Zu=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Pn(Ft.current);var c=null;switch(n){case"input":i=xl(e,i),s=xl(e,s),c=[];break;case"select":i=W({},i,{value:void 0}),s=W({},s,{value:void 0}),c=[];break;case"textarea":i=yl(e,i),s=yl(e,s),c=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Js)}jl(n,s);var x;n=null;for(R in i)if(!s.hasOwnProperty(R)&&i.hasOwnProperty(R)&&i[R]!=null)if(R==="style"){var j=i[R];for(x in j)j.hasOwnProperty(x)&&(n||(n={}),n[x]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(f.hasOwnProperty(R)?c||(c=[]):(c=c||[]).push(R,null));for(R in s){var k=s[R];if(j=i!=null?i[R]:void 0,s.hasOwnProperty(R)&&k!==j&&(k!=null||j!=null))if(R==="style")if(j){for(x in j)!j.hasOwnProperty(x)||k&&k.hasOwnProperty(x)||(n||(n={}),n[x]="");for(x in k)k.hasOwnProperty(x)&&j[x]!==k[x]&&(n||(n={}),n[x]=k[x])}else n||(c||(c=[]),c.push(R,n)),n=k;else R==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,j=j?j.__html:void 0,k!=null&&j!==k&&(c=c||[]).push(R,k)):R==="children"?typeof k!="string"&&typeof k!="number"||(c=c||[]).push(R,""+k):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(f.hasOwnProperty(R)?(k!=null&&R==="onScroll"&&Ie("scroll",e),c||j===k||(c=[])):(c=c||[]).push(R,k))}n&&(c=c||[]).push("style",n);var R=c;(t.updateQueue=R)&&(t.flags|=4)}},ed=function(e,t,n,s){n!==s&&(t.flags|=4)};function ls(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function op(e,t,n){var s=t.pendingProps;switch(oi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ct(t.type)&&Gs(),nt(t),null;case 3:return s=t.stateNode,mr(),Ce(ot),Ce(et),wi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Yi(Et),Et=null))),Fi(e,t),nt(t),null;case 5:vi(t);var i=Pn(ts.current);if(n=t.type,e!==null&&t.stateNode!=null)Zu(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(a(166));return nt(t),null}if(e=Pn(Ft.current),ta(t)){s=t.stateNode,n=t.type;var c=t.memoizedProps;switch(s[Kt]=t,s[Gr]=c,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(i=0;i<Hr.length;i++)Ie(Hr[i],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Mo(s,c),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},Ie("invalid",s);break;case"textarea":zo(s,c),Ie("invalid",s)}jl(n,c),i=null;for(var x in c)if(c.hasOwnProperty(x)){var j=c[x];x==="children"?typeof j=="string"?s.textContent!==j&&(c.suppressHydrationWarning!==!0&&Hs(s.textContent,j,e),i=["children",j]):typeof j=="number"&&s.textContent!==""+j&&(c.suppressHydrationWarning!==!0&&Hs(s.textContent,j,e),i=["children",""+j]):f.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&Ie("scroll",s)}switch(n){case"input":De(s),Oo(s,c,!0);break;case"textarea":De(s),Ko(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Js)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{x=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=x.createElement(n,{is:s.is}):(e=x.createElement(n),n==="select"&&(x=e,s.multiple?x.multiple=!0:s.size&&(x.size=s.size))):e=x.createElementNS(e,n),e[Kt]=t,e[Gr]=s,Xu(e,t,!1,!1),t.stateNode=e;e:{switch(x=wl(n,s),n){case"dialog":Ie("cancel",e),Ie("close",e),i=s;break;case"iframe":case"object":case"embed":Ie("load",e),i=s;break;case"video":case"audio":for(i=0;i<Hr.length;i++)Ie(Hr[i],e);i=s;break;case"source":Ie("error",e),i=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=s;break;case"details":Ie("toggle",e),i=s;break;case"input":Mo(e,s),i=xl(e,s),Ie("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=W({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":zo(e,s),i=yl(e,s),Ie("invalid",e);break;default:i=s}jl(n,i),j=i;for(c in j)if(j.hasOwnProperty(c)){var k=j[c];c==="style"?Wo(e,k):c==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Uo(e,k)):c==="children"?typeof k=="string"?(n!=="textarea"||k!=="")&&Ir(e,k):typeof k=="number"&&Ir(e,""+k):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(f.hasOwnProperty(c)?k!=null&&c==="onScroll"&&Ie("scroll",e):k!=null&&Q(e,c,k,x))}switch(n){case"input":De(e),Oo(e,s,!1);break;case"textarea":De(e),Ko(e);break;case"option":s.value!=null&&e.setAttribute("value",""+re(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Hn(e,!!s.multiple,c,!1):s.defaultValue!=null&&Hn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)ed(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(n=Pn(ts.current),Pn(Ft.current),ta(t)){if(s=t.stateNode,n=t.memoizedProps,s[Kt]=t,(c=s.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:Hs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(s.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Kt]=t,t.stateNode=s}return nt(t),null;case 13:if(Ce(Te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&vt!==null&&t.mode&1&&!(t.flags&128))ru(),or(),t.flags|=98560,c=!1;else if(c=ta(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Kt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),c=!1}else Et!==null&&(Yi(Et),Et=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Be===0&&(Be=3):eo())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return mr(),Fi(e,t),e===null&&Jr(t.stateNode.containerInfo),nt(t),null;case 10:return pi(t.type._context),nt(t),null;case 17:return ct(t.type)&&Gs(),nt(t),null;case 19:if(Ce(Te),c=t.memoizedState,c===null)return nt(t),null;if(s=(t.flags&128)!==0,x=c.rendering,x===null)if(s)ls(c,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=ia(e),x!==null){for(t.flags|=128,ls(c,!1),s=x.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)c=n,e=s,c.flags&=14680066,x=c.alternate,x===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,e=x.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}c.tail!==null&&Oe()>hr&&(t.flags|=128,s=!0,ls(c,!1),t.lanes=4194304)}else{if(!s)if(e=ia(x),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ls(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!Ae)return nt(t),null}else 2*Oe()-c.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,s=!0,ls(c,!1),t.lanes=4194304);c.isBackwards?(x.sibling=t.child,t.child=x):(n=c.last,n!==null?n.sibling=x:t.child=x,c.last=x)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Oe(),t.sibling=null,n=Te.current,_e(Te,s?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return Zi(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?jt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function cp(e,t){switch(oi(t),t.tag){case 1:return ct(t.type)&&Gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),Ce(ot),Ce(et),wi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vi(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return mr(),null;case 10:return pi(t.type._context),null;case 22:case 23:return Zi(),null;case 24:return null;default:return null}}var ha=!1,rt=!1,up=typeof WeakSet=="function"?WeakSet:Set,le=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Me(e,t,s)}else n.current=null}function Ui(e,t,n){try{n()}catch(s){Me(e,t,s)}}var td=!1;function dp(e,t){if(Zl=Os,e=Pc(),$l(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var x=0,j=-1,k=-1,R=0,H=0,J=e,V=null;t:for(;;){for(var se;J!==n||i!==0&&J.nodeType!==3||(j=x+i),J!==c||s!==0&&J.nodeType!==3||(k=x+s),J.nodeType===3&&(x+=J.nodeValue.length),(se=J.firstChild)!==null;)V=J,J=se;for(;;){if(J===e)break t;if(V===n&&++R===i&&(j=x),V===c&&++H===s&&(k=x),(se=J.nextSibling)!==null)break;J=V,V=J.parentNode}J=se}n=j===-1||k===-1?null:{start:j,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Os=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var oe=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ue=oe.memoizedProps,ze=oe.memoizedState,A=t.stateNode,D=A.getSnapshotBeforeUpdate(t.elementType===t.type?ue:Tt(t.type,ue),ze);A.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Y){Me(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return oe=td,td=!1,oe}function is(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var c=i.destroy;i.destroy=void 0,c!==void 0&&Ui(t,n,c)}i=i.next}while(i!==s)}}function ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Bi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nd(e){var t=e.alternate;t!==null&&(e.alternate=null,nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Gr],delete t[si],delete t[Hf],delete t[Jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(s!==4&&(e=e.child,e!==null))for(Wi(e,t,n),e=e.sibling;e!==null;)Wi(e,t,n),e=e.sibling}function Qi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Qi(e,t,n),e=e.sibling;e!==null;)Qi(e,t,n),e=e.sibling}var Ge=null,Pt=!1;function xn(e,t,n){for(n=n.child;n!==null;)ad(e,t,n),n=n.sibling}function ad(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 5:rt||pr(n,t);case 6:var s=Ge,i=Pt;Ge=null,xn(e,t,n),Ge=s,Pt=i,Ge!==null&&(Pt?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Pt?(e=Ge,n=n.stateNode,e.nodeType===8?ri(e.parentNode,n):e.nodeType===1&&ri(e,n),Kr(e)):ri(Ge,n.stateNode));break;case 4:s=Ge,i=Pt,Ge=n.stateNode.containerInfo,Pt=!0,xn(e,t,n),Ge=s,Pt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var c=i,x=c.destroy;c=c.tag,x!==void 0&&(c&2||c&4)&&Ui(n,t,x),i=i.next}while(i!==s)}xn(e,t,n);break;case 1:if(!rt&&(pr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(j){Me(n,t,j)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(rt=(s=rt)||n.memoizedState!==null,xn(e,t,n),rt=s):xn(e,t,n);break;default:xn(e,t,n)}}function ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new up),t.forEach(function(s){var i=jp.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var c=e,x=t,j=x;e:for(;j!==null;){switch(j.tag){case 5:Ge=j.stateNode,Pt=!1;break e;case 3:Ge=j.stateNode.containerInfo,Pt=!0;break e;case 4:Ge=j.stateNode.containerInfo,Pt=!0;break e}j=j.return}if(Ge===null)throw Error(a(160));ad(c,x,i),Ge=null,Pt=!1;var k=i.alternate;k!==null&&(k.return=null),i.return=null}catch(R){Me(i,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)id(t,e),t=t.sibling}function id(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Bt(e),s&4){try{is(3,e,e.return),ga(3,e)}catch(ue){Me(e,e.return,ue)}try{is(5,e,e.return)}catch(ue){Me(e,e.return,ue)}}break;case 1:Mt(t,e),Bt(e),s&512&&n!==null&&pr(n,n.return);break;case 5:if(Mt(t,e),Bt(e),s&512&&n!==null&&pr(n,n.return),e.flags&32){var i=e.stateNode;try{Ir(i,"")}catch(ue){Me(e,e.return,ue)}}if(s&4&&(i=e.stateNode,i!=null)){var c=e.memoizedProps,x=n!==null?n.memoizedProps:c,j=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{j==="input"&&c.type==="radio"&&c.name!=null&&Ro(i,c),wl(j,x);var R=wl(j,c);for(x=0;x<k.length;x+=2){var H=k[x],J=k[x+1];H==="style"?Wo(i,J):H==="dangerouslySetInnerHTML"?Uo(i,J):H==="children"?Ir(i,J):Q(i,H,J,R)}switch(j){case"input":hl(i,c);break;case"textarea":Lo(i,c);break;case"select":var V=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!c.multiple;var se=c.value;se!=null?Hn(i,!!c.multiple,se,!1):V!==!!c.multiple&&(c.defaultValue!=null?Hn(i,!!c.multiple,c.defaultValue,!0):Hn(i,!!c.multiple,c.multiple?[]:"",!1))}i[Gr]=c}catch(ue){Me(e,e.return,ue)}}break;case 6:if(Mt(t,e),Bt(e),s&4){if(e.stateNode===null)throw Error(a(162));i=e.stateNode,c=e.memoizedProps;try{i.nodeValue=c}catch(ue){Me(e,e.return,ue)}}break;case 3:if(Mt(t,e),Bt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Kr(t.containerInfo)}catch(ue){Me(e,e.return,ue)}break;case 4:Mt(t,e),Bt(e);break;case 13:Mt(t,e),Bt(e),i=e.child,i.flags&8192&&(c=i.memoizedState!==null,i.stateNode.isHidden=c,!c||i.alternate!==null&&i.alternate.memoizedState!==null||(Hi=Oe())),s&4&&ld(e);break;case 22:if(H=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(R=rt)||H,Mt(t,e),rt=R):Mt(t,e),Bt(e),s&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!H&&e.mode&1)for(le=e,H=e.child;H!==null;){for(J=le=H;le!==null;){switch(V=le,se=V.child,V.tag){case 0:case 11:case 14:case 15:is(4,V,V.return);break;case 1:pr(V,V.return);var oe=V.stateNode;if(typeof oe.componentWillUnmount=="function"){s=V,n=V.return;try{t=s,oe.props=t.memoizedProps,oe.state=t.memoizedState,oe.componentWillUnmount()}catch(ue){Me(s,n,ue)}}break;case 5:pr(V,V.return);break;case 22:if(V.memoizedState!==null){ud(J);continue}}se!==null?(se.return=V,le=se):ud(J)}H=H.sibling}e:for(H=null,J=e;;){if(J.tag===5){if(H===null){H=J;try{i=J.stateNode,R?(c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(j=J.stateNode,k=J.memoizedProps.style,x=k!=null&&k.hasOwnProperty("display")?k.display:null,j.style.display=Bo("display",x))}catch(ue){Me(e,e.return,ue)}}}else if(J.tag===6){if(H===null)try{J.stateNode.nodeValue=R?"":J.memoizedProps}catch(ue){Me(e,e.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===e)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===e)break e;for(;J.sibling===null;){if(J.return===null||J.return===e)break e;H===J&&(H=null),J=J.return}H===J&&(H=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Mt(t,e),Bt(e),s&4&&ld(e);break;case 21:break;default:Mt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rd(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ir(i,""),s.flags&=-33);var c=sd(e);Qi(e,c,i);break;case 3:case 4:var x=s.stateNode.containerInfo,j=sd(e);Wi(e,j,x);break;default:throw Error(a(161))}}catch(k){Me(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mp(e,t,n){le=e,od(e)}function od(e,t,n){for(var s=(e.mode&1)!==0;le!==null;){var i=le,c=i.child;if(i.tag===22&&s){var x=i.memoizedState!==null||ha;if(!x){var j=i.alternate,k=j!==null&&j.memoizedState!==null||rt;j=ha;var R=rt;if(ha=x,(rt=k)&&!R)for(le=i;le!==null;)x=le,k=x.child,x.tag===22&&x.memoizedState!==null?dd(i):k!==null?(k.return=x,le=k):dd(i);for(;c!==null;)le=c,od(c),c=c.sibling;le=i,ha=j,rt=R}cd(e)}else i.subtreeFlags&8772&&c!==null?(c.return=i,le=c):cd(e)}}function cd(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||ga(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!rt)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&uu(t,c,s);break;case 3:var x=t.updateQueue;if(x!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,x,n)}break;case 5:var j=t.stateNode;if(n===null&&t.flags&4){n=j;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&n.focus();break;case"img":k.src&&(n.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var H=R.memoizedState;if(H!==null){var J=H.dehydrated;J!==null&&Kr(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}rt||t.flags&512&&Bi(t)}catch(V){Me(t,t.return,V)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function ud(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function dd(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ga(4,t)}catch(k){Me(t,n,k)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(k){Me(t,i,k)}}var c=t.return;try{Bi(t)}catch(k){Me(t,c,k)}break;case 5:var x=t.return;try{Bi(t)}catch(k){Me(t,x,k)}}}catch(k){Me(t,t.return,k)}if(t===e){le=null;break}var j=t.sibling;if(j!==null){j.return=t.return,le=j;break}le=t.return}}var fp=Math.ceil,ya=q.ReactCurrentDispatcher,$i=q.ReactCurrentOwner,Dt=q.ReactCurrentBatchConfig,ke=0,$e=null,Le=null,Ye=0,jt=0,xr=un(0),Be=0,os=null,Rn=0,va=0,Vi=0,cs=null,dt=null,Hi=0,hr=1/0,Xt=null,ja=!1,Ji=null,hn=null,wa=!1,gn=null,ka=0,us=0,qi=null,Sa=-1,Na=0;function at(){return ke&6?Oe():Sa!==-1?Sa:Sa=Oe()}function yn(e){return e.mode&1?ke&2&&Ye!==0?Ye&-Ye:Gf.transition!==null?(Na===0&&(Na=sc()),Na):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:fc(e.type)),e):1}function Rt(e,t,n,s){if(50<us)throw us=0,qi=null,Error(a(185));Mr(e,n,s),(!(ke&2)||e!==$e)&&(e===$e&&(!(ke&2)&&(va|=n),Be===4&&vn(e,Ye)),mt(e,s),n===1&&ke===0&&!(t.mode&1)&&(hr=Oe()+500,Xs&&mn()))}function mt(e,t){var n=e.callbackNode;qm(e,t);var s=Ps(e,e===$e?Ye:0);if(s===0)n!==null&&tc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&tc(n),t===1)e.tag===0?qf(fd.bind(null,e)):Xc(fd.bind(null,e)),$f(function(){!(ke&6)&&mn()}),n=null;else{switch(ac(s)){case 1:n=Il;break;case 4:n=nc;break;case 16:n=Cs;break;case 536870912:n=rc;break;default:n=Cs}n=wd(n,md.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function md(e,t){if(Sa=-1,Na=0,ke&6)throw Error(a(327));var n=e.callbackNode;if(gr()&&e.callbackNode!==n)return null;var s=Ps(e,e===$e?Ye:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ba(e,s);else{t=s;var i=ke;ke|=2;var c=xd();($e!==e||Ye!==t)&&(Xt=null,hr=Oe()+500,zn(e,t));do try{hp();break}catch(j){pd(e,j)}while(!0);fi(),ya.current=c,ke=i,Le!==null?t=0:($e=null,Ye=0,t=Be)}if(t!==0){if(t===2&&(i=Cl(e),i!==0&&(s=i,t=Gi(e,i))),t===1)throw n=os,zn(e,0),vn(e,s),mt(e,Oe()),n;if(t===6)vn(e,s);else{if(i=e.current.alternate,!(s&30)&&!pp(i)&&(t=ba(e,s),t===2&&(c=Cl(e),c!==0&&(s=c,t=Gi(e,c))),t===1))throw n=os,zn(e,0),vn(e,s),mt(e,Oe()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:Ln(e,dt,Xt);break;case 3:if(vn(e,s),(s&130023424)===s&&(t=Hi+500-Oe(),10<t)){if(Ps(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){at(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(Ln.bind(null,e,dt,Xt),t);break}Ln(e,dt,Xt);break;case 4:if(vn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var x=31-Ct(s);c=1<<x,x=t[x],x>i&&(i=x),s&=~c}if(s=i,s=Oe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*fp(s/1960))-s,10<s){e.timeoutHandle=ni(Ln.bind(null,e,dt,Xt),s);break}Ln(e,dt,Xt);break;case 5:Ln(e,dt,Xt);break;default:throw Error(a(329))}}}return mt(e,Oe()),e.callbackNode===n?md.bind(null,e):null}function Gi(e,t){var n=cs;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=ba(e,t),e!==2&&(t=dt,dt=n,t!==null&&Yi(t)),e}function Yi(e){dt===null?dt=e:dt.push.apply(dt,e)}function pp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],c=i.getSnapshot;i=i.value;try{if(!At(c(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~Vi,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),s=1<<n;e[n]=-1,t&=~s}}function fd(e){if(ke&6)throw Error(a(327));gr();var t=Ps(e,0);if(!(t&1))return mt(e,Oe()),null;var n=ba(e,t);if(e.tag!==0&&n===2){var s=Cl(e);s!==0&&(t=s,n=Gi(e,s))}if(n===1)throw n=os,zn(e,0),vn(e,t),mt(e,Oe()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,dt,Xt),mt(e,Oe()),null}function Xi(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(hr=Oe()+500,Xs&&mn())}}function On(e){gn!==null&&gn.tag===0&&!(ke&6)&&gr();var t=ke;ke|=1;var n=Dt.transition,s=Ne;try{if(Dt.transition=null,Ne=1,e)return e()}finally{Ne=s,Dt.transition=n,ke=t,!(ke&6)&&mn()}}function Zi(){jt=xr.current,Ce(xr)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qf(n)),Le!==null)for(n=Le.return;n!==null;){var s=n;switch(oi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Gs();break;case 3:mr(),Ce(ot),Ce(et),wi();break;case 5:vi(s);break;case 4:mr();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:pi(s.type._context);break;case 22:case 23:Zi()}n=n.return}if($e=e,Le=e=jn(e.current,null),Ye=jt=t,Be=0,os=null,Vi=va=Rn=0,dt=cs=null,Tn!==null){for(t=0;t<Tn.length;t++)if(n=Tn[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,c=n.pending;if(c!==null){var x=c.next;c.next=i,s.next=x}n.pending=s}Tn=null}return e}function pd(e,t){do{var n=Le;try{if(fi(),oa.current=ma,ca){for(var s=Pe.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}ca=!1}if(Mn=0,Qe=Ue=Pe=null,ns=!1,rs=0,$i.current=null,n===null||n.return===null){Be=1,os=t,Le=null;break}e:{var c=e,x=n.return,j=n,k=t;if(t=Ye,j.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var R=k,H=j,J=H.tag;if(!(H.mode&1)&&(J===0||J===11||J===15)){var V=H.alternate;V?(H.updateQueue=V.updateQueue,H.memoizedState=V.memoizedState,H.lanes=V.lanes):(H.updateQueue=null,H.memoizedState=null)}var se=Ku(x);if(se!==null){se.flags&=-257,Fu(se,x,j,c,t),se.mode&1&&Lu(c,R,t),t=se,k=R;var oe=t.updateQueue;if(oe===null){var ue=new Set;ue.add(k),t.updateQueue=ue}else oe.add(k);break e}else{if(!(t&1)){Lu(c,R,t),eo();break e}k=Error(a(426))}}else if(Ae&&j.mode&1){var ze=Ku(x);if(ze!==null){!(ze.flags&65536)&&(ze.flags|=256),Fu(ze,x,j,c,t),di(fr(k,j));break e}}c=k=fr(k,j),Be!==4&&(Be=2),cs===null?cs=[c]:cs.push(c),c=x;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var A=Ou(c,k,t);cu(c,A);break e;case 1:j=k;var D=c.type,T=c.stateNode;if(!(c.flags&128)&&(typeof D.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(hn===null||!hn.has(T)))){c.flags|=65536,t&=-t,c.lanes|=t;var Y=zu(c,j,t);cu(c,Y);break e}}c=c.return}while(c!==null)}gd(n)}catch(me){t=me,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function xd(){var e=ya.current;return ya.current=ma,e===null?ma:e}function eo(){(Be===0||Be===3||Be===2)&&(Be=4),$e===null||!(Rn&268435455)&&!(va&268435455)||vn($e,Ye)}function ba(e,t){var n=ke;ke|=2;var s=xd();($e!==e||Ye!==t)&&(Xt=null,zn(e,t));do try{xp();break}catch(i){pd(e,i)}while(!0);if(fi(),ke=n,ya.current=s,Le!==null)throw Error(a(261));return $e=null,Ye=0,Be}function xp(){for(;Le!==null;)hd(Le)}function hp(){for(;Le!==null&&!Fm();)hd(Le)}function hd(e){var t=jd(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?gd(e):Le=t,$i.current=null}function gd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cp(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Le=null;return}}else if(n=op(n,t,jt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Be===0&&(Be=5)}function Ln(e,t,n){var s=Ne,i=Dt.transition;try{Dt.transition=null,Ne=1,gp(e,t,n,s)}finally{Dt.transition=i,Ne=s}return null}function gp(e,t,n,s){do gr();while(gn!==null);if(ke&6)throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Gm(e,c),e===$e&&(Le=$e=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wa||(wa=!0,wd(Cs,function(){return gr(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=Dt.transition,Dt.transition=null;var x=Ne;Ne=1;var j=ke;ke|=4,$i.current=null,dp(e,n),id(n,e),zf(ei),Os=!!Zl,ei=Zl=null,e.current=n,mp(n),Um(),ke=j,Ne=x,Dt.transition=c}else e.current=n;if(wa&&(wa=!1,gn=e,ka=i),c=e.pendingLanes,c===0&&(hn=null),Qm(n.stateNode),mt(e,Oe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(ja)throw ja=!1,e=Ji,Ji=null,e;return ka&1&&e.tag!==0&&gr(),c=e.pendingLanes,c&1?e===qi?us++:(us=0,qi=e):us=0,mn(),null}function gr(){if(gn!==null){var e=ac(ka),t=Dt.transition,n=Ne;try{if(Dt.transition=null,Ne=16>e?16:e,gn===null)var s=!1;else{if(e=gn,gn=null,ka=0,ke&6)throw Error(a(331));var i=ke;for(ke|=4,le=e.current;le!==null;){var c=le,x=c.child;if(le.flags&16){var j=c.deletions;if(j!==null){for(var k=0;k<j.length;k++){var R=j[k];for(le=R;le!==null;){var H=le;switch(H.tag){case 0:case 11:case 15:is(8,H,c)}var J=H.child;if(J!==null)J.return=H,le=J;else for(;le!==null;){H=le;var V=H.sibling,se=H.return;if(nd(H),H===R){le=null;break}if(V!==null){V.return=se,le=V;break}le=se}}}var oe=c.alternate;if(oe!==null){var ue=oe.child;if(ue!==null){oe.child=null;do{var ze=ue.sibling;ue.sibling=null,ue=ze}while(ue!==null)}}le=c}}if(c.subtreeFlags&2064&&x!==null)x.return=c,le=x;else e:for(;le!==null;){if(c=le,c.flags&2048)switch(c.tag){case 0:case 11:case 15:is(9,c,c.return)}var A=c.sibling;if(A!==null){A.return=c.return,le=A;break e}le=c.return}}var D=e.current;for(le=D;le!==null;){x=le;var T=x.child;if(x.subtreeFlags&2064&&T!==null)T.return=x,le=T;else e:for(x=D;le!==null;){if(j=le,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:ga(9,j)}}catch(me){Me(j,j.return,me)}if(j===x){le=null;break e}var Y=j.sibling;if(Y!==null){Y.return=j.return,le=Y;break e}le=j.return}}if(ke=i,mn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(As,e)}catch{}s=!0}return s}finally{Ne=n,Dt.transition=t}}return!1}function yd(e,t,n){t=fr(n,t),t=Ou(e,t,1),e=pn(e,t,1),t=at(),e!==null&&(Mr(e,1,t),mt(e,t))}function Me(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hn===null||!hn.has(s))){e=fr(n,e),e=zu(t,e,1),t=pn(t,e,1),e=at(),t!==null&&(Mr(t,1,e),mt(t,e));break}}t=t.return}}function yp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ye&n)===n&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>Oe()-Hi?zn(e,0):Vi|=n),mt(e,t)}function vd(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=at();e=qt(e,t),e!==null&&(Mr(e,t,n),mt(e,n))}function vp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function jp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}s!==null&&s.delete(t),vd(e,n)}var jd;jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,ip(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Ae&&t.flags&1048576&&Zc(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xa(e,t),e=t.pendingProps;var i=ar(t,et.current);dr(t,n),i=Ni(null,t,s,e,i,n);var c=bi();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(s)?(c=!0,Ys(t)):c=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gi(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,Ei(t,s,e,n),t=Ri(null,t,s,!0,c,n)):(t.tag=0,Ae&&c&&ii(t),st(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=kp(s),e=Tt(s,e),i){case 0:t=Mi(null,t,s,e,n);break e;case 1:t=Vu(null,t,s,e,n);break e;case 11:t=Uu(null,t,s,e,n);break e;case 14:t=Bu(null,t,s,Tt(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Tt(s,i),Mi(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Tt(s,i),Vu(e,t,s,i,n);case 3:e:{if(Hu(t),e===null)throw Error(a(387));s=t.pendingProps,c=t.memoizedState,i=c.element,ou(e,t),la(t,s,null,n);var x=t.memoizedState;if(s=x.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){i=fr(Error(a(423)),t),t=Ju(e,t,s,n,i);break e}else if(s!==i){i=fr(Error(a(424)),t),t=Ju(e,t,s,n,i);break e}else for(vt=cn(t.stateNode.containerInfo.firstChild),yt=t,Ae=!0,Et=null,n=lu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),s===i){t=Yt(e,t,n);break e}st(e,t,s,n)}t=t.child}return t;case 5:return du(t),e===null&&ui(t),s=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,x=i.children,ti(s,i)?x=null:c!==null&&ti(s,c)&&(t.flags|=32),$u(e,t),st(e,t,x,n),t.child;case 6:return e===null&&ui(t),null;case 13:return qu(e,t,n);case 4:return yi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cr(t,null,s,n):st(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Tt(s,i),Uu(e,t,s,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,c=t.memoizedProps,x=i.value,_e(ra,s._currentValue),s._currentValue=x,c!==null)if(At(c.value,x)){if(c.children===i.children&&!ot.current){t=Yt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var j=c.dependencies;if(j!==null){x=c.child;for(var k=j.firstContext;k!==null;){if(k.context===s){if(c.tag===1){k=Gt(-1,n&-n),k.tag=2;var R=c.updateQueue;if(R!==null){R=R.shared;var H=R.pending;H===null?k.next=k:(k.next=H.next,H.next=k),R.pending=k}}c.lanes|=n,k=c.alternate,k!==null&&(k.lanes|=n),xi(c.return,n,t),j.lanes|=n;break}k=k.next}}else if(c.tag===10)x=c.type===t.type?null:c.child;else if(c.tag===18){if(x=c.return,x===null)throw Error(a(341));x.lanes|=n,j=x.alternate,j!==null&&(j.lanes|=n),xi(x,n,t),x=c.sibling}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===t){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,dr(t,n),i=Nt(i),s=s(i),t.flags|=1,st(e,t,s,n),t.child;case 14:return s=t.type,i=Tt(s,t.pendingProps),i=Tt(s.type,i),Bu(e,t,s,i,n);case 15:return Wu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Tt(s,i),xa(e,t),t.tag=1,ct(s)?(e=!0,Ys(t)):e=!1,dr(t,n),Mu(t,s,i),Ei(t,s,i,n),Ri(null,t,s,!0,e,n);case 19:return Yu(e,t,n);case 22:return Qu(e,t,n)}throw Error(a(156,t.tag))};function wd(e,t){return ec(e,t)}function wp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,s){return new wp(e,t,n,s)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return to(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C)return 11;if(e===xe)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Da(e,t,n,s,i,c){var x=2;if(s=e,typeof e=="function")to(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case U:return Kn(n.children,i,c,t);case E:x=8,i|=8;break;case B:return e=_t(12,n,t,i|2),e.elementType=B,e.lanes=c,e;case G:return e=_t(13,n,t,i),e.elementType=G,e.lanes=c,e;case te:return e=_t(19,n,t,i),e.elementType=te,e.lanes=c,e;case b:return _a(n,i,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:x=10;break e;case _:x=9;break e;case C:x=11;break e;case xe:x=14;break e;case fe:x=16,s=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=_t(x,n,t,i),t.elementType=e,t.type=s,t.lanes=c,t}function Kn(e,t,n,s){return e=_t(7,e,s,t),e.lanes=n,e}function _a(e,t,n,s){return e=_t(22,e,s,t),e.elementType=b,e.lanes=n,e.stateNode={isHidden:!1},e}function no(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function ro(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sp(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function so(e,t,n,s,i,c,x,j,k){return e=new Sp(e,t,n,j,k),t===1?(t=1,c===!0&&(t|=8)):t=0,c=_t(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gi(c),e}function Np(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function kd(e){if(!e)return dn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(ct(n))return Gc(e,n,t)}return t}function Sd(e,t,n,s,i,c,x,j,k){return e=so(n,s,!0,e,i,c,x,j,k),e.context=kd(null),n=e.current,s=at(),i=yn(n),c=Gt(s,i),c.callback=t??null,pn(n,c,i),e.current.lanes=i,Mr(e,i,s),mt(e,s),e}function Ia(e,t,n,s){var i=t.current,c=at(),x=yn(i);return n=kd(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(c,x),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=pn(i,t,x),e!==null&&(Rt(e,i,x,c),aa(e,i,x)),x}function Ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ao(e,t){Nd(e,t),(e=e.alternate)&&Nd(e,t)}function bp(){return null}var bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function lo(e){this._internalRoot=e}Aa.prototype.render=lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Ia(e,t,null,null)},Aa.prototype.unmount=lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){Ia(null,e,null,null)}),t[$t]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var t=oc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&dc(e)}};function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Dp(e,t,n,s,i){if(i){if(typeof s=="function"){var c=s;s=function(){var R=Ca(x);c.call(R)}}var x=Sd(t,s,e,0,null,!1,!1,"",Dd);return e._reactRootContainer=x,e[$t]=x.current,Jr(e.nodeType===8?e.parentNode:e),On(),x}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var j=s;s=function(){var R=Ca(k);j.call(R)}}var k=so(e,0,!1,null,null,!1,!1,"",Dd);return e._reactRootContainer=k,e[$t]=k.current,Jr(e.nodeType===8?e.parentNode:e),On(function(){Ia(t,k,n,s)}),k}function Ta(e,t,n,s,i){var c=n._reactRootContainer;if(c){var x=c;if(typeof i=="function"){var j=i;i=function(){var k=Ca(x);j.call(k)}}Ia(t,x,e,i)}else x=Dp(n,t,e,i,s);return Ca(x)}lc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(El(t,n|1),mt(t,Oe()),!(ke&6)&&(hr=Oe()+500,mn()))}break;case 13:On(function(){var s=qt(e,1);if(s!==null){var i=at();Rt(s,e,1,i)}}),ao(e,1)}},Tl=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=at();Rt(t,e,134217728,n)}ao(e,134217728)}},ic=function(e){if(e.tag===13){var t=yn(e),n=qt(e,t);if(n!==null){var s=at();Rt(n,e,t,s)}ao(e,t)}},oc=function(){return Ne},cc=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}},Nl=function(e,t,n){switch(t){case"input":if(hl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=qs(s);if(!i)throw Error(a(90));Ze(s),hl(s,i)}}}break;case"textarea":Lo(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}},Ho=Xi,Jo=On;var _p={usingClientEntryPoint:!1,Events:[Yr,rr,qs,$o,Vo,Xi]},ds={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ip={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xo(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{As=Pa.inject(Ip),Lt=Pa}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p,ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!io(t))throw Error(a(200));return Np(e,t,null,n)},ft.createRoot=function(e,t){if(!io(e))throw Error(a(299));var n=!1,s="",i=bd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=so(e,1,!1,null,null,n,!1,s,i),e[$t]=t.current,Jr(e.nodeType===8?e.parentNode:e),new lo(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Xo(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return On(e)},ft.hydrate=function(e,t,n){if(!Ea(t))throw Error(a(200));return Ta(null,e,t,!0,n)},ft.hydrateRoot=function(e,t,n){if(!io(e))throw Error(a(405));var s=n!=null&&n.hydratedSources||null,i=!1,c="",x=bd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),t=Sd(t,null,e,1,n??null,i,!1,c,x),e[$t]=t.current,Jr(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Aa(t)},ft.render=function(e,t,n){if(!Ea(t))throw Error(a(200));return Ta(null,e,t,!1,n)},ft.unmountComponentAtNode=function(e){if(!Ea(e))throw Error(a(40));return e._reactRootContainer?(On(function(){Ta(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},ft.unstable_batchedUpdates=Xi,ft.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ea(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Ta(e,t,n,!1,s)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Md;function nm(){if(Md)return uo.exports;Md=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(o){console.error(o)}}return l(),uo.exports=zp(),uo.exports}var Rd;function Lp(){if(Rd)return Ma;Rd=1;var l=nm();return Ma.createRoot=l.createRoot,Ma.hydrateRoot=l.hydrateRoot,Ma}var Kp=Lp();const Fp=em(Kp);nm();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(l[u]=a[u])}return l},gs.apply(this,arguments)}var Sn;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(Sn||(Sn={}));const Od="popstate";function Up(l){l===void 0&&(l={});function o(f,d){let{pathname:p="/",search:g="",hash:m=""}=$n(f.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),go("",{pathname:p,search:g,hash:m},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(f,d){let p=f.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let m=f.location.href,y=m.indexOf("#");g=y===-1?m:m.slice(0,y)}return g+"#"+(typeof d=="string"?d:Fa(d))}function u(f,d){il(f.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(d)+")")}return Wp(o,a,u,l)}function Re(l,o){if(l===!1||l===null||typeof l>"u")throw new Error(o)}function il(l,o){if(!l){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function Bp(){return Math.random().toString(36).substr(2,8)}function zd(l,o){return{usr:l.state,key:l.key,idx:o}}function go(l,o,a,u){return a===void 0&&(a=null),gs({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof o=="string"?$n(o):o,{state:a,key:o&&o.key||u||Bp()})}function Fa(l){let{pathname:o="/",search:a="",hash:u=""}=l;return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),u&&u!=="#"&&(o+=u.charAt(0)==="#"?u:"#"+u),o}function $n(l){let o={};if(l){let a=l.indexOf("#");a>=0&&(o.hash=l.substr(a),l=l.substr(0,a));let u=l.indexOf("?");u>=0&&(o.search=l.substr(u),l=l.substr(0,u)),l&&(o.pathname=l)}return o}function Wp(l,o,a,u){u===void 0&&(u={});let{window:f=document.defaultView,v5Compat:d=!1}=u,p=f.history,g=Sn.Pop,m=null,y=h();y==null&&(y=0,p.replaceState(gs({},p.state,{idx:y}),""));function h(){return(p.state||{idx:null}).idx}function w(){g=Sn.Pop;let S=h(),M=S==null?null:S-y;y=S,m&&m({action:g,location:$.location,delta:M})}function O(S,M){g=Sn.Push;let K=go($.location,S,M);a&&a(K,S),y=h()+1;let Q=zd(K,y),q=$.createHref(K);try{p.pushState(Q,"",q)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;f.location.assign(q)}d&&m&&m({action:g,location:$.location,delta:1})}function F(S,M){g=Sn.Replace;let K=go($.location,S,M);a&&a(K,S),y=h();let Q=zd(K,y),q=$.createHref(K);p.replaceState(Q,"",q),d&&m&&m({action:g,location:$.location,delta:0})}function ee(S){let M=f.location.origin!=="null"?f.location.origin:f.location.href,K=typeof S=="string"?S:Fa(S);return K=K.replace(/ $/,"%20"),Re(M,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,M)}let $={get action(){return g},get location(){return l(f,p)},listen(S){if(m)throw new Error("A history only accepts one active listener");return f.addEventListener(Od,w),m=S,()=>{f.removeEventListener(Od,w),m=null}},createHref(S){return o(f,S)},createURL:ee,encodeLocation(S){let M=ee(S);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:O,replace:F,go(S){return p.go(S)}};return $}var Ld;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(Ld||(Ld={}));function Qp(l,o,a){return a===void 0&&(a="/"),$p(l,o,a)}function $p(l,o,a,u){let f=typeof o=="string"?$n(o):o,d=kr(f.pathname||"/",a);if(d==null)return null;let p=rm(l);Vp(p);let g=null;for(let m=0;g==null&&m<p.length;++m){let y=rx(d);g=tx(p[m],y)}return g}function rm(l,o,a,u){o===void 0&&(o=[]),a===void 0&&(a=[]),u===void 0&&(u="");let f=(d,p,g)=>{let m={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};m.relativePath.startsWith("/")&&(Re(m.relativePath.startsWith(u),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(u.length));let y=bn([u,m.relativePath]),h=a.concat(m);d.children&&d.children.length>0&&(Re(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),rm(d.children,o,h,y)),!(d.path==null&&!d.index)&&o.push({path:y,score:Zp(y,d.index),routesMeta:h})};return l.forEach((d,p)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))f(d,p);else for(let m of sm(d.path))f(d,p,m)}),o}function sm(l){let o=l.split("/");if(o.length===0)return[];let[a,...u]=o,f=a.endsWith("?"),d=a.replace(/\?$/,"");if(u.length===0)return f?[d,""]:[d];let p=sm(u.join("/")),g=[];return g.push(...p.map(m=>m===""?d:[d,m].join("/"))),f&&g.push(...p),g.map(m=>l.startsWith("/")&&m===""?"/":m)}function Vp(l){l.sort((o,a)=>o.score!==a.score?a.score-o.score:ex(o.routesMeta.map(u=>u.childrenIndex),a.routesMeta.map(u=>u.childrenIndex)))}const Hp=/^:[\w-]+$/,Jp=3,qp=2,Gp=1,Yp=10,Xp=-2,Kd=l=>l==="*";function Zp(l,o){let a=l.split("/"),u=a.length;return a.some(Kd)&&(u+=Xp),o&&(u+=qp),a.filter(f=>!Kd(f)).reduce((f,d)=>f+(Hp.test(d)?Jp:d===""?Gp:Yp),u)}function ex(l,o){return l.length===o.length&&l.slice(0,-1).every((u,f)=>u===o[f])?l[l.length-1]-o[o.length-1]:0}function tx(l,o,a){let{routesMeta:u}=l,f={},d="/",p=[];for(let g=0;g<u.length;++g){let m=u[g],y=g===u.length-1,h=d==="/"?o:o.slice(d.length)||"/",w=yo({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},h),O=m.route;if(!w)return null;Object.assign(f,w.params),p.push({params:f,pathname:bn([d,w.pathname]),pathnameBase:ox(bn([d,w.pathnameBase])),route:O}),w.pathnameBase!=="/"&&(d=bn([d,w.pathnameBase]))}return p}function yo(l,o){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,u]=nx(l.path,l.caseSensitive,l.end),f=o.match(a);if(!f)return null;let d=f[0],p=d.replace(/(.)\/+$/,"$1"),g=f.slice(1);return{params:u.reduce((y,h,w)=>{let{paramName:O,isOptional:F}=h;if(O==="*"){let $=g[w]||"";p=d.slice(0,d.length-$.length).replace(/(.)\/+$/,"$1")}const ee=g[w];return F&&!ee?y[O]=void 0:y[O]=(ee||"").replace(/%2F/g,"/"),y},{}),pathname:d,pathnameBase:p,pattern:l}}function nx(l,o,a){o===void 0&&(o=!1),a===void 0&&(a=!0),il(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let u=[],f="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,m)=>(u.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(u.push({paramName:"*"}),f+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?f+="\\/*$":l!==""&&l!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,o?void 0:"i"),u]}function rx(l){try{return l.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return il(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),l}}function kr(l,o){if(o==="/")return l;if(!l.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,u=l.charAt(a);return u&&u!=="/"?null:l.slice(a)||"/"}const sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ax=l=>sx.test(l);function lx(l,o){o===void 0&&(o="/");let{pathname:a,search:u="",hash:f=""}=typeof l=="string"?$n(l):l,d;if(a)if(ax(a))d=a;else{if(a.includes("//")){let p=a;a=a.replace(/\/\/+/g,"/"),il(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+a))}a.startsWith("/")?d=Fd(a.substring(1),"/"):d=Fd(a,o)}else d=o;return{pathname:d,search:cx(u),hash:ux(f)}}function Fd(l,o){let a=o.replace(/\/+$/,"").split("/");return l.split("/").forEach(f=>{f===".."?a.length>1&&a.pop():f!=="."&&a.push(f)}),a.length>1?a.join("/"):"/"}function po(l,o,a,u){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ix(l){return l.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function am(l,o){let a=ix(l);return o?a.map((u,f)=>f===a.length-1?u.pathname:u.pathnameBase):a.map(u=>u.pathnameBase)}function lm(l,o,a,u){u===void 0&&(u=!1);let f;typeof l=="string"?f=$n(l):(f=gs({},l),Re(!f.pathname||!f.pathname.includes("?"),po("?","pathname","search",f)),Re(!f.pathname||!f.pathname.includes("#"),po("#","pathname","hash",f)),Re(!f.search||!f.search.includes("#"),po("#","search","hash",f)));let d=l===""||f.pathname==="",p=d?"/":f.pathname,g;if(p==null)g=a;else{let w=o.length-1;if(!u&&p.startsWith("..")){let O=p.split("/");for(;O[0]==="..";)O.shift(),w-=1;f.pathname=O.join("/")}g=w>=0?o[w]:"/"}let m=lx(f,g),y=p&&p!=="/"&&p.endsWith("/"),h=(d||p===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(y||h)&&(m.pathname+="/"),m}const bn=l=>l.join("/").replace(/\/\/+/g,"/"),ox=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),cx=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,ux=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function dx(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const im=["post","put","patch","delete"];new Set(im);const mx=["get",...im];new Set(mx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(l[u]=a[u])}return l},ys.apply(this,arguments)}const ol=I.createContext(null),om=I.createContext(null),Dn=I.createContext(null),cl=I.createContext(null),Vn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),cm=I.createContext(null);function fx(l,o){let{relative:a}=o===void 0?{}:o;Ss()||Re(!1);let{basename:u,navigator:f}=I.useContext(Dn),{hash:d,pathname:p,search:g}=dl(l,{relative:a}),m=p;return u!=="/"&&(m=p==="/"?u:bn([u,p])),f.createHref({pathname:m,search:g,hash:d})}function Ss(){return I.useContext(cl)!=null}function Nr(){return Ss()||Re(!1),I.useContext(cl).location}function um(l){I.useContext(Dn).static||I.useLayoutEffect(l)}function ul(){let{isDataRoute:l}=I.useContext(Vn);return l?Dx():px()}function px(){Ss()||Re(!1);let l=I.useContext(ol),{basename:o,future:a,navigator:u}=I.useContext(Dn),{matches:f}=I.useContext(Vn),{pathname:d}=Nr(),p=JSON.stringify(am(f,a.v7_relativeSplatPath)),g=I.useRef(!1);return um(()=>{g.current=!0}),I.useCallback(function(y,h){if(h===void 0&&(h={}),!g.current)return;if(typeof y=="number"){u.go(y);return}let w=lm(y,JSON.parse(p),d,h.relative==="path");l==null&&o!=="/"&&(w.pathname=w.pathname==="/"?o:bn([o,w.pathname])),(h.replace?u.replace:u.push)(w,h.state,h)},[o,u,p,d,l])}function dl(l,o){let{relative:a}=o===void 0?{}:o,{future:u}=I.useContext(Dn),{matches:f}=I.useContext(Vn),{pathname:d}=Nr(),p=JSON.stringify(am(f,u.v7_relativeSplatPath));return I.useMemo(()=>lm(l,JSON.parse(p),d,a==="path"),[l,p,d,a])}function xx(l,o){return hx(l,o)}function hx(l,o,a,u){Ss()||Re(!1);let{navigator:f}=I.useContext(Dn),{matches:d}=I.useContext(Vn),p=d[d.length-1],g=p?p.params:{};p&&p.pathname;let m=p?p.pathnameBase:"/";p&&p.route;let y=Nr(),h;if(o){var w;let S=typeof o=="string"?$n(o):o;m==="/"||(w=S.pathname)!=null&&w.startsWith(m)||Re(!1),h=S}else h=y;let O=h.pathname||"/",F=O;if(m!=="/"){let S=m.replace(/^\//,"").split("/");F="/"+O.replace(/^\//,"").split("/").slice(S.length).join("/")}let ee=Qp(l,{pathname:F}),$=wx(ee&&ee.map(S=>Object.assign({},S,{params:Object.assign({},g,S.params),pathname:bn([m,f.encodeLocation?f.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:bn([m,f.encodeLocation?f.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),d,a,u);return o&&$?I.createElement(cl.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Sn.Pop}},$):$}function gx(){let l=bx(),o=dx(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},o),a?I.createElement("pre",{style:f},a):null,null)}const yx=I.createElement(gx,null);class vx extends I.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location||a.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:a.error,location:a.location,revalidation:o.revalidation||a.revalidation}}componentDidCatch(o,a){console.error("React Router caught the following error during render",o,a)}render(){return this.state.error!==void 0?I.createElement(Vn.Provider,{value:this.props.routeContext},I.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jx(l){let{routeContext:o,match:a,children:u}=l,f=I.useContext(ol);return f&&f.static&&f.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=a.route.id),I.createElement(Vn.Provider,{value:o},u)}function wx(l,o,a,u){var f;if(o===void 0&&(o=[]),a===void 0&&(a=null),u===void 0&&(u=null),l==null){var d;if(!a)return null;if(a.errors)l=a.matches;else if((d=u)!=null&&d.v7_partialHydration&&o.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let p=l,g=(f=a)==null?void 0:f.errors;if(g!=null){let h=p.findIndex(w=>w.route.id&&(g==null?void 0:g[w.route.id])!==void 0);h>=0||Re(!1),p=p.slice(0,Math.min(p.length,h+1))}let m=!1,y=-1;if(a&&u&&u.v7_partialHydration)for(let h=0;h<p.length;h++){let w=p[h];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=h),w.route.id){let{loaderData:O,errors:F}=a,ee=w.route.loader&&O[w.route.id]===void 0&&(!F||F[w.route.id]===void 0);if(w.route.lazy||ee){m=!0,y>=0?p=p.slice(0,y+1):p=[p[0]];break}}}return p.reduceRight((h,w,O)=>{let F,ee=!1,$=null,S=null;a&&(F=g&&w.route.id?g[w.route.id]:void 0,$=w.route.errorElement||yx,m&&(y<0&&O===0?(_x("route-fallback"),ee=!0,S=null):y===O&&(ee=!0,S=w.route.hydrateFallbackElement||null)));let M=o.concat(p.slice(0,O+1)),K=()=>{let Q;return F?Q=$:ee?Q=S:w.route.Component?Q=I.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=h,I.createElement(jx,{match:w,routeContext:{outlet:h,matches:M,isDataRoute:a!=null},children:Q})};return a&&(w.route.ErrorBoundary||w.route.errorElement||O===0)?I.createElement(vx,{location:a.location,revalidation:a.revalidation,component:$,error:F,children:K(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):K()},null)}var dm=function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l}(dm||{}),mm=function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l}(mm||{});function kx(l){let o=I.useContext(ol);return o||Re(!1),o}function Sx(l){let o=I.useContext(om);return o||Re(!1),o}function Nx(l){let o=I.useContext(Vn);return o||Re(!1),o}function fm(l){let o=Nx(),a=o.matches[o.matches.length-1];return a.route.id||Re(!1),a.route.id}function bx(){var l;let o=I.useContext(cm),a=Sx(),u=fm();return o!==void 0?o:(l=a.errors)==null?void 0:l[u]}function Dx(){let{router:l}=kx(dm.UseNavigateStable),o=fm(mm.UseNavigateStable),a=I.useRef(!1);return um(()=>{a.current=!0}),I.useCallback(function(f,d){d===void 0&&(d={}),a.current&&(typeof f=="number"?l.navigate(f):l.navigate(f,ys({fromRouteId:o},d)))},[l,o])}const Ud={};function _x(l,o,a){Ud[l]||(Ud[l]=!0)}function Ix(l,o){l==null||l.v7_startTransition,l==null||l.v7_relativeSplatPath}function He(l){Re(!1)}function Cx(l){let{basename:o="/",children:a=null,location:u,navigationType:f=Sn.Pop,navigator:d,static:p=!1,future:g}=l;Ss()&&Re(!1);let m=o.replace(/^\/*/,"/"),y=I.useMemo(()=>({basename:m,navigator:d,static:p,future:ys({v7_relativeSplatPath:!1},g)}),[m,g,d,p]);typeof u=="string"&&(u=$n(u));let{pathname:h="/",search:w="",hash:O="",state:F=null,key:ee="default"}=u,$=I.useMemo(()=>{let S=kr(h,m);return S==null?null:{location:{pathname:S,search:w,hash:O,state:F,key:ee},navigationType:f}},[m,h,w,O,F,ee,f]);return $==null?null:I.createElement(Dn.Provider,{value:y},I.createElement(cl.Provider,{children:a,value:$}))}function vo(l){let{children:o,location:a}=l;return xx(jo(o),a)}new Promise(()=>{});function jo(l,o){o===void 0&&(o=[]);let a=[];return I.Children.forEach(l,(u,f)=>{if(!I.isValidElement(u))return;let d=[...o,f];if(u.type===I.Fragment){a.push.apply(a,jo(u.props.children,d));return}u.type!==He&&Re(!1),!u.props.index||!u.props.children||Re(!1);let p={id:u.props.id||d.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(p.children=jo(u.props.children,d)),a.push(p)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(l[u]=a[u])}return l},Ua.apply(this,arguments)}function pm(l,o){if(l==null)return{};var a={},u=Object.keys(l),f,d;for(d=0;d<u.length;d++)f=u[d],!(o.indexOf(f)>=0)&&(a[f]=l[f]);return a}function Ax(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Ex(l,o){return l.button===0&&(!o||o==="_self")&&!Ax(l)}const Tx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Px=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Mx="6";try{window.__reactRouterVersion=Mx}catch{}const Rx=I.createContext({isTransitioning:!1}),Ox="startTransition",Bd=Mp[Ox];function zx(l){let{basename:o,children:a,future:u,window:f}=l,d=I.useRef();d.current==null&&(d.current=Up({window:f,v5Compat:!0}));let p=d.current,[g,m]=I.useState({action:p.action,location:p.location}),{v7_startTransition:y}=u||{},h=I.useCallback(w=>{y&&Bd?Bd(()=>m(w)):m(w)},[m,y]);return I.useLayoutEffect(()=>p.listen(h),[p,h]),I.useEffect(()=>Ix(u),[u]),I.createElement(Cx,{basename:o,children:a,location:g.location,navigationType:g.action,navigator:p,future:u})}const Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fx=I.forwardRef(function(o,a){let{onClick:u,relative:f,reloadDocument:d,replace:p,state:g,target:m,to:y,preventScrollReset:h,viewTransition:w}=o,O=pm(o,Tx),{basename:F}=I.useContext(Dn),ee,$=!1;if(typeof y=="string"&&Kx.test(y)&&(ee=y,Lx))try{let Q=new URL(window.location.href),q=y.startsWith("//")?new URL(Q.protocol+y):new URL(y),ne=kr(q.pathname,F);q.origin===Q.origin&&ne!=null?y=ne+q.search+q.hash:$=!0}catch{}let S=fx(y,{relative:f}),M=Wx(y,{replace:p,state:g,target:m,preventScrollReset:h,relative:f,viewTransition:w});function K(Q){u&&u(Q),Q.defaultPrevented||M(Q)}return I.createElement("a",Ua({},O,{href:ee||S,onClick:$||d?u:K,ref:a,target:m}))}),Ux=I.forwardRef(function(o,a){let{"aria-current":u="page",caseSensitive:f=!1,className:d="",end:p=!1,style:g,to:m,viewTransition:y,children:h}=o,w=pm(o,Px),O=dl(m,{relative:w.relative}),F=Nr(),ee=I.useContext(om),{navigator:$,basename:S}=I.useContext(Dn),M=ee!=null&&Qx(O)&&y===!0,K=$.encodeLocation?$.encodeLocation(O).pathname:O.pathname,Q=F.pathname,q=ee&&ee.navigation&&ee.navigation.location?ee.navigation.location.pathname:null;f||(Q=Q.toLowerCase(),q=q?q.toLowerCase():null,K=K.toLowerCase()),q&&S&&(q=kr(q,S)||q);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ce=Q===K||!p&&Q.startsWith(K)&&Q.charAt(ne)==="/",U=q!=null&&(q===K||!p&&q.startsWith(K)&&q.charAt(K.length)==="/"),E={isActive:ce,isPending:U,isTransitioning:M},B=ce?u:void 0,N;typeof d=="function"?N=d(E):N=[d,ce?"active":null,U?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let _=typeof g=="function"?g(E):g;return I.createElement(Fx,Ua({},w,{"aria-current":B,className:N,ref:a,style:_,to:m,viewTransition:y}),typeof h=="function"?h(E):h)});var wo;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(wo||(wo={}));var Wd;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(Wd||(Wd={}));function Bx(l){let o=I.useContext(ol);return o||Re(!1),o}function Wx(l,o){let{target:a,replace:u,state:f,preventScrollReset:d,relative:p,viewTransition:g}=o===void 0?{}:o,m=ul(),y=Nr(),h=dl(l,{relative:p});return I.useCallback(w=>{if(Ex(w,a)){w.preventDefault();let O=u!==void 0?u:Fa(y)===Fa(h);m(l,{replace:O,state:f,preventScrollReset:d,relative:p,viewTransition:g})}},[y,m,h,u,f,a,l,d,p,g])}function Qx(l,o){o===void 0&&(o={});let a=I.useContext(Rx);a==null&&Re(!1);let{basename:u}=Bx(wo.useViewTransitionState),f=dl(l,{relative:o.relative});if(!a.isTransitioning)return!1;let d=kr(a.currentLocation.pathname,u)||a.currentLocation.pathname,p=kr(a.nextLocation.pathname,u)||a.nextLocation.pathname;return yo(f.pathname,p)!=null||yo(f.pathname,d)!=null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(l,o)=>{const a=I.forwardRef(({color:u="currentColor",size:f=24,strokeWidth:d=2,absoluteStrokeWidth:p,className:g="",children:m,...y},h)=>I.createElement("svg",{ref:h,...$x,width:f,height:f,stroke:u,strokeWidth:p?Number(d)*24/Number(f):d,className:["lucide",`lucide-${Vx(l)}`,g].join(" "),...y},[...o.map(([w,O])=>I.createElement(w,O)),...Array.isArray(m)?m:[m]]));return a.displayName=`${l}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=we("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=we("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=we("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=we("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=we("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=we("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=we("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=we("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=we("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sh="modulepreload",ah=function(l){return"/demo/"+l},Hd={},ym=function(o,a,u){let f=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));f=Promise.allSettled(a.map(m=>{if(m=ah(m),m in Hd)return;Hd[m]=!0;const y=m.endsWith(".css"),h=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":sh,y||(w.as="script"),w.crossOrigin="",w.href=m,g&&w.setAttribute("nonce",g),document.head.appendChild(w),y)return new Promise((O,F)=>{w.addEventListener("load",O),w.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return f.then(p=>{for(const g of p||[])g.status==="rejected"&&d(g.reason);return o().catch(d)})},lh={BASE_URL:"/demo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Wn=vm;(function(l,o){const a=vm,u=l();for(;;)try{if(-parseInt(a(406))/1*(-parseInt(a(400))/2)+-parseInt(a(420))/3+parseInt(a(402))/4*(parseInt(a(392))/5)+-parseInt(a(401))/6+parseInt(a(424))/7*(parseInt(a(394))/8)+-parseInt(a(418))/9*(parseInt(a(422))/10)+parseInt(a(416))/11===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Qa,319708);function Qa(){const l=["20kGxNVV","message","crypto-js","map","213oPQKXk","parse","[Crypto] Web Crypto API decrypt failed, trying crypto-js fallback:","stringify","endsWith","decode","Failed to decrypt data: ","AES","[Crypto] Web Crypto API not available, using crypto-js fallback","AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","4151070KvMbvD","[Crypto] Encrypted data preview:","6228xJMvKb","string","194028TcOGos","enc","6150rOSwwU","raw","125139ISxcAv","crypto","data","VITE_SYNC_KEY","[Crypto] Encrypted data type:","AES-GCM","subtle","toString","Utf8","error","length","296125TCsmgS","decrypt","72cvClbA","from","[Crypto] crypto-js decrypt error:","warn","substring","charCodeAt","4362phjUBl","2933862SPoNFy"];return Qa=function(){return l},Qa()}function vm(l,o){return l=l-391,Qa()[l]}let No=!1,Zt=null;const jm=lh[Wn(427)]||Wn(415),wm=()=>{const l=Wn,o=window.crypto||globalThis.crypto;return o&&o[l(430)]},To=async()=>{const l=Wn;if(Zt)return Zt;try{const o=await ym(()=>import("./index-CNI2dr0_.js").then(a=>a.i),__vite__mapDeps([0,1]));return Zt=o.default||o,Zt}catch(o){throw console[l(433)]("Failed to load crypto-js:",o),new Error("Neither Web Crypto API nor crypto-js is available")}};async function km(l){const o=Wn;if(wm()){No=!1;const a=window[o(425)]||globalThis[o(425)],u=Uint8Array[o(395)](atob(l),f=>f[o(399)](0));return await a.subtle.importKey(o(423),u,{name:o(429),length:256},!1,["encrypt","decrypt"])}else return console.warn(o(414)),No=!0,await To(),l}async function ws(l,o){const a=Wn;!Zt&&await To();const u=JSON[a(409)](o),f=typeof l=="string"?l[a(391)]===44&&l[a(410)]("=")?atob(l):l:atob(jm);return{iv:"",data:Zt[a(413)].encrypt(u,f)[a(431)](),format:"crypto-js"}}async function Nn(l,o){const a=Wn;let u=o,f=!1,d=null;if(typeof o=="object"&&o!==null?(f=o.iv&&o.iv[a(391)]>0&&o.iv!=="",d=o.format||(f?"webcrypto":a(404)),u=o[a(426)]||o):typeof o===a(419)&&(u=o,f=!1,d=a(404)),d==="webcrypto"&&!No&&wm()&&f&&o.iv)try{const p=window[a(425)]||globalThis[a(425)],g=Uint8Array.from(o.iv.match(/.{1,2}/g).map(h=>parseInt(h,16))),m=Uint8Array[a(395)](u.match(/.{1,2}/g)[a(405)](h=>parseInt(h,16))),y=await p[a(430)][a(393)]({name:"AES-GCM",iv:g},l,m);return JSON.parse(new TextDecoder()[a(411)](y))}catch(p){console[a(397)](a(408),p)}!Zt&&await To();try{const p=typeof l===a(419)?l.length===44&&l[a(410)]("=")?atob(l):l:atob(jm);let g=u;typeof g!==a(419)&&(g=String(g));const m=Zt[a(413)][a(393)](g,p),y=m[a(431)](Zt[a(421)][a(432)]);if(!y||y.length===0)throw new Error("Failed to decrypt data - invalid key or corrupted data. Empty result.");return JSON[a(407)](y)}catch(p){throw console[a(433)](a(396),p),console.error(a(428),typeof u),console.error(a(417),typeof u===a(419)?u[a(398)](0,100):JSON[a(409)](u)[a(398)](0,100)),new Error(a(412)+p[a(403)])}}const It=vr;(function(l,o){const a=vr,u=l();for(;;)try{if(-parseInt(a(334))/1*(parseInt(a(352))/2)+-parseInt(a(340))/3*(-parseInt(a(309))/4)+parseInt(a(339))/5*(-parseInt(a(329))/6)+parseInt(a(361))/7*(parseInt(a(346))/8)+parseInt(a(297))/9*(-parseInt(a(317))/10)+parseInt(a(332))/11+parseInt(a(301))/12*(parseInt(a(306))/13)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})($a,168591);function $a(){const l=["type","get","8PJeuSM","[DB] Document structure:","push","_deleted","objectStoreNames","complete","string","[DB] Data type:","40hXLjBT","putDoc","onupgradeneeded","address","fields","docs","error","object","[DB] Error decrypting document:","result","Encryption key not set. Call setEncryptionKey() first.","clear","844710vABbLk","value","not an object","3187173QzRoge","put","9LVIMut","init"," formData is object with keys:","[DB] Error decrypting wrapped document:","contains","10FwIWdT","344514MMzUga","warn","userId","formData","encryptionKey","readonly","90864rmHIAz","not a string","[DB] Processing stored doc ","decrypted documents","getAll","syncDB","39642zarHqX","transaction","getAllDocs","onsuccess","format"," formData preview:","keys","setEncryptionKey","nik","7ZBiItb","[DB] Doc ","[DB] Document ID:","[DB]  Error decrypting doc ","name","open","[DB] Format:","clearPending","add"," formData is string, length:","entries","readwrite","objectStore"," (format: ","substring","[DB] Data preview:","pending","getDoc","createObjectStore","[DB] getAllDocs: Found","onerror","674847dZBIih","[DB] getAllDocs: Returning","stored documents in IndexedDB","[DB] Document found without encryption format, but encryption key is set:","86772owysZP","data","length","[DB] Sample decrypted doc:","log","715AlSRol"];return $a=function(){return l},$a()}function vr(l,o){return l=l-284,$a()[l]}class ih{constructor(o=It(351)){const a=It;this[a(365)]=o,this.db=null,this[a(344)]=null}[It(359)](o){const a=It;this[a(344)]=o}async[It(335)](){return new Promise((o,a)=>{const u=vr,f=indexedDB[u(366)](this[u(365)],1);f[u(319)]=()=>{const d=u,p=f[d(326)];!p[d(313)][d(338)]("docs")&&p[d(294)](d(322),{keyPath:"id"}),!p.objectStoreNames[d(338)](d(292))&&p[d(294)](d(292),{autoIncrement:!0})},f[u(355)]=()=>{const d=u;this.db=f[d(326)],o()},f[u(296)]=a})}async[It(318)](o){const a=It;if(!this[a(344)])throw new Error(a(327));const u={...o};delete u.id;const f=await ws(this.encryptionKey,u),d={id:o.id,...f},p=this.db.transaction(a(322),a(287));return p[a(288)](a(322))[a(333)](d),p[a(314)]}async[It(293)](o){return new Promise(async a=>{const u=vr,f=this.db[u(353)](u(322),u(345)),d=f.objectStore(u(322))[u(308)](o);d[u(355)]=async()=>{const p=u,g=d[p(326)];if(!g){a(null);return}if(g[p(356)]&&g[p(302)]&&this[p(344)])try{const m=await Nn(this[p(344)],{iv:g.iv||"",data:g[p(302)],format:g[p(356)]}),y={id:g.id,...m};a(y);return}catch(m){console.error(p(325),m),console[p(323)](p(363),g.id),console.error(p(367),g[p(356)]),console.error("[DB] Has data:",!!g.data),a(null);return}if(g[p(302)]&&typeof g[p(302)]===p(324)&&!g[p(356)]&&this.encryptionKey)try{const m=await Nn(this[p(344)],g.data),y={id:g.id,...m};a(y);return}catch(m){console[p(323)](p(337),m)}if(g[p(321)]&&typeof g[p(321)]=="object"&&!g[p(302)]&&!g[p(356)]){const m={id:g.id,_id:g.id};for(const[y,h]of Object.entries(g[p(321)]))y!=="_deleted"&&h&&typeof h=="object"&&p(330)in h?m[y]=h[p(330)]:y!==p(312)&&(m[y]=h);a(m);return}this[p(344)]&&console[p(341)](p(300),g.id),a(g)}})}addPending(o){const a=It,u=this.db[a(353)]("pending",a(287));return u.objectStore(a(292))[a(284)](o),u[a(314)]}async[It(354)](){return new Promise(async o=>{const a=vr,u=this.db[a(353)]("docs",a(345)),f=u[a(288)]("docs")[a(350)]();f.onsuccess=async()=>{const d=a,p=f[d(326)]||[];console[d(305)](d(295),p[d(303)],d(299));const g=[];for(let m=0;m<p[d(303)];m++){const y=p[m];if(console[d(305)](d(348)+(m+1)+"/"+p.length+":",{id:y.id,hasFormat:!!y[d(356)],hasData:!!y.data,hasIv:!!y.iv,hasFields:!!y[d(321)],keys:Object[d(358)](y)}),y[d(356)]&&y.data&&this[d(344)])try{console.log("[DB] Attempting to decrypt doc "+(m+1)+d(289)+y.format+")");const h=await Nn(this[d(344)],{iv:y.iv||"",data:y[d(302)],format:y[d(356)]});console[d(305)]("[DB]  Successfully decrypted doc "+(m+1)+":",{id:y.id,type:h[d(307)],userId:h[d(342)],hasFormData:!!h[d(343)],formDataType:typeof h[d(343)],formDataIsObject:typeof h[d(343)]===d(324)&&h[d(343)]!==null,formDataKeys:typeof h.formData===d(324)&&h[d(343)]!==null?Object[d(358)](h[d(343)]):d(331),keys:Object[d(358)](h)}),h[d(343)]&&(typeof h[d(343)]===d(324)&&h[d(343)]!==null?(console[d(305)]("[DB] Doc "+(m+1)+d(336),Object[d(358)](h[d(343)])),console[d(305)](d(362)+(m+1)+" formData sample:",{name:h[d(343)][d(365)],nik:h[d(343)][d(360)],address:h[d(343)][d(320)]})):typeof h[d(343)]===d(315)?(console[d(305)](d(362)+(m+1)+d(285),h.formData[d(303)]),console[d(305)](d(362)+(m+1)+d(357),h[d(343)].substring(0,100))):console.warn(d(362)+(m+1)+" formData has unexpected type:",typeof h[d(343)]));const w={id:y.id,...h};g.push(w);continue}catch(h){console[d(323)](d(364)+(m+1)+":",h),console[d(323)](d(363),y.id),console[d(323)](d(367),y.format),console[d(323)]("[DB] Has data:",!!y.data),console[d(323)](d(316),typeof y.data),console[d(323)](d(291),typeof y[d(302)]===d(315)?y.data[d(290)](0,50):d(347));continue}if(y.data&&typeof y.data=="object"&&!y[d(356)]&&this[d(344)])try{const h=await Nn(this[d(344)],y.data),w={id:y.id,...h};g[d(311)](w);continue}catch(h){console[d(323)](d(337),h);continue}if(y[d(321)]&&typeof y[d(321)]===d(324)&&!y.data&&!y.format){const h={id:y.id,_id:y.id};for(const[w,O]of Object[d(286)](y[d(321)]))w!==d(312)&&O&&typeof O===d(324)&&d(330)in O?h[w]=O[d(330)]:w!==d(312)&&(h[w]=O);g[d(311)](h);continue}this.encryptionKey&&(console[d(341)](d(300),y.id),console[d(341)](d(310),Object[d(358)](y))),g[d(311)](y)}console[d(305)](d(298),g[d(303)],d(349)),g.length>0&&console[d(305)](d(304),{id:g[0].id,type:g[0][d(307)],userId:g[0][d(342)],keys:Object[d(358)](g[0])}),o(g)}})}getPending(){return new Promise(o=>{const a=vr,u=this.db[a(353)](a(292),"readonly"),f=u[a(288)]("pending")[a(350)]();f[a(355)]=()=>o(f[a(326)])})}[It(368)](){const o=It,a=this.db.transaction(o(292),o(287));return a.objectStore(o(292))[o(328)](),a[o(314)]}}function Va(){const l=["tick","613734VnJiui","fields","7hbFyRn","12ntkcUh","3114156dCYHao","211HTkabN","entries","clock","752715WTCOix","837448goJyDn","9YTbDKV","receive","11zOLDXX","2176890YqISzx","6458egdxeW","max","4307154Uqzrns"];return Va=function(){return l},Va()}const Ra=Ha;(function(l,o){const a=Ha,u=l();for(;;)try{if(-parseInt(a(132))/1*(parseInt(a(141))/2)+parseInt(a(127))/3+parseInt(a(130))/4*(-parseInt(a(135))/5)+parseInt(a(143))/6*(parseInt(a(129))/7)+parseInt(a(136))/8+-parseInt(a(137))/9*(-parseInt(a(140))/10)+parseInt(a(139))/11*(parseInt(a(131))/12)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Va,371372);function Ha(l,o){return l=l-127,Va()[l]}class oh{constructor(){const o=Ha;this[o(134)]=0}tick(){const o=Ha;return this.clock++,this[o(134)]}[Ra(138)](o){const a=Ra;return this.clock=Math[a(142)](this[a(134)],o)+1,this[a(134)]}setField(o,a,u){const f=Ra,d=this[f(144)]();return o[f(128)][a]={value:u,ts:d},o}merge(o,a){const u=Ra,f={id:o.id,fields:{...o[u(128)]}};for(const[d,p]of Object[u(133)](a[u(128)])){const g=f[u(128)][d];(!g||p.ts>g.ts)&&(f[u(128)][d]=p)}return f}}const bo={BASE_URL:"/demo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},zt=bm;(function(l,o){const a=bm,u=l();for(;;)try{if(parseInt(a(258))/1+parseInt(a(265))/2+parseInt(a(278))/3*(-parseInt(a(263))/4)+parseInt(a(247))/5*(-parseInt(a(279))/6)+parseInt(a(255))/7+-parseInt(a(257))/8+-parseInt(a(248))/9*(parseInt(a(270))/10)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Ja,882590);let Oa=null;const Sm=bo[zt(251)]||zt(243)==="production";bo[zt(275)]||(bo[zt(273)],zt(250));const Nm=Sm?"ws://broker.emqx.io:8083/mqtt":zt(274);function bm(l,o){return l=l-241,Ja()[l]}function Ja(){const l=["production","DEV","[Sync MQTT] Failed to subscribe to ","[Sync MQTT] Error in duplicate subscription callback for ","[Sync MQTT] Successfully resubscribed to ","11163796cWaOOo","subscribe","2054528EHxgjz","122873PgOEtI","end"," topics","log","connected","87644ymXNTr","get","3350118XBiWrA","Failed to load MQTT library:","error","[Sync MQTT] Connected to broker","callback","1872050TwEGma","forEach","[Sync MQTT] Connection error:","MODE","wss://broker.emqx.io:8084/mqtt","PROD","publish","MQTT not connected","57ljzFeP","984kOSQWg","default","Production","offline","Development",": not connected","set","[Sync MQTT] Error in subscription callback for ","development","[Sync MQTT] Failed to resubscribe to ","warn","subscribed","50300Sgbfjf","9aqqSFB","connect"];return Ja=function(){return l},Ja()}console[zt(261)]("[Sync MQTT] Environment: "+zt(Sm?283:281)),console.log("[Sync MQTT] Broker: "+Nm);const kn=new Map;async function ch(){const l=zt;if(Oa)return Oa;try{const o=await ym(()=>import("./mqtt-BLJ3TgF6.js"),[]);return Oa=o[l(280)]||o,Oa}catch(o){throw console[l(267)](l(266),o),o}}async function uh(l,o){const a=zt,u=await ch(),f=u[a(249)](Nm,{clientId:l,reconnectPeriod:2e3});let d=!1;const p=()=>{const g=a;if(!d)return;console.log("[Sync MQTT] Resubscribing failed topics...");let m=0;kn[g(271)]((y,h)=>{const w=g;!y[w(246)]&&(console[w(261)]("[Sync MQTT] Resubscribing to topic: "+h),f[w(256)](h,{qos:1},O=>{const F=w;if(O)console[F(267)](F(244)+h+":",O),y.subscribed=!1;else if(console[F(261)](F(254)+h),y[F(246)]=!0,m++,y[F(269)])try{y[F(269)](O)}catch(ee){console[F(267)]("[Sync MQTT] Error in subscription callback for "+h+":",ee)}}))}),m>0&&console.log("[Sync MQTT] Resubscribed "+m+g(260))};return f.on(a(249),()=>{const g=a;d=!0,console[g(261)](g(268)),o&&o(!0),setTimeout(p,100)}),f.on(a(282),()=>{const g=a;d=!1,console[g(261)]("[Sync MQTT] Connection offline - marking all subscriptions as failed"),kn[g(271)](m=>{m.subscribed=!1}),o&&o(!1)}),f.on(a(267),g=>{const m=a;d=!1,console.error(m(272),g),kn.forEach(y=>{const h=m;y[h(246)]=!1}),o&&o(!1)}),{subscribe:(g,m)=>{const y=a,h=kn[y(264)](g);if(h&&h[y(246)]&&d){if(console.log("[Sync MQTT] Topic "+g+" already subscribed, skipping duplicate subscription"),m)try{m(null)}catch(w){console.error(y(253)+g+":",w)}return}if(kn[y(241)](g,{subscribed:!1,callback:m}),!d){if(console[y(245)]("[Sync MQTT] Cannot subscribe to "+g+y(284)),m)try{m(new Error(y(277)))}catch(w){console.error("[Sync MQTT] Error in subscription callback for "+g+":",w)}return}console.log("[Sync MQTT] Subscribing to topic: "+g),f[y(256)](g,{qos:1},w=>{const O=y,F=kn[O(264)](g);if(w?(console.error(O(252)+g+":",w),F&&(F[O(246)]=!1)):(console[O(261)]("[Sync MQTT] Successfully subscribed to "+g),F&&(F[O(246)]=!0)),m)try{m(w)}catch(ee){console[O(267)](O(242)+g+":",ee)}})},publish:(g,m,y,h)=>{const w=a;if(typeof y=="function")f[w(276)](g,m,{qos:1,retain:!0},y);else{const O={qos:1,retain:!0,...y};f[w(276)](g,m,O,h||(()=>{}))}},on:(g,m)=>{f.on(g,m)},get connected(){return d||f[a(262)]},getSubscriptionStatus:g=>{const m=a,y=kn.get(g);return y?y[m(246)]:!1},getAllSubscriptionStatuses:()=>{const g=a,m={};return kn[g(271)]((y,h)=>{const w=g;m[h]=y[w(246)]}),m},end:()=>f[a(259)]()}}const Xe=qa;(function(l,o){const a=qa,u=l();for(;;)try{if(parseInt(a(241))/1*(parseInt(a(268))/2)+-parseInt(a(307))/3*(-parseInt(a(265))/4)+-parseInt(a(233))/5*(-parseInt(a(234))/6)+parseInt(a(279))/7+parseInt(a(321))/8+-parseInt(a(313))/9+-parseInt(a(230))/10===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Ga,289842);function qa(l,o){return l=l-227,Ga()[l]}function Ga(){const l=["mqtt","[Sync] ","action","[Sync] Error decrypting sync/full message:","lastNetworkClearTimestamp","[Sync] Ignoring old clear command (age:","transaction","[Sync] Processing clear command from:","docs","[Sync] Error clearing localStorage:","setOnline","rt-management/sync/full","_patch","onerror","1532DBhqjn","removeItem","[Sync] MQTT connected, requesting initial sync...","5426xjWFfg","connected","applyRemote","[Sync] LocalStorage cleared (except session)","seconds)","clearAllData","message","[Sync] All data cleared from IndexedDB (docs)","timestamp","services","publish","1979103ieZHAM","users","clear","objectStore","[Sync] Exception flushing pending message:","[Sync] Initial sync request sent","[Sync] MQTT not connected, cannot send full sync","subscribe","error","[Sync] Error decrypting sync/changes message:"," messages failed to publish, keeping in queue","crdt","[Sync] Clear command already processed, ignoring duplicate","updateField","timestamp:","toISOString","[Sync] Exception publishing full sync:","addPending","toString","flushPending","seconds, max:","stringify","[Sync] Pending queue cleared","rt-management/sync/clear","[Sync] MQTT not connected, cannot request full sync","getDoc","[Sync] MQTT offline, queuing message for later sync","onsuccess","4533NULENH","[Sync] Error clearing docs","key","length","[Sync] Error flushing pending message:","setItem","113148bjaHnA","onMessage","[Sync] Exception during MQTT publish:","getAllDocs","getPending","rt-management/sync/changes","clientId","catch","2959848DPzljB","parse","log","getItem","putDoc","17470060bSHOcm","push","readwrite","105hvBQHB","74034vyittz","createdAt","clearPending","rt-management/sync/request/full","publishEncrypted","isOnline","announcements","206LTXHeb","_from","updatedAt","warn","[Sync] Error adding to pending queue:","exportAllDocs","dispatchEvent","[Sync] Error publishing full sync:","wargaDocuments","clear_all"];return Ga=function(){return l},Ga()}class dh{constructor(o,a,u,f,d){const p=qa;this.db=o,this[p(251)]=a,this[p(319)]=u,this[p(309)]=f,this[p(290)]=d,this.isOnline=!1,a.subscribe(p(318),()=>{}),a.subscribe(p(237),()=>{}),a[p(286)](p(262),()=>{}),a.subscribe(p(302),()=>{}),a.on(p(274),(m,y)=>this[p(314)](m,y));const g=()=>{const m=p;a.connected?(console[m(227)]("[Sync] Requesting initial full sync from network..."),a[m(269)]?a[m(278)](m(237),this[m(319)],{qos:1,retain:!1},y=>{const h=m;y?console[h(287)]("[Sync] Error requesting full sync:",y):console.log(h(284))}):console[m(244)](m(303))):setTimeout(g,100)};a.on("connect",()=>{console.log(p(267)),setTimeout(()=>{g()},500)}),setTimeout(()=>{g()},500)}[Xe(261)](o){const a=Xe;this[a(239)]=o,o&&this.flushPending()}async[Xe(238)](o){const a=Xe;o[a(242)]=this[a(319)];const u=await ws(this[a(309)],o),f=JSON[a(300)](u);if(this[a(239)]&&this.mqtt.connected)try{this[a(251)][a(278)]("rt-management/sync/changes",f,{qos:1,retain:!0},d=>{const p=a;d&&(console[p(287)]("[Sync] Error publishing to MQTT:",d),this.db[p(296)](f)[p(320)](g=>{const m=p;console[m(287)](m(245),g)}))})}catch(d){console.error(a(315),d),await this.db[a(296)](f)}else console[a(227)](a(305)),await this.db[a(296)](f)}async[Xe(298)](){const o=Xe,a=await this.db[o(317)]();if(a.length===0)return;if(!this.isOnline||!this[o(251)][o(269)]){console[o(227)]("[Sync] MQTT still offline, keeping pending messages");return}const u=[];for(const f of a)try{this[o(251)][o(278)]("rt-management/sync/changes",f,{qos:1,retain:!0},d=>{const p=o;d&&(console[p(287)](p(311),d),u[p(231)](f))}),await new Promise(d=>setTimeout(d,50))}catch(d){console[o(287)](o(283),d),u[o(231)](f)}u.length===0?await this.db[o(236)]():console[o(227)](o(252)+u[o(310)]+o(289))}async[Xe(292)](o,a,u){const f=Xe;let d=await this.db.getDoc(o)||{id:o};const p=d[a];if(d[a]=u,d[f(243)]=new Date().toISOString(),await this.db[f(229)](d),p!==u){const g={id:o,[a]:u,_from:this[f(319)],_patch:!0};await this.publishEncrypted(g)}}async[Xe(314)](o,a){const u=Xe,f=a[u(297)]();if(o===u(237)){const d=f;if(d===this[u(319)])return;const p=await this.exportAllDocs(),g=await ws(this[u(309)],{to:d,docs:p,_from:this[u(319)]});if(this.mqtt.connected)try{this[u(251)][u(278)](u(262),JSON[u(300)](g),{qos:1,retain:!0},m=>{const y=u;m&&console[y(287)](y(248),m)})}catch(m){console[u(287)](u(295),m)}else console[u(244)](u(285));return}if(o===u(262)){try{const d=JSON.parse(f),p=await Nn(this.key,d);if(p.to!==this[u(319)])return;await this.applySnapshot(p.docs)}catch(d){console[u(287)](u(254),d)}return}if(o===u(318)){try{const d=JSON.parse(f),p=await Nn(this[u(309)],d);if(p[u(242)]===this.clientId)return;await this[u(270)](p)}catch(d){console.error(u(288),d)}return}if(o===u(302)){const d=JSON[u(322)](f),p=await Nn(this.key,d);if(p[u(253)]===u(250)&&p[u(242)]!==this[u(319)]){if(p[u(276)]){const m=new Date(p[u(276)]),y=new Date,h=y-m,w=5*60*1e3;if(h>w){console[u(227)](u(256),Math.round(h/1e3),u(299),w/1e3,u(272));return}}const g=localStorage[u(228)](u(255));if(g&&p.timestamp&&g===p[u(276)]){console.log(u(291));return}p[u(276)]&&localStorage[u(312)](u(255),p[u(276)]),console[u(227)](u(258),p[u(242)],u(293),p[u(276)]),await this[u(273)]();try{localStorage[u(266)]("residents"),localStorage[u(266)](u(277)),localStorage[u(266)](u(240)),localStorage[u(266)]("kasRT"),localStorage[u(266)](u(249)),localStorage[u(266)](u(280)),console[u(227)](u(271)),window[u(247)](new CustomEvent("networkClear",{detail:{timestamp:new Date()[u(294)]()}}))}catch(m){console[u(287)](u(260),m)}return}}}async[Xe(273)](){const o=Xe;await new Promise(a=>{const u=qa,f=this.db.db[u(257)](u(259),u(232)),d=f[u(282)](u(259))[u(281)]();d[u(306)]=()=>{const p=u;console[p(227)](p(275)),a()},d[u(264)]=()=>{console.error(u(308)),a()}}),await this.db[o(236)](),console[o(227)](o(301))}async[Xe(246)](){const o=Xe;return await this.db[o(316)]()}async applySnapshot(o){const a=Xe;for(const u of o)await this.db[a(229)](u)}async[Xe(270)](o){const a=Xe;let u=await this.db[a(304)](o.id);if(o[a(263)]){!u&&(u={id:o.id});for(const[f,d]of Object.entries(o))f!=="id"&&f!=="_id"&&f!==a(242)&&f!=="_patch"&&(u[f]=d);u[a(243)]=new Date()[a(294)](),!u[a(235)]&&(u.createdAt=o[a(235)]||new Date()[a(294)]())}else u?(u={...u,...o},u.id=o.id,u[a(243)]=new Date()[a(294)]()):u=o;await this.db.putDoc(u)}}const mh={BASE_URL:"/demo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Do=Ya;(function(l,o){const a=Ya,u=l();for(;;)try{if(-parseInt(a(173))/1+-parseInt(a(133))/2*(-parseInt(a(187))/3)+-parseInt(a(135))/4+-parseInt(a(185))/5+parseInt(a(170))/6+-parseInt(a(199))/7+parseInt(a(193))/8===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Xa,834749);function Ya(l,o){return l=l-119,Xa()[l]}function Xa(){const l=["rt-","connected","[Sync]  MQTT offline - document queued for later sync","isOnline","onsuccess","removeItem","[Sync]  Solusi: Gunakan HTTPS atau jalankan di localhost untuk development.","AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","setOnline","[Sync] Error details:","toString","[Sync] Error clearing local IndexedDB data","rt-management/sync/clear","rtSyncDB","clientId","slice","getAllDocs","toISOString","mqtt","users","init","[Sync] Error publishing patch:","_rev","putDoc","[Sync] Patch published to MQTT network (encrypted):","getDoc","[Sync] Error in getAll:","[Sync] Clear command broadcasted to network (retain: false)","docs","6968238SjBEVY","[Sync] Error requesting full sync:","[Sync] Filtering out deleted document:","1667990qeiGym","wargaDocuments","[Sync] Local IndexedDB data cleared","[Sync] Pending queue cleared","residents","[Sync] Sync engine stopped","subscribe","[Sync] No changes detected, skipping publish","error","onerror","[Sync] No documents found in IndexedDB","clear","3801295VuHnMK","type","634146SRzPYd","services","fields","publishEncrypted","rt-management/sync/changes","log","24879680ViIahZ","message","announcements","MQTT connection timeout","connect","rt-management/sync/full","6497302RsKlUj","updateField","length","random","rt-management/sync/request/full","[Sync] Stack:","clear_all","[Sync] MQTT not connected, cannot request network sync","warn","keys","readwrite","filter","createdAt","kasRT","[Sync]  Web Crypto API tidak tersedia. Pastikan aplikasi berjalan di HTTPS atau localhost.","VITE_SYNC_KEY","[Sync] Network reload requested - waiting for responses...","setEncryptionKey","Web Crypto API","[Sync] LocalStorage data cleared (except session)","14VqPhRO","[Sync] Document will be synced when MQTT reconnects","6239292nfFgOD","transaction","[Sync] Error starting sync engine:","_deleted","updatedAt","_id"];return Xa=function(){return l},Xa()}const fh=mh[Do(128)]||Do(148);let fs=null,pt=null,wt=null,za=null,xt=null;async function ph(){const l=Do;if(fs)return fs;try{const o=await km(fh);wt=new ih(l(154)),await wt[l(161)](),wt[l(130)](o),za=new oh;const a=l(141)+Date.now()+"-"+Math[l(202)]()[l(151)](36)[l(156)](2);return xt=await uh(a,u=>{pt&&pt[l(149)](u)}),pt=new dh(wt,xt,a,o,za),await new Promise((u,f)=>{const d=l;if(xt.connected){u();return}const p=setTimeout(()=>{const g=Ya;f(new Error(g(196)))},1e4);xt.on(d(197),()=>{clearTimeout(p),u()})}),xt[l(179)](l(191),()=>{}),xt[l(179)](l(203),()=>{}),xt[l(179)](l(198),()=>{}),xt[l(179)](l(153),()=>{}),fs={clientId:a,db:wt,crdt:za,syncEngine:pt,mqtt:xt,isOnline:()=>(pt==null?void 0:pt.isOnline)||!1,save:async(u,f)=>{const d=l;console[d(192)]("[Sync] Saving document:",{docId:u,type:f[d(186)]});const g=await wt[d(166)](u)||{id:u},m={};for(const[y,h]of Object.entries(f))if(y!=="id"&&y!==d(140)&&y!==d(189)&&y!==d(163)){const w=g[y];g[y]=h,w!==h&&(m[y]=h)}if(g[d(139)]=new Date()[d(158)](),!g[d(125)]&&(g[d(125)]=new Date()[d(158)]()),console[d(192)]("[Sync] Flat document prepared:",{id:g.id,fieldCount:Object.keys(g)[d(201)]-3,patchSize:Object[d(122)](m)[d(201)]}),await wt.putDoc(g),console.log("[Sync] Document saved to local DB"),pt[d(144)]&&pt[d(159)]&&pt[d(159)].connected)try{if(Object[d(122)](m).length>0){const y={id:u,...m,_from:pt[d(155)],_patch:!0};await pt.publishEncrypted(y),console[d(192)](d(165),Object.keys(m))}else console[d(192)](d(180))}catch(y){console[d(181)](d(162),y),console.warn(d(134))}else console[d(121)](d(143));return g},get:async u=>{const f=l,d=await wt[f(166)](u);return!d||d._deleted===!0?null:d},getAll:async()=>{const u=l;try{const f=await wt[u(157)]();if(console[u(192)]("[Sync] getAllDocs returned",f[u(201)],"documents"),f.length===0)return console[u(121)](u(183)),[];const d=f[u(124)](p=>{const g=u;return p[g(138)]===!0?(console[g(192)](g(172),p.id),!1):!0}).map(p=>{const g=u;return!p._id&&p.id&&(p[g(140)]=p.id),!p.id&&p._id&&(p.id=p[g(140)]),p});return console[u(192)]("[Sync] getAll returning",d[u(201)],"documents after filtering"),d}catch(f){return console[u(181)](u(167),f),[]}},delete:async u=>{const f=l,d=await wt[f(166)](u);if(!d)return;const p={id:u,fields:{...d[f(189)],_deleted:{value:!0,ts:za.tick()}}};await wt[f(164)](p),await pt[f(190)](p)},updateField:(u,f,d)=>pt[l(200)](u,f,d),reloadNetwork:async()=>{const u=l;return xt.connected?(xt[u(142)]?xt.publish(u(203),a,{qos:1,retain:!1},f=>{const d=u;f?console[d(181)](d(171),f):console[d(192)](d(129))}):console[u(121)]("[Sync] MQTT not connected, cannot request full sync"),!0):(console.warn(u(120)),!1)},clearNetworkData:async()=>{const u=l;await new Promise(g=>{const m=Ya,y=wt.db[m(136)](m(169),m(123)),h=y.objectStore(m(169))[m(184)]();h[m(145)]=()=>{console.log(m(175)),g()},h[m(182)]=()=>{const w=m;console[w(181)](w(152)),g()}}),await wt.clearPending(),console[u(192)](u(176));try{localStorage[u(146)](u(177)),localStorage.removeItem(u(188)),localStorage[u(146)](u(195)),localStorage[u(146)](u(126)),localStorage.removeItem(u(174)),localStorage[u(146)](u(160)),console[u(192)](u(132)),window.dispatchEvent(new CustomEvent("networkClear",{detail:{timestamp:new Date()[u(158)]()}}))}catch(g){console[u(181)]("[Sync] Error clearing localStorage:",g)}const f={action:u(119),_from:a,timestamp:new Date()[u(158)]()},d=await ws(o,f),p=JSON.stringify(d);xt[u(142)]?xt.publish(u(153),p,{qos:1,retain:!1},()=>{const g=u;console[g(192)](g(168))}):console[u(121)]("[Sync] MQTT not connected, clear command not broadcasted")}},console[l(192)]("[Sync] MQTT + CRDT sync engine started"),console[l(192)]("[Sync] Client ID:",a),fs}catch(o){throw console[l(181)](l(137),o),console[l(181)](l(150),o[l(194)]),console[l(181)](l(204),o.stack),o[l(194)]&&o[l(194)].includes(l(131))&&(console[l(181)](l(127)),console[l(181)](l(147))),o}}function ks(){return fs}(function(l,o){const a=Dr,u=l();for(;;)try{if(-parseInt(a(138))/1*(-parseInt(a(154))/2)+parseInt(a(159))/3+parseInt(a(150))/4*(-parseInt(a(160))/5)+-parseInt(a(155))/6*(parseInt(a(139))/7)+parseInt(a(161))/8+-parseInt(a(147))/9*(parseInt(a(141))/10)+parseInt(a(151))/11*(parseInt(a(142))/12)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(Za,741695);function Dr(l,o){return l=l-136,Za()[l]}let Jd=!1,La=null;const pl=async()=>{const l=Dr;return Jd?ks():(!La&&(La=ph()[l(148)](o=>(Jd=!0,o))[l(145)](o=>{throw console.error("[db] Error initializing sync:",o),La=null,o})),await La)},Ot=async(l,o)=>{const a=Dr;try{const u=await pl(),f=o._id||o.id,d=f?String(f):l+"_"+Date.now()+"_"+Math[a(136)]()[a(162)](36)[a(149)](2),p={...o,type:l,id:d,_id:d,createdAt:o[a(137)]||new Date()[a(143)](),updatedAt:new Date().toISOString()};return await u[a(153)](d,p),p}catch(u){throw console[a(164)]("[db] Error saving document:",u),u}},Qn=async(l=null)=>{const o=Dr;try{const a=await pl(),u=await a.getAll();return l?u.filter(f=>f[o(156)]===l):u}catch(a){return console[o(164)](o(144),a),[]}};function Za(){const l=["10IeSOut","3426216WnfMon","toISOString","[db] Error getting all documents:","catch","[db] Error getting document:","7675137gczRuN","then","slice","5964OerHAw","22WnFHaF","log","save","4mGUbPT","30UjyNGs","type","Document ID is required for deletion","[db] Error deleting document:","526002CkipyZ","1675gZMtWb","5272656eRLuwo","toString","[db] Error starting sync:","error","random","createdAt","437753mZsmDL","261779OEIgZR","get"];return Za=function(){return l},Za()}const xh=async l=>{const o=Dr;try{const a=await pl(),u=l._id||l.id;if(!u)throw new Error(o(157));await a.delete(u)}catch(a){throw console[o(164)](o(158),a),a}},hh=async()=>{const l=Dr;try{return await pl(),console[l(152)]("[db] Sync started successfully"),ks()}catch(o){return console[l(164)](l(163),o),null}},Fe=xs;(function(l,o){const a=xs,u=l();for(;;)try{if(parseInt(a(378))/1+-parseInt(a(402))/2+parseInt(a(406))/3*(parseInt(a(375))/4)+parseInt(a(401))/5*(parseInt(a(392))/6)+parseInt(a(387))/7*(-parseInt(a(409))/8)+-parseInt(a(386))/9+parseInt(a(383))/10*(parseInt(a(381))/11)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(el,474606);const qe={getAll:async l=>{try{return await Qn(l)}catch(o){return console.error("Error getting "+l+":",o),[]}},save:async(l,o)=>{const a=xs;try{return await Ot(l,o)}catch(u){throw console[a(408)](a(382)+l+":",u),u}},saveAll:async(l,o)=>{const a=xs;try{const u=[];for(const f of o){const d=await Ot(l,f);u[a(389)](d)}return u}catch(u){throw console.error(a(382)+l+":",u),u}},delete:async l=>{const o=xs;try{return await xh(l)}catch(a){throw console[o(408)](o(405),a),a}}},Je={getAll:()=>qe[Fe(398)]("resident"),save:l=>qe[Fe(410)](Fe(395),l),saveAll:l=>qe[Fe(388)](Fe(395),l),delete:l=>qe[Fe(384)](l)};function el(){const l=["[wargaDocumentsAdapter] getByUserId for userId:","type","keys","forEach","92548fJVcgL","documents","kasTransaction","662997KdwAdd","find","announcement","2507923VYkOwF","Error saving ","20QerjRm","delete","[wargaDocumentsAdapter] No document found for userId:","2502063mZvrPS","114758CrpSNU","saveAll","push","_id","status","54yoqyGd","length","[wargaDocumentsAdapter] Found document:","resident","userId","[wargaDocumentsAdapter] Available userIds:","getAll","service","[wargaDocumentsAdapter] Total docs found:","31925CHyPaq","735566eKPIjp","formData","map","Error deleting:","48Lwysmn","log","error","208lzbQhJ","save","wargaDocument"];return el=function(){return l},el()}const Wt={getAll:()=>qe.getAll("service"),save:l=>qe.save(Fe(399),l),saveAll:l=>qe[Fe(388)]("service",l),delete:l=>qe[Fe(384)](l)};function xs(l,o){return l=l-370,el()[l]}const Fn={getAll:()=>qe[Fe(398)](Fe(380)),save:l=>qe[Fe(410)](Fe(380),l),saveAll:l=>qe[Fe(388)](Fe(380),l),delete:l=>qe[Fe(384)](l)},lt={getAll:async()=>{const l=Fe;try{const o=await qe[l(398)](l(370));return console[l(407)]("[wargaDocumentsAdapter] getAll returned",o.length,l(376)),o[l(393)]>0&&o[l(374)]((a,u)=>{const f=l;console[f(407)]("[wargaDocumentsAdapter] Doc "+(u+1)+":",{id:a.id||a[f(390)],userId:a[f(396)],type:a[f(372)],hasFormData:!!a.formData,status:a[f(391)],keys:Object[f(373)](a)})}),o}catch(o){return console[l(408)]("[wargaDocumentsAdapter] Error in getAll:",o),[]}},getByUserId:async l=>{const o=Fe;try{console[o(407)](o(371),l);const a=await qe[o(398)]("wargaDocument");console[o(407)](o(400),a[o(393)]);const u=a[o(379)](f=>{const d=o,p=f[d(396)]===l;return p&&console[d(407)](d(394),{id:f.id||f[d(390)],userId:f[d(396)],type:f[d(372)],hasFormData:!!f[d(403)],status:f[d(391)]}),p});return!u&&(console.log(o(385),l),console[o(407)](o(397),a[o(404)](f=>f[o(396)]))),u||null}catch(a){return console[o(408)]("[wargaDocumentsAdapter] Error in getByUserId:",a),null}},save:l=>qe[Fe(410)]("wargaDocument",l),delete:l=>qe[Fe(384)](l)},tn=Dm;(function(l,o){const a=Dm,u=l();for(;;)try{if(parseInt(a(459))/1+parseInt(a(506))/2*(-parseInt(a(524))/3)+-parseInt(a(479))/4+-parseInt(a(511))/5+parseInt(a(457))/6*(parseInt(a(481))/7)+-parseInt(a(529))/8+parseInt(a(490))/9===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(nl,547530);const We={ADMIN:tn(499),WARGA:tn(467)},gh=async()=>{const l=tn;try{console[l(470)](l(530)),await new Promise(a=>setTimeout(a,500));const o=await Qn(l(521));if(console[l(470)](l(458),o[l(533)],o),o[l(533)]===0){console.log(l(532));const a={id:l(489),username:l(484),password:"systemadministrator",role:We[l(469)],name:"System Administrator",email:"admin@rt.local",createdAt:new Date().toISOString()};try{const u=await Ot(l(521),a);console[l(470)](l(465),u);const f=await Qn(l(521));console[l(470)](l(491),f.length)}catch(u){console[l(461)](l(514),u),JSON[l(488)](localStorage[l(462)](l(492))||"[]")[l(533)]===0&&(localStorage[l(456)](l(492),JSON.stringify([a])),console.log("Saved default user to localStorage as fallback"))}}else console[l(470)](l(466),o.map(a=>a[l(518)]))}catch(o){if(console[l(461)](l(483),o),console[l(461)]("Error stack:",o[l(472)]),JSON.parse(localStorage[l(462)](l(492))||"[]")[l(533)]===0){const u={id:1,username:l(484),password:l(486),role:We[l(469)],name:l(494),email:l(517),createdAt:new Date().toISOString()};localStorage[l(456)](l(492),JSON[l(516)]([u])),console[l(470)](l(471))}}};function Dm(l,o){return l=l-453,nl()[l]}const tl=async()=>{const l=tn;try{const o=await Qn(l(521));console.log(l(475),o.length);const a=o.map(u=>{const f=l;let d={...u};if(u.fields&&typeof u.fields=="object")for(const[p,g]of Object[f(522)](u[f(515)]))g&&typeof g===f(510)&&f(505)in g?d[p]=g[f(505)]:p!==f(477)&&(d[p]=g);return!d.id&&d[f(528)]&&(d.id=d[f(528)]),!d._id&&d.id&&(d[f(528)]=d.id),d});if(console.log(l(512),a.map(u=>({id:u.id,username:u.username,role:u.role,hasPassword:!!u[l(464)]}))),a.length===0){const u=JSON[l(488)](localStorage[l(462)](l(492))||"[]");if(u[l(533)]>0)return console.log(l(500)),u}return a}catch(o){return console[l(461)](l(468),o),JSON[l(488)](localStorage.getItem(l(492))||"[]")}},qd=async l=>{const o=tn;try{const a={...l,type:o(521),updatedAt:new Date()[o(498)](),createdAt:l[o(520)]||new Date()[o(498)]()};return await qe[o(485)](o(521),a)}catch(a){throw console[o(461)](o(526),a),a}},yh=async l=>{const o=tn;try{return await qe[o(487)](l)}catch(a){throw console[o(461)](o(519),a),a}},vh=async(l,o)=>{var u;const a=tn;try{console.log("[Login] Attempt for username:",l),console.log(a(476),(o==null?void 0:o.length)||0);const f=l==null?void 0:l[a(509)]().toLowerCase();if(f===a(484))if(console.log("[Login] Sysadmin user detected - bypassing database check"),o==="systemadministrator"){console.log(a(482));const m={id:a(523),username:"sysadmin",role:We.ADMIN,name:a(494),email:a(517)};return localStorage[a(456)](a(497),JSON[a(516)](m)),localStorage[a(456)](a(525),"true"),{success:!0,user:m}}else return console[a(470)](a(501)),{success:!1,message:a(453)};const d=await tl();console[a(470)](a(531),d[a(533)]),console.log("[Login] Users list:",d[a(496)](g=>{var m;return{id:g.id,username:g[a(518)],role:g.role,hasPassword:!!g[a(464)],passwordLength:((m=g[a(464)])==null?void 0:m[a(533)])||0,passwordPreview:g[a(464)]?g[a(464)][a(534)](0,2)+"...":"no password"}}));let p=d[a(503)](g=>{var h;const m=a;return((h=g.username)==null?void 0:h[m(509)]()[m(463)]())===f});if(!p)return console[a(470)](a(527),l),console[a(470)](a(493),d[a(496)](g=>g.username)),{success:!1,message:"Username atau password salah!"};if(console[a(470)](a(513),{id:p.id,username:p.username,role:p[a(480)],passwordMatch:p[a(464)]===o}),p[a(464)]===o){console[a(470)](a(508),l);const g={id:p.id,username:p[a(518)],role:p[a(480)],name:p.name,email:p[a(454)]};return localStorage[a(456)](a(497),JSON[a(516)](g)),localStorage.setItem(a(525),"true"),{success:!0,user:g}}return console[a(470)](a(504)),console[a(470)](a(495),((u=p[a(464)])==null?void 0:u[a(533)])||0),console[a(470)](a(502),(o==null?void 0:o[a(533)])||0),{success:!1,message:a(453)}}catch(f){return console[a(461)](a(507),f),console[a(461)](a(460),f[a(472)]),{success:!1,message:a(473)}}},ht=()=>{const l=tn,o=localStorage[l(462)]("currentUser");return o?JSON.parse(o):null},_m=()=>{const l=tn;localStorage[l(474)](l(497)),localStorage[l(474)](l(525))};function nl(){const l=["Default admin user created:","Users already exist:","warga","[getUsers] Error getting users:","ADMIN","log","Created default user in localStorage as fallback","stack","Terjadi kesalahan saat login!","removeItem","[getUsers] Found users from DB:","[Login] Password length:","_deleted","push","2483976NHwSmc","role","21eABWdN","[Login] Sysadmin password match! Login successful","Error initializing users:","sysadmin","save","systemadministrator","delete","parse","user_1","22700808YPmZSm","Verified users after creation:","users","[Login] Available usernames:","System Administrator","[Login] Expected password length:","map","currentUser","toISOString","admin","[getUsers] Using users from localStorage fallback","[Login] Sysadmin password mismatch!","[Login] Provided password length:","find","[Login] Password mismatch!","value","518dyutBW","[Login] Error:","[Login] Password match! Login successful for:","trim","object","834020KgVCdC","[getUsers] Normalized users:","[Login] User found:","Error saving default user:","fields","stringify","admin@rt.local","username","Error deleting user:","createdAt","user","entries","sysadmin_1","10173zXudCH","isLoggedIn","Error saving user:","[Login] User not found:","_id","6104952jZWAcE","Initializing users...","[Login] Total users found:","No users found, creating default admin user...","length","substring","Username atau password salah!","email","WARGA","setItem","9060HlkWXS","Found users:","449874uVEOFK","[Login] Error stack:","error","getItem","toLowerCase","password"];return nl=function(){return l},nl()}const jh=({children:l})=>{const[o,a]=I.useState(()=>typeof window<"u"?window.innerWidth>768:!1),u=Nr(),f=ul(),[d,p]=I.useState(null),[g,m]=I.useState(0),[y,h]=I.useState(0),[w,O]=I.useState(0),[F,ee]=I.useState(0),[$,S]=I.useState(0),[M,K]=I.useState(null),Q=I.useMemo(()=>[{path:"/",icon:Qd,label:"Dashboard"},{path:"/residents",icon:Eo,label:"Warga"},{path:"/services",icon:vs,label:"Pelayanan"},{path:"/announcements",icon:Wa,label:"Pengumuman"},{path:"/documents",icon:it,label:"Dokumen Warga"},{path:"/kas",icon:th,label:"Kas RT"},{path:"/chat",icon:Sr,label:"Chat Group"},{path:"/users",icon:eh,label:"Manajemen User"}],[]),q=I.useMemo(()=>[{path:"/",icon:Qd,label:"Dashboard"},{path:"/documents",icon:it,label:"Dokumen Saya"},{path:"/my-services",icon:vs,label:"Pelayanan Saya"},{path:"/announcements",icon:Wa,label:"Pengumuman"},{path:"/chat",icon:Sr,label:"Chat Group"}],[]);I.useEffect(()=>{const C=ht();p(C),typeof window<"u"&&(window.innerWidth>768?a(!0):a(!1))},[]),I.useEffect(()=>{const C=async()=>{if(d)try{if(d.role===We.ADMIN){const fe=await Wt.getAll(),b=JSON.parse(localStorage.getItem("services")||"[]"),W=[...fe,...b].filter((re,de,ye)=>de===ye.findIndex(De=>De.id===re.id||De._id&&De._id===re._id)).filter(re=>(re.status==="pending"||re.status==="processing")&&re.status!=="cancelled").length;m(W);const v=await Je.getAll(),P=JSON.parse(localStorage.getItem("residents")||"[]"),pe=[...v,...P].filter((re,de,ye)=>de===ye.findIndex(De=>De.id===re.id||De._id&&De._id===re._id));h(pe.length);const ae=await lt.getAll(),X=JSON.parse(localStorage.getItem("wargaDocuments")||"{}");let ie=0;ae.forEach(re=>{(re.status==="pending"||!re.status)&&ie++}),Object.keys(X).forEach(re=>{const de=X[re];!ae.some(De=>De.userId===re)&&(de.status==="pending"||!de.status)&&ie++}),O(ie)}else if(d.role===We.WARGA){const fe=await Wt.getAll(),b=JSON.parse(localStorage.getItem("services")||"[]"),Z=[...fe,...b].filter((ae,X,ie)=>X===ie.findIndex(re=>re.id===ae.id||re._id&&re._id===ae._id)),W=await Je.getAll(),v=JSON.parse(localStorage.getItem("residents")||"[]"),pe=[...W,...v].filter((ae,X,ie)=>X===ie.findIndex(re=>re.id===ae.id||re._id&&re._id===ae._id)).find(ae=>ae.userId===d.id||ae.email===(d==null?void 0:d.email)||ae.name===(d==null?void 0:d.name));if(pe){const X=Z.filter(ie=>ie.residentId===pe.id||ie.residentId===pe._id).filter(ie=>(ie.status==="pending"||ie.status==="processing")&&ie.status!=="cancelled").length;ee(X)}else ee(0);try{const ae=await lt.getByUserId(d.id);if(ae&&ae.status)K(ae.status);else{const ie=JSON.parse(localStorage.getItem("wargaDocuments")||"{}")[d.id]||{};ie.status?K(ie.status):ie.formData||ie.ktp||ie.kartuKeluarga?K("pending"):K(null)}}catch(ae){console.error("Error loading warga document status:",ae),K(null)}}const te=await Qn("chatMessage"),xe=localStorage.getItem(`chatLastRead_${d.id}`);if(xe){const fe=te.filter(b=>{const z=new Date(b.createdAt).getTime(),Z=new Date(xe).getTime();return z>Z&&b.userId!==d.id}).length;S(fe)}else{const fe=te.filter(b=>b.userId!==d.id).length;S(fe)}}catch(te){console.error("Error loading badge counts:",te)}};C();const G=setInterval(C,5e3);return()=>clearInterval(G)},[d]);const ne=(d==null?void 0:d.role)===We.ADMIN?Q:q,ce=C=>G=>{if(G&&typeof G.preventDefault=="function"&&G.preventDefault(),typeof window<"u"&&window.innerWidth<=768&&a(!1),C==="/chat"&&d){const xe=new Date().toISOString();localStorage.setItem(`chatLastRead_${d.id}`,xe),S(0)}f(C)},U=()=>{a(C=>!C)},E=()=>{window.confirm("Apakah Anda yakin ingin keluar?")&&(_m(),f("/login"))},[B,N]=I.useState(()=>typeof window<"u"?window.innerWidth>768:!1);I.useEffect(()=>{const C=()=>{const G=window.innerWidth>768;N(G),a(!!G)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),I.useEffect(()=>{a(!!B)},[B,u.pathname]);const _=B||o;return r.jsxs("div",{className:"d-flex vh-100 overflow-hidden",children:[r.jsxs("div",{className:`bg-white border-end position-fixed h-100 d-flex flex-column sidebar-bootstrap ${_?"sidebar-open":"sidebar-closed"}`,style:{width:"260px",zIndex:1e3,top:0,left:B||o?0:-260,transition:"transform 0.3s ease, left 0.3s ease",backgroundColor:"white"},children:[r.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center flex-shrink-0",children:[r.jsx("h5",{className:"mb-0 text-primary fw-bold",children:"RT Management"}),r.jsx("button",{className:"btn btn-sm btn-outline-secondary d-md-none",onClick:()=>a(!1),"aria-label":"Close menu",children:r.jsx(js,{size:18})})]}),r.jsx("nav",{className:"flex-grow-1 p-2 overflow-auto",children:ne.map(C=>{const G=C.icon;u.pathname===C.path||C.path==="/"&&u.pathname;let te=0,xe=null;return(d==null?void 0:d.role)===We.ADMIN?C.path==="/services"?te=g:C.path==="/residents"?te=y:C.path==="/documents"?te=w:C.path==="/chat"&&(te=$):(d==null?void 0:d.role)===We.WARGA&&(C.path==="/my-services"?te=F:C.path==="/chat"?te=$:C.path==="/documents"&&(M==="approved"?xe=r.jsx(en,{size:18,className:"text-success"}):(M==="pending"||M==="rejected")&&(xe=r.jsx(xm,{size:18,className:"text-warning"})))),r.jsxs(Ux,{to:C.path,onClick:ce(C.path),className:({isActive:fe})=>`btn w-100 text-start mb-2 d-flex align-items-center gap-2 text-decoration-none ${fe?"btn-primary text-white":"btn-outline-secondary"}`,end:C.path==="/",children:[r.jsx(G,{size:20}),r.jsx("span",{className:"flex-grow-1",children:C.label}),te>0&&r.jsx("span",{className:"badge bg-danger rounded-pill",children:te}),xe&&r.jsx("span",{children:xe})]},C.path)})})]}),o&&r.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50 d-md-none",style:{zIndex:999},onClick:()=>a(!1)}),r.jsxs("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden main-content",style:B?{marginLeft:"260px",width:"calc(100% - 260px)",transition:"margin-left 0.3s ease, width 0.3s ease"}:{width:"100%",marginLeft:0},children:[r.jsxs("header",{className:"bg-white border-bottom shadow-sm p-3 d-flex align-items-center gap-3 flex-shrink-0",children:[r.jsx("button",{className:"btn btn-outline-secondary d-md-none",onClick:U,"aria-label":"Toggle menu",type:"button",children:r.jsx(Xx,{size:20})}),r.jsx("h5",{className:"mb-0 flex-grow-1 text-truncate",children:"Aplikasi Pelayanan Masyarakat RT"}),r.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 px-2 py-1 bg-light rounded",children:[r.jsx("span",{className:"small",children:(d==null?void 0:d.name)||(d==null?void 0:d.username)||"User"}),(d==null?void 0:d.role)===We.ADMIN&&r.jsx("span",{className:"badge bg-primary",children:"Admin"})]}),r.jsx("button",{className:"btn btn-danger btn-sm d-flex align-items-center justify-content-center",onClick:E,title:"Keluar",style:{minWidth:"40px",minHeight:"40px"},children:r.jsx(Yx,{size:18})})]})]}),r.jsx("div",{className:"flex-grow-1 overflow-auto p-3",children:l})]})]})},wh=({children:l})=>{const o=ul();I.useEffect(()=>{const f=localStorage.getItem("isLoggedIn")==="true",d=ht();(!f||!d)&&(_m(),o("/login"))},[o]);const a=localStorage.getItem("isLoggedIn")==="true",u=ht();return!a||!u?null:l},kh=()=>{const[l,o]=I.useState(""),[a,u]=I.useState(""),[f,d]=I.useState(""),[p,g]=I.useState(!1),m=ul();I.useEffect(()=>{(async()=>{await gh()})(),localStorage.getItem("isLoggedIn")==="true"&&m("/"),o(""),u("")},[m]);const y=async h=>{h.preventDefault(),d(""),g(!0);try{const w=await vh(l,a);w.success?m("/"):(d(w.message),g(!1))}catch(w){console.error("Login error:",w),d("Terjadi kesalahan saat login. Silakan coba lagi."),g(!1)}};return r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"login-icon mx-auto mb-3",children:r.jsx($d,{size:48})}),r.jsx("h1",{className:"h3 mb-2",children:"RT Management"}),r.jsx("p",{className:"text-muted",children:"Aplikasi Pelayanan Masyarakat"})]}),r.jsxs("form",{onSubmit:y,autoComplete:"off",children:[f&&r.jsx("div",{className:"alert alert-danger",role:"alert",children:f}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("label",{className:"form-label d-flex align-items-center gap-2",children:[r.jsx(Ao,{size:18}),"Username"]}),r.jsx("input",{type:"text",className:"form-control",name:"username",value:l,onChange:h=>o(h.target.value),placeholder:"Masukkan username",required:!0,autoFocus:!0,disabled:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"form-label d-flex align-items-center gap-2",children:[r.jsx($d,{size:18}),"Password"]}),r.jsx("input",{type:"password",className:"form-control",name:"password",value:a,onChange:h=>u(h.target.value),placeholder:"Masukkan password",required:!0,disabled:p,autoComplete:"new-password"})]}),r.jsx("button",{type:"submit",className:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",disabled:p,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Memproses..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Gx,{size:20}),"Masuk"]})})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("p",{className:"text-muted small mb-0",children:"Ketua RT - Sistem Administrasi"})})]})})},Gd=()=>{const[l,o]=I.useState({totalResidents:0,activeServices:0,announcements:0,completedServices:0,pendingDocuments:0,pendingServices:0});I.useEffect(()=>{a();const m=setInterval(a,5e3);return()=>clearInterval(m)},[]);const a=async()=>{try{const m=await Je.getAll(),y=await Wt.getAll(),h=await Fn.getAll(),w=await lt.getAll(),O=JSON.parse(localStorage.getItem("residents")||"[]"),F=JSON.parse(localStorage.getItem("services")||"[]"),ee=JSON.parse(localStorage.getItem("announcements")||"[]"),S=[...m,...O].filter((E,B,N)=>B===N.findIndex(_=>_.id===E.id||_._id&&_._id===E._id)),K=[...y,...F].filter((E,B,N)=>B===N.findIndex(_=>_.id===E.id||_._id&&_._id===E._id)),q=[...h,...ee].filter((E,B,N)=>B===N.findIndex(_=>_.id===E.id||_._id&&_._id===E._id)),ne=w.filter(E=>E.status==="pending"||!E.status),ce=JSON.parse(localStorage.getItem("wargaDocuments")||"{}");let U=0;Object.keys(ce).forEach(E=>{const B=ce[E];!w.some(_=>_.userId===E)&&(B.status==="pending"||!B.status)&&U++}),o({totalResidents:S.length,activeServices:K.filter(E=>E.status==="pending"||E.status==="processing").length,pendingServices:K.filter(E=>E.status==="pending").length,announcements:q.length,completedServices:K.filter(E=>E.status==="completed").length,pendingDocuments:ne.length+U})}catch(m){console.error("Error loading dashboard stats:",m);const y=JSON.parse(localStorage.getItem("residents")||"[]"),h=JSON.parse(localStorage.getItem("services")||"[]"),w=JSON.parse(localStorage.getItem("announcements")||"[]");o({totalResidents:y.length,activeServices:h.filter(O=>O.status==="pending"||O.status==="processing").length,pendingServices:h.filter(O=>O.status==="pending").length,announcements:w.length,completedServices:h.filter(O=>O.status==="completed").length,pendingDocuments:0})}},u=[{title:"Total Warga",value:l.totalResidents,icon:Eo,color:"primary",description:"Warga terdaftar"},{title:"Dokumen Pending",value:l.pendingDocuments,icon:it,color:"warning",description:"Menunggu verifikasi"},{title:"Pelayanan Pending",value:l.pendingServices,icon:Bn,color:"info",description:"Menunggu diproses"},{title:"Pelayanan Selesai",value:l.completedServices,icon:So,color:"success",description:"Pelayanan yang sudah selesai"}],f=async()=>{const m=ht();if((m==null?void 0:m.role)!==We.ADMIN){alert("Hanya admin yang dapat melakukan operasi ini!");return}try{const y=ks();if(!y){alert("Sync engine belum terinisialisasi. Silakan refresh halaman.");return}if(!y.isOnline()){alert("MQTT tidak terhubung. Pastikan koneksi internet aktif.");return}await y.reloadNetwork()?(alert("Permintaan sync network telah dikirim. Data akan diupdate dari semua client yang terhubung."),setTimeout(()=>{a()},2e3)):alert("Gagal meminta sync network. Pastikan MQTT terhubung.")}catch(y){console.error("Error reloading network:",y),alert("Terjadi kesalahan saat meminta sync network: "+y.message)}},d=async()=>{const m=ht();if((m==null?void 0:m.role)!==We.ADMIN){alert("Hanya admin yang dapat melakukan operasi ini!");return}if(!(!window.confirm(`PERINGATAN: Tindakan ini akan menghapus SEMUA data di SEMUA client yang terhubung ke network!

Apakah Anda yakin ingin melanjutkan?`)||!window.confirm("Konfirmasi akhir: Data akan dihapus PERMANEN dari semua client. Lanjutkan?")))try{const w=ks();if(!w){alert("Sync engine belum terinisialisasi. Silakan refresh halaman.");return}await w.clearNetworkData(),alert("Data telah dihapus dari semua client di network!"),window.location.reload()}catch(w){console.error("Error clearing network data:",w),alert("Terjadi kesalahan saat menghapus data: "+w.message)}},p=ht(),g=(p==null?void 0:p.role)===We.ADMIN;return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"mb-4 d-flex justify-content-between align-items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-muted",children:"Ringkasan statistik dan informasi penting"})]}),g&&r.jsxs("div",{className:"d-flex gap-2",children:[r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:f,title:"Minta sync data dari semua client (Network Reload)",children:[r.jsx(fl,{size:18}),r.jsx("span",{className:"d-none d-md-inline",children:"Reload Network"})]}),r.jsxs("button",{className:"btn btn-danger d-flex align-items-center gap-2",onClick:d,title:"Hapus semua data di semua client (Network Clear)",children:[r.jsx(bs,{size:18}),r.jsx("span",{className:"d-none d-md-inline",children:"Network Clear"})]})]})]}),r.jsx("div",{className:"row g-3 mb-4",children:u.map((m,y)=>{const h=m.icon;return r.jsx("div",{className:"col-12 col-sm-6 col-lg-3",children:r.jsx("div",{className:`card border-0 shadow-sm h-100 bg-${m.color} bg-opacity-10`,children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:`bg-${m.color} bg-opacity-25 rounded p-3`,children:r.jsx(h,{size:24,className:`text-${m.color}`})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h3",{className:"mb-0 fw-bold",children:m.value}),r.jsx("p",{className:"mb-1 small text-muted",children:m.title}),m.description&&r.jsx("p",{className:"mb-0 small text-muted",children:m.description})]})]})})})},y)})}),r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-12 col-lg-6",children:r.jsx("div",{className:"card border-0 shadow-sm",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h5",{className:"card-title d-flex align-items-center gap-2",children:[r.jsx(Wa,{size:20}),"Ringkasan Pengumuman"]}),r.jsxs("p",{className:"text-muted small mb-0",children:["Total pengumuman aktif: ",r.jsx("strong",{children:l.announcements})]})]})})}),r.jsx("div",{className:"col-12 col-lg-6",children:r.jsx("div",{className:"card border-0 shadow-sm",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h5",{className:"card-title d-flex align-items-center gap-2",children:[r.jsx(vs,{size:20}),"Ringkasan Pelayanan"]}),r.jsxs("div",{className:"d-flex gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted small mb-0",children:"Aktif"}),r.jsx("p",{className:"mb-0 fw-bold",children:l.activeServices})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted small mb-0",children:"Selesai"}),r.jsx("p",{className:"mb-0 fw-bold text-success",children:l.completedServices})]})]})]})})})]})]})},Sh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState(""),[f,d]=I.useState(!1),[p,g]=I.useState(null),[m,y]=I.useState(!0),[h,w]=I.useState({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),[O,F]=I.useState({fotoKtp:!1,fotoKk:!1}),[ee,$]=I.useState(null),[S,M]=I.useState(!1);I.useEffect(()=>{K();const _=setInterval(()=>{K()},5e3);return()=>clearInterval(_)},[]);const K=async()=>{try{y(!0),console.log("[Residents] Loading residents from database...");const _=await Je.getAll();console.log(`[Residents] Loaded ${_.length} residents from database:`,_);const C=JSON.parse(localStorage.getItem("residents")||"[]");console.log(`[Residents] Loaded ${C.length} residents from localStorage:`,C);const te=[..._,...C].filter((fe,b,z)=>b===z.findIndex(Z=>Z.id===fe.id||Z._id&&Z._id===fe._id));console.log(`[Residents] After merge: ${te.length} unique residents`);const xe=te.sort((fe,b)=>{const z=new Date(fe.createdAt||fe.updatedAt||0);return new Date(b.createdAt||b.updatedAt||0)-z});console.log("[Residents] Final sorted residents:",xe),o(xe)}catch(_){console.error("[Residents] Error loading residents:",_);const G=JSON.parse(localStorage.getItem("residents")||"[]").sort((te,xe)=>{const fe=new Date(te.createdAt||te.updatedAt||0);return new Date(xe.createdAt||xe.updatedAt||0)-fe});o(G)}finally{y(!1)}},Q=async _=>{_.preventDefault();try{if(p){const C={...p,...h,familyMembers:parseInt(h.familyMembers)||1};await Je.save(C)}else{const C={id:Date.now(),...h,familyMembers:parseInt(h.familyMembers)||1};await Je.save(C)}await K(),ce()}catch(C){console.error("Error saving resident:",C),alert("Terjadi kesalahan saat menyimpan data")}},q=_=>{var C;g(_),w({name:_.name||"",nik:_.nik||"",address:_.address||"",phone:_.phone||"",familyMembers:((C=_.familyMembers)==null?void 0:C.toString())||"",fotoKtp:_.fotoKtp||null,fotoKk:_.fotoKk||null}),d(!0)},ne=async _=>{if(window.confirm("Apakah Anda yakin ingin menghapus data warga ini?"))try{const C=l.find(G=>G.id===_);C&&(await Je.delete(C),await K())}catch(C){console.error("Error deleting resident:",C),alert("Terjadi kesalahan saat menghapus data")}},ce=()=>{d(!1),g(null),w({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),F({fotoKtp:!1,fotoKk:!1})},U=async(_,C)=>{const G=C.target.files[0];if(!G)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(G.type)){alert("Format file tidak didukung. Gunakan JPG, PNG, atau PDF.");return}if(G.size>5*1024*1024){alert("Ukuran file terlalu besar. Maksimal 5MB.");return}F({...O,[_]:!0});const xe=new FileReader;xe.onloadend=()=>{const fe={fileName:G.name,fileType:G.type,fileSize:G.size,uploadDate:new Date().toISOString(),dataUrl:xe.result};w({...h,[_]:fe}),F({...O,[_]:!1})},xe.readAsDataURL(G)},E=_=>{w({...h,[_]:null})},B=_=>{if(!_)return"0 Bytes";const C=1024,G=["Bytes","KB","MB"],te=Math.floor(Math.log(_)/Math.log(C));return Math.round(_/Math.pow(C,te)*100)/100+" "+G[te]},N=l.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.nik.includes(a)||_.address.toLowerCase().includes(a.toLowerCase()));return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Data Warga"}),r.jsx("p",{className:"text-muted mb-0",children:"Kelola data warga RT"})]}),r.jsxs("div",{className:"d-flex gap-2",children:[r.jsxs("button",{className:"btn btn-outline-secondary d-flex align-items-center gap-2",onClick:async()=>{if(M(!S),!S)try{const _=await Je.getAll(),C=await Qn("resident");$({dbCount:_.length,allDocsCount:C.length,dbResidents:_,allDocs:C})}catch(_){console.error("Error loading debug info:",_)}},children:[r.jsx(Hx,{size:18}),r.jsx("span",{className:"d-none d-sm-inline",children:"Debug"})]}),r.jsxs("button",{className:"btn btn-outline-secondary d-flex align-items-center gap-2",onClick:K,title:"Refresh data",children:[r.jsx(fl,{size:18}),r.jsx("span",{className:"d-none d-sm-inline",children:"Refresh"})]}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>d(!0),children:[r.jsx(br,{size:20}),"Tambah Warga"]})]})]}),S&&ee&&r.jsxs("div",{className:"alert alert-info mb-4",children:[r.jsx("h5",{className:"mb-3",children:"Debug Info - Status Penyimpanan & Sync"}),r.jsxs("div",{className:"row g-3",children:[r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Residents dari DB Adapter:"})," ",ee.dbCount]}),r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Residents dari getAllDocuments:"})," ",ee.allDocsCount]}),r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Residents yang ditampilkan:"})," ",l.length]})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"LocalStorage count:"})," ",JSON.parse(localStorage.getItem("residents")||"[]").length]}),r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Sync Status:"})," Check console untuk log sync"]})]})]}),r.jsxs("details",{className:"mt-3",children:[r.jsx("summary",{className:"cursor-pointer",children:"Lihat Detail Data (Klik untuk expand)"}),r.jsxs("div",{className:"mt-2",children:[r.jsx("h6",{children:"DB Adapter Residents:"}),r.jsx("pre",{className:"bg-light p-2 rounded small",style:{maxHeight:"200px",overflow:"auto"},children:JSON.stringify(ee.dbResidents,null,2)}),r.jsx("h6",{className:"mt-3",children:"All Documents (type: resident):"}),r.jsx("pre",{className:"bg-light p-2 rounded small",style:{maxHeight:"200px",overflow:"auto"},children:JSON.stringify(ee.allDocs,null,2)})]})]})]}),r.jsxs("div",{className:"input-group mb-4",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(Ns,{size:20})}),r.jsx("input",{type:"text",className:"form-control",placeholder:"Cari warga berdasarkan nama, NIK, atau alamat...",value:a,onChange:_=>u(_.target.value)})]}),m?r.jsx("div",{className:"text-center py-5",children:r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):N.length===0?r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:"Tidak ada data warga. Tambahkan warga baru untuk memulai."})}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table table-hover align-middle",children:[r.jsx("thead",{className:"table-light",children:r.jsxs("tr",{children:[r.jsx("th",{style:{width:"50px"},children:"No"}),r.jsx("th",{children:"Nama"}),r.jsx("th",{children:"NIK"}),r.jsx("th",{children:"Alamat"}),r.jsx("th",{children:"No. Telepon"}),r.jsx("th",{style:{width:"120px"},children:"Jumlah Anggota"}),r.jsx("th",{style:{width:"100px"},children:"Aksi"})]})}),r.jsx("tbody",{children:N.map((_,C)=>r.jsxs("tr",{children:[r.jsx("td",{children:C+1}),r.jsx("td",{className:"fw-semibold",children:_.name}),r.jsx("td",{children:r.jsx("code",{children:_.nik})}),r.jsx("td",{children:_.address}),r.jsx("td",{children:_.phone}),r.jsx("td",{className:"text-center",children:_.familyMembers}),r.jsx("td",{children:r.jsxs("div",{className:"d-flex gap-2",children:[r.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>q(_),title:"Edit",children:r.jsx(ml,{size:16})}),r.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ne(_.id),title:"Hapus",children:r.jsx(bs,{size:16})})]})})]},_.id))})]})}),f&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:p?"Edit Warga":"Tambah Warga Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:ce,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:Q,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Nama Lengkap"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:h.name,onChange:_=>w({...h,name:_.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"NIK"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:h.nik,onChange:_=>w({...h,nik:_.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Alamat"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:h.address,onChange:_=>w({...h,address:_.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"No. Telepon"}),r.jsx("input",{type:"tel",className:"form-control",required:!0,value:h.phone,onChange:_=>w({...h,phone:_.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Jumlah Anggota Keluarga"}),r.jsx("input",{type:"number",className:"form-control",min:"1",required:!0,value:h.familyMembers,onChange:_=>w({...h,familyMembers:_.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Foto KTP"}),h.fotoKtp?r.jsxs("div",{className:"file-preview",children:[r.jsxs("div",{className:"file-info",children:[r.jsx(it,{size:16}),r.jsx("span",{children:h.fotoKtp.fileName}),r.jsxs("span",{className:"file-size",children:["(",B(h.fotoKtp.fileSize),")"]})]}),h.fotoKtp.dataUrl&&h.fotoKtp.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"file-preview-image",children:r.jsx("img",{src:h.fotoKtp.dataUrl,alt:"KTP Preview"})}),r.jsxs("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>E("fotoKtp"),children:[r.jsx(js,{size:14}),"Hapus"]})]}):r.jsxs("label",{className:"file-upload-area",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:_=>U("fotoKtp",_),disabled:O.fotoKtp,style:{display:"none"}}),O.fotoKtp?r.jsxs("div",{className:"text-center py-3",children:[r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})}),r.jsx("p",{className:"mt-2 mb-0",children:"Mengupload..."})]}):r.jsxs("div",{className:"text-center py-3",children:[r.jsx(Ba,{size:32,className:"mb-2"}),r.jsx("p",{className:"mb-1",children:"Klik untuk upload foto KTP"}),r.jsx("small",{className:"text-muted",children:"Format: JPG, PNG, atau PDF (Maks. 5MB)"})]})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Foto Kartu Keluarga (KK)"}),h.fotoKk?r.jsxs("div",{className:"file-preview",children:[r.jsxs("div",{className:"file-info",children:[r.jsx(it,{size:16}),r.jsx("span",{children:h.fotoKk.fileName}),r.jsxs("span",{className:"file-size",children:["(",B(h.fotoKk.fileSize),")"]})]}),h.fotoKk.dataUrl&&h.fotoKk.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"file-preview-image",children:r.jsx("img",{src:h.fotoKk.dataUrl,alt:"KK Preview"})}),r.jsxs("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>E("fotoKk"),children:[r.jsx(js,{size:14}),"Hapus"]})]}):r.jsxs("label",{className:"file-upload-area",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:_=>U("fotoKk",_),disabled:O.fotoKk,style:{display:"none"}}),O.fotoKk?r.jsxs("div",{className:"text-center py-3",children:[r.jsx("div",{className:"spinner-border text-primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})}),r.jsx("p",{className:"mt-2 mb-0",children:"Mengupload..."})]}):r.jsxs("div",{className:"text-center py-3",children:[r.jsx(Ba,{size:32,className:"mb-2"}),r.jsx("p",{className:"mb-1",children:"Klik untuk upload foto KK"}),r.jsx("small",{className:"text-muted",children:"Format: JPG, PNG, atau PDF (Maks. 5MB)"})]})]})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end mt-4",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ce,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Simpan Perubahan":"Tambah Warga"})]})]})})]})})})]})},Nh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState([]),[f,d]=I.useState(""),[p,g]=I.useState("all"),[m,y]=I.useState(!1),[h,w]=I.useState({residentId:"",type:"",description:"",status:"pending"});I.useEffect(()=>{O();const U=setInterval(()=>{O()},5e3);return()=>clearInterval(U)},[]);const O=async()=>{try{const U=await Wt.getAll(),E=await Je.getAll(),B=JSON.parse(localStorage.getItem("services")||"[]"),N=JSON.parse(localStorage.getItem("residents")||"[]"),C=[...U,...B].filter((xe,fe,b)=>fe===b.findIndex(z=>z.id===xe.id||z._id&&z._id===xe._id)).sort((xe,fe)=>{const b=new Date(xe.createdAt||xe.date||0);return new Date(fe.createdAt||fe.date||0)-b}),te=[...E,...N].filter((xe,fe,b)=>fe===b.findIndex(z=>z.id===xe.id||z._id&&z._id===xe._id));o(C),u(te)}catch(U){console.error("Error loading data:",U);const E=JSON.parse(localStorage.getItem("services")||"[]"),B=JSON.parse(localStorage.getItem("residents")||"[]"),N=E.sort((_,C)=>{const G=new Date(_.createdAt||_.date||0);return new Date(C.createdAt||C.date||0)-G});o(N),u(B)}},F=async U=>{localStorage.setItem("services",JSON.stringify(U)),o(U)},ee=async U=>{U.preventDefault();const E={id:`service_${Date.now()}`,type:"service",residentId:h.residentId,serviceType:h.type,description:h.description,status:h.status||"pending",date:new Date().toISOString(),createdAt:new Date().toISOString()};E.type=h.type;try{await Wt.save(E);const B=[...l,E];await F(B),await O(),M()}catch(B){console.error("Error saving service:",B),alert("Terjadi kesalahan saat menyimpan pelayanan")}},$=async(U,E)=>{try{const B=l.find(C=>C.id===U||C._id===U);if(!B){console.error("Service not found:",U);return}const N={...B,status:E,updatedAt:new Date().toISOString()};B._id&&await Wt.save(N);const _=l.map(C=>C.id===U||C._id===U?N:C);await F(_),await O()}catch(B){console.error("Error updating service status:",B),alert("Terjadi kesalahan saat mengupdate status pelayanan")}},S=async U=>{if(window.confirm("Apakah Anda yakin ingin menghapus pelayanan ini?"))try{const E=l.find(N=>N.id===U||N._id===U);E&&E._id&&await Wt.delete(E);const B=l.filter(N=>N.id!==U&&N._id!==U);await F(B),await O()}catch(E){console.error("Error deleting service:",E),alert("Terjadi kesalahan saat menghapus pelayanan")}},M=()=>{y(!1),w({residentId:"",type:"",description:"",status:"pending"})},K=U=>{let E=a.find(B=>B.id===U||B.id===String(U)||B.id===parseInt(U));return E||(E=a.find(B=>B._id===U)),E?E.name:"Tidak diketahui"},Q=U=>{switch(U){case"completed":return r.jsx(en,{size:16,className:"status-icon completed"});case"processing":return r.jsx(Bn,{size:16,className:"status-icon processing"});case"pending":return r.jsx(Bn,{size:16,className:"status-icon pending"});case"cancelled":return r.jsx(Un,{size:16,className:"status-icon cancelled"});default:return null}},q=U=>({pending:"Menunggu",processing:"Diproses",completed:"Selesai",cancelled:"Dibatalkan"})[U]||U,ne=l.filter(U=>{const E=U.serviceType||U.type||"",B=K(U.residentId).toLowerCase().includes(f.toLowerCase())||E.toLowerCase().includes(f.toLowerCase())||(U.description||"").toLowerCase().includes(f.toLowerCase()),N=p==="all"||U.status===p;return B&&N}),ce=["Surat Keterangan","Surat Pengantar","Surat Domisili","Surat Tidak Mampu","Lainnya"];return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Pelayanan Masyarakat"}),r.jsx("p",{className:"text-muted mb-0",children:"Kelola permintaan pelayanan dari warga"})]}),r.jsxs("div",{className:"d-flex gap-2 w-100 w-md-auto",children:[r.jsxs("button",{className:"btn btn-outline-secondary d-flex align-items-center gap-2 flex-grow-1 flex-md-grow-0",onClick:O,title:"Refresh data",children:[r.jsx(fl,{size:18}),r.jsx("span",{className:"d-none d-sm-inline",children:"Refresh"})]}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2 flex-grow-1 flex-md-grow-0",onClick:()=>y(!0),children:[r.jsx(br,{size:20}),r.jsx("span",{className:"d-none d-sm-inline",children:"Tambah"}),r.jsx("span",{className:"d-sm-none",children:"Tambah"})]})]})]}),r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsx("div",{className:"col-12 col-md-8",children:r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(Ns,{size:20})}),r.jsx("input",{type:"text",className:"form-control",placeholder:"Cari pelayanan...",value:f,onChange:U=>d(U.target.value)})]})}),r.jsx("div",{className:"col-12 col-md-4",children:r.jsxs("select",{className:"form-select",value:p,onChange:U=>g(U.target.value),children:[r.jsx("option",{value:"all",children:"Semua Status"}),r.jsx("option",{value:"pending",children:"Menunggu"}),r.jsx("option",{value:"processing",children:"Diproses"}),r.jsx("option",{value:"completed",children:"Selesai"}),r.jsx("option",{value:"cancelled",children:"Dibatalkan"})]})})]}),r.jsx("div",{className:"row g-3",children:ne.length===0?r.jsx("div",{className:"col-12",children:r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:"Tidak ada data pelayanan. Tambahkan pelayanan baru untuk memulai."})})}):ne.map(U=>{const E=U.serviceType||(U.type&&U.type!=="service"?U.type:null)||"Pelayanan",B=U.status||"pending";return r.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:r.jsx("div",{className:"card h-100 shadow-sm",children:r.jsxs("div",{className:"card-body d-flex flex-column",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h5",{className:"card-title mb-1 text-truncate",children:E}),r.jsx("p",{className:"text-muted small mb-0 text-truncate",children:K(U.residentId)})]}),r.jsxs("span",{className:`badge ${B==="completed"?"bg-success":B==="processing"?"bg-info":B==="cancelled"?"bg-secondary":"bg-warning"} d-flex align-items-center gap-1 flex-shrink-0 ms-2`,children:[Q(B),r.jsx("span",{className:"d-none d-sm-inline",children:q(B)})]})]}),r.jsx("p",{className:"card-text text-truncate-2 mb-3 flex-grow-1",children:U.description||"-"}),r.jsxs("div",{className:"mt-auto",children:[r.jsx("div",{className:"mb-2",children:r.jsxs("small",{className:"text-muted d-flex align-items-center gap-1",children:[r.jsx("span",{className:"d-none d-sm-inline",children:"Tanggal:"}),U.date?new Date(U.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"]})}),r.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[B!=="completed"&&B!=="cancelled"&&r.jsxs(r.Fragment,{children:[B==="pending"&&r.jsx("button",{className:"btn btn-sm btn-primary flex-grow-1 flex-sm-grow-0",onClick:()=>$(U.id,"processing"),children:"Proses"}),B==="processing"&&r.jsx("button",{className:"btn btn-sm btn-success flex-grow-1 flex-sm-grow-0",onClick:()=>$(U.id,"completed"),children:"Selesai"}),r.jsx("button",{className:"btn btn-sm btn-outline-danger flex-grow-1 flex-sm-grow-0",onClick:()=>$(U.id,"cancelled"),children:"Batal"})]}),r.jsx("button",{className:"btn btn-sm btn-outline-secondary flex-grow-1 flex-sm-grow-0",onClick:()=>S(U.id),children:"Hapus"})]})]})]})})},U.id||U._id||`service-${U.date}`)})}),m&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:"Tambah Pelayanan Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:M,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:ee,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Warga"}),r.jsxs("select",{className:"form-select",required:!0,value:h.residentId,onChange:U=>w({...h,residentId:U.target.value}),children:[r.jsx("option",{value:"",children:"Pilih Warga"}),a.map(U=>r.jsxs("option",{value:U.id,children:[U.name," - ",U.address]},U.id))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Jenis Pelayanan"}),r.jsxs("select",{className:"form-select",required:!0,value:h.type,onChange:U=>w({...h,type:U.target.value}),children:[r.jsx("option",{value:"",children:"Pilih Jenis"}),ce.map(U=>r.jsx("option",{value:U,children:U},U))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Keterangan"}),r.jsx("textarea",{className:"form-control",required:!0,rows:"4",value:h.description,onChange:U=>w({...h,description:U.target.value}),placeholder:"Deskripsi atau catatan pelayanan..."})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:M,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Tambah Pelayanan"})]})]})})]})})})]})},Yd=({readOnly:l=!1})=>{var ce,U;const[o,a]=I.useState([]),[u,f]=I.useState(!1),[d,p]=I.useState(null),[g,m]=I.useState({title:"",content:"",priority:"normal"}),[y,h]=I.useState({}),[w,O]=I.useState(!1),[F,ee]=I.useState(null);I.useEffect(()=>{$();const E=setInterval(()=>{$()},5e3);return()=>clearInterval(E)},[]);const $=async()=>{try{const E=await Fn.getAll(),B=JSON.parse(localStorage.getItem("announcements")||"[]"),C=[...E,...B].filter((G,te,xe)=>te===xe.findIndex(fe=>fe.id===G.id||fe._id&&fe._id===G._id)).sort((G,te)=>{const xe=new Date(G.date||G.createdAt||0);return new Date(te.date||te.createdAt||0)-xe});a(C)}catch(E){console.error("Error loading announcements:",E);const B=JSON.parse(localStorage.getItem("announcements")||"[]");a(B.sort((N,_)=>new Date(_.date)-new Date(N.date)))}},S=async E=>{E.preventDefault();try{if(d){const B={...d,...g,date:d.date,updatedAt:new Date().toISOString()};await Fn.save(B);const _=JSON.parse(localStorage.getItem("announcements")||"[]").map(C=>C.id===d.id?B:C);localStorage.setItem("announcements",JSON.stringify(_))}else{const B={id:`announcement_${Date.now()}`,type:"announcement",...g,comments:[],date:new Date().toISOString(),createdAt:new Date().toISOString()};await Fn.save(B);const N=JSON.parse(localStorage.getItem("announcements")||"[]");localStorage.setItem("announcements",JSON.stringify([...N,B]))}await $(),Q()}catch(B){console.error("Error saving announcement:",B),alert("Terjadi kesalahan saat menyimpan pengumuman")}},M=E=>{p(E),m({title:E.title,content:E.content,priority:E.priority}),f(!0)},K=async E=>{if(window.confirm("Apakah Anda yakin ingin menghapus pengumuman ini?"))try{const B=o.find(C=>C.id===E||C._id===E);B&&B._id&&await Fn.delete(B);const _=JSON.parse(localStorage.getItem("announcements")||"[]").filter(C=>C.id!==E&&C._id!==E);localStorage.setItem("announcements",JSON.stringify(_)),await $()}catch(B){console.error("Error deleting announcement:",B),alert("Terjadi kesalahan saat menghapus pengumuman")}},Q=()=>{f(!1),p(null),m({title:"",content:"",priority:"normal"})},q=E=>({low:"Rendah",normal:"Normal",high:"Tinggi",urgent:"Mendesak"})[E]||E,ne=async E=>{var _;const B=(_=y[E])==null?void 0:_.trim();if(!B)return;const N=ht();if(!N){alert("Anda harus login untuk menambah komentar");return}try{const C=o.find(b=>b.id===E||b._id===E);if(!C)return;const G={id:`comment_${Date.now()}_${Math.random()}`,userId:N.id,username:N.username,name:N.name||N.username,role:N.role,comment:B,createdAt:new Date().toISOString()},te={...C,comments:[...C.comments||[],G],updatedAt:new Date().toISOString()};await Fn.save(te);const fe=JSON.parse(localStorage.getItem("announcements")||"[]").map(b=>b.id===E||b._id===E?te:b);if(localStorage.setItem("announcements",JSON.stringify(fe)),h({...y,[E]:""}),await $(),w&&F){const b=o.find(z=>z.id===E||z._id===E||F.id&&(z.id===F.id||z._id===F.id)||F._id&&(z.id===F._id||z._id===F._id));b&&ee(b)}}catch(C){console.error("Error adding comment:",C),alert("Terjadi kesalahan saat menambah komentar")}};return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Pengumuman"}),r.jsx("p",{className:"text-muted mb-0",children:l?"Lihat pengumuman dari ketua RT":"Buat dan kelola pengumuman untuk warga"})]}),!l&&r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>f(!0),children:[r.jsx(br,{size:20}),r.jsx("span",{className:"d-none d-sm-inline",children:"Buat Pengumuman"}),r.jsx("span",{className:"d-sm-none",children:"Buat"})]})]}),o.length===0?r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:l?"Belum ada pengumuman.":"Belum ada pengumuman. Buat pengumuman pertama untuk memulai."})}):r.jsx("div",{className:"row g-3",children:o.map(E=>{var N;const B={low:"bg-secondary",normal:"bg-info",high:"bg-warning",urgent:"bg-danger"};return r.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:r.jsx("div",{className:`card h-100 shadow-sm border-start border-4 ${E.priority==="urgent"?"border-danger":E.priority==="high"?"border-warning":E.priority==="low"?"border-secondary":"border-info"}`,children:r.jsxs("div",{className:"card-body d-flex flex-column",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h5",{className:"card-title mb-2",children:E.title}),r.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2 mb-2",children:[r.jsx("span",{className:`badge ${B[E.priority]||"bg-info"} d-flex align-items-center gap-1`,children:q(E.priority)}),r.jsxs("small",{className:"text-muted d-flex align-items-center gap-1",children:[r.jsx(ko,{size:14}),new Date(E.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})]})]})]}),!l&&r.jsxs("div",{className:"d-flex gap-2 flex-shrink-0 ms-2",children:[r.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>M(E),title:"Edit",children:r.jsx(ml,{size:16})}),r.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>K(E.id),title:"Hapus",children:r.jsx(bs,{size:16})})]})]}),r.jsx("div",{className:"card-text flex-grow-1 mb-3",children:E.content.split(`
`).map((_,C)=>r.jsx("p",{className:"mb-2",children:_||""},C))}),r.jsx("div",{className:"mt-auto pt-3 border-top",children:r.jsxs("button",{className:"btn btn-sm btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2",onClick:()=>{ee(E),O(!0)},children:[r.jsx(Sr,{size:16}),r.jsxs("span",{children:[((N=E.comments)==null?void 0:N.length)||0," Komentar"]})]})})]})})},E.id)})}),u&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog modal-lg modal-dialog-scrollable",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:d?"Edit Pengumuman":"Buat Pengumuman Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:Q,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:S,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Judul Pengumuman"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:g.title,onChange:E=>m({...g,title:E.target.value}),placeholder:"Masukkan judul pengumuman..."})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Prioritas"}),r.jsxs("select",{className:"form-select",value:g.priority,onChange:E=>m({...g,priority:E.target.value}),children:[r.jsx("option",{value:"low",children:"Rendah"}),r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"high",children:"Tinggi"}),r.jsx("option",{value:"urgent",children:"Mendesak"})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Isi Pengumuman"}),r.jsx("textarea",{className:"form-control",required:!0,rows:"8",value:g.content,onChange:E=>m({...g,content:E.target.value}),placeholder:"Tulis isi pengumuman di sini..."})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:Q,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:d?"Simpan Perubahan":"Buat Pengumuman"})]})]})})]})})}),w&&F&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1050,overflow:"auto"},onClick:()=>{O(!1),ee(null)},children:r.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",onClick:E=>E.stopPropagation(),style:{margin:"1.75rem auto"},children:r.jsxs("div",{className:"modal-content shadow-lg",children:[r.jsxs("div",{className:"modal-header border-bottom",children:[r.jsxs("h5",{className:"modal-title fw-bold",children:["Komentar - ",F.title]}),r.jsx("button",{type:"button",className:"btn-close",onClick:()=>{O(!1),ee(null)},"aria-label":"Close"})]}),r.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[r.jsx("div",{className:"card mb-4",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[r.jsx("span",{className:`badge ${F.priority==="urgent"?"bg-danger":F.priority==="high"?"bg-warning":F.priority==="low"?"bg-secondary":"bg-info"}`,children:q(F.priority)}),r.jsxs("small",{className:"text-muted d-flex align-items-center gap-1",children:[r.jsx(ko,{size:14}),new Date(F.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})]})]}),r.jsx("div",{children:F.content.split(`
`).map((E,B)=>r.jsx("p",{className:"mb-2",children:E||""},B))})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("h6",{className:"mb-3 fw-semibold",children:["Komentar (",((ce=F.comments)==null?void 0:ce.length)||0,")"]}),F.comments&&F.comments.length>0?r.jsx("div",{className:"d-flex flex-column gap-3",children:F.comments.sort((E,B)=>new Date(E.createdAt)-new Date(B.createdAt)).map(E=>r.jsxs("div",{className:"border rounded p-3 bg-light",children:[r.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:r.jsxs("div",{className:"flex-grow-1",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",children:[r.jsx("span",{className:"fw-semibold",children:E.name||E.username}),E.role&&r.jsx("span",{className:`badge ${E.role==="admin"?"bg-primary":"bg-secondary"}`,children:E.role})]}),r.jsx("small",{className:"text-muted d-block",children:new Date(E.createdAt).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),r.jsx("p",{className:"mb-0 mt-2",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:E.comment})]},E.id))}):r.jsxs("div",{className:"text-center py-5",children:[r.jsx(Sr,{size:48,className:"text-muted mb-3 opacity-50"}),r.jsx("p",{className:"mb-0 fw-semibold text-muted",children:"Belum ada komentar"}),r.jsx("p",{className:"mb-0 small text-muted",children:"Jadilah yang pertama berkomentar!"})]})]}),r.jsxs("div",{className:"border-top pt-3 mt-3",children:[r.jsx("label",{className:"form-label fw-semibold mb-2",children:"Tambah Komentar"}),r.jsxs("div",{className:"input-group input-group-lg",children:[r.jsx("input",{type:"text",className:"form-control",placeholder:"Tulis komentar Anda...",value:y[F.id||F._id]||"",onChange:E=>h({...y,[F.id||F._id]:E.target.value}),onKeyPress:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),ne(F.id||F._id))},style:{fontSize:"0.95rem"}}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",type:"button",onClick:()=>ne(F.id||F._id),disabled:!((U=y[F.id||F._id])!=null&&U.trim()),style:{minWidth:"100px",justifyContent:"center"},children:[r.jsx(gm,{size:18}),r.jsx("span",{className:"d-none d-sm-inline",children:"Kirim"})]})]}),r.jsx("small",{className:"text-muted d-block mt-2",children:"Tekan Enter untuk mengirim komentar"})]})]}),r.jsx("div",{className:"modal-footer border-top bg-light",children:r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{O(!1),ee(null)},children:"Tutup"})})]})})})]})},bh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState(""),[f,d]=I.useState(!1),[p,g]=I.useState(null),[m,y]=I.useState({username:"",password:"",name:"",email:"",role:We.WARGA}),h=M=>{if(!M)return"";const K=M.toLowerCase().trim().replace(/\s+/g,".").replace(/[^a-z0-9.]/g,"").replace(/\.+/g,".").replace(/^\.|\.$/g,"");return K?`${K}@web.id`:""};I.useEffect(()=>{w()},[]);const w=async()=>{try{const M=await tl(),Q=(Array.isArray(M)?M:[]).sort((q,ne)=>{const ce=new Date(q.createdAt||q.updatedAt||0);return new Date(ne.createdAt||ne.updatedAt||0)-ce});o(Q)}catch(M){console.error("Error loading users:",M),o([])}},O=async M=>{M.preventDefault();try{let K=m.email;if(!K&&m.name&&(K=h(m.name)),p){const Q={...p,...m,email:K,updatedAt:new Date().toISOString()};m.password||delete Q.password,await qd(Q)}else{const Q=await tl();if((Array.isArray(Q)?Q:[]).find(ce=>ce.username===m.username)){alert("Username sudah digunakan!");return}const ne={id:`user_${Date.now()}`,...m,email:K,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await qd(ne)}await w(),$()}catch(K){console.error("Error saving user:",K),alert("Terjadi kesalahan saat menyimpan user")}},F=M=>{g(M),y({username:M.username,password:"",name:M.name,email:M.email,role:M.role}),d(!0)},ee=async M=>{const K=JSON.parse(localStorage.getItem("currentUser")||"{}");if(M===K.id){alert("Tidak dapat menghapus user yang sedang login!");return}if(window.confirm("Apakah Anda yakin ingin menghapus user ini?"))try{const Q=l.find(q=>q.id===M);Q&&(await yh(Q),await w())}catch(Q){console.error("Error deleting user:",Q),alert("Terjadi kesalahan saat menghapus user")}},$=()=>{d(!1),g(null),y({username:"",password:"",name:"",email:"",role:We.WARGA})},S=Array.isArray(l)?l.filter(M=>{var K,Q,q;return((K=M.username)==null?void 0:K.toLowerCase().includes(a.toLowerCase()))||((Q=M.name)==null?void 0:Q.toLowerCase().includes(a.toLowerCase()))||((q=M.email)==null?void 0:q.toLowerCase().includes(a.toLowerCase()))}):[];return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Manajemen User"}),r.jsx("p",{className:"text-muted mb-0",children:"Kelola user dan akses sistem"})]}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>d(!0),children:[r.jsx(br,{size:20}),"Tambah User"]})]}),r.jsxs("div",{className:"input-group mb-4",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(Ns,{size:20})}),r.jsx("input",{type:"text",className:"form-control",placeholder:"Cari user berdasarkan username, nama, atau email...",value:a,onChange:M=>u(M.target.value)})]}),r.jsx("div",{className:"table-responsive",children:S.length===0?r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:"Tidak ada data user. Tambahkan user baru untuk memulai."})}):r.jsxs("table",{className:"table table-hover",children:[r.jsx("thead",{className:"table-light",children:r.jsxs("tr",{children:[r.jsx("th",{children:"No"}),r.jsx("th",{children:"Username"}),r.jsx("th",{children:"Nama"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Role"}),r.jsx("th",{children:"Tanggal Dibuat"}),r.jsx("th",{children:"Aksi"})]})}),r.jsx("tbody",{children:S.map((M,K)=>r.jsxs("tr",{children:[r.jsx("td",{children:K+1}),r.jsx("td",{children:M.username}),r.jsx("td",{children:M.name}),r.jsx("td",{children:M.email}),r.jsx("td",{children:r.jsx("span",{className:`badge ${M.role===We.ADMIN?"bg-primary":"bg-secondary"} d-inline-flex align-items-center gap-1`,children:M.role===We.ADMIN?r.jsxs(r.Fragment,{children:[r.jsx(Zx,{size:14}),"Admin"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ao,{size:14}),"Warga"]})})}),r.jsx("td",{children:new Date(M.createdAt).toLocaleDateString("id-ID")}),r.jsx("td",{children:r.jsxs("div",{className:"d-flex gap-2",children:[r.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>F(M),title:"Edit",children:r.jsx(ml,{size:16})}),r.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>ee(M.id),title:"Hapus",children:r.jsx(bs,{size:16})})]})})]},M.id))})]})}),f&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog modal-dialog-scrollable",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:p?"Edit User":"Tambah User Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:$,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:O,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Username"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:m.username,onChange:M=>y({...m,username:M.target.value}),disabled:!!p})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("label",{className:"form-label",children:["Password ",p&&r.jsx("span",{className:"text-muted small",children:"(kosongkan jika tidak diubah)"})]}),r.jsx("input",{type:"password",className:"form-control",required:!p,value:m.password,onChange:M=>y({...m,password:M.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Nama Lengkap"}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:m.name,onChange:M=>{const K=M.target.value;if(!p||!m.email){const Q=h(K);y({...m,name:K,email:Q})}else y({...m,name:K})}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("label",{className:"form-label",children:["Email ",!p&&r.jsx("span",{className:"text-muted small",children:"(auto-generated dari nama)"})]}),r.jsx("input",{type:"email",className:"form-control",required:!0,value:m.email,onChange:M=>y({...m,email:M.target.value}),placeholder:p?"Email":"Akan di-generate otomatis dari nama"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Role"}),r.jsxs("select",{className:"form-select",required:!0,value:m.role,onChange:M=>y({...m,role:M.target.value}),children:[r.jsx("option",{value:We.ADMIN,children:"Admin"}),r.jsx("option",{value:We.WARGA,children:"Warga"})]})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end mt-4",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:$,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Simpan Perubahan":"Tambah User"})]})]})})]})})})]})},Dh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState(""),[f,d]=I.useState("all"),[p,g]=I.useState(!1),[m,y]=I.useState(null),[h,w]=I.useState({type:"income",amount:"",description:"",date:new Date().toISOString().split("T")[0]});I.useEffect(()=>{O()},[]);const O=()=>{const N=JSON.parse(localStorage.getItem("kasRT")||"[]");o(N.sort((_,C)=>new Date(C.date)-new Date(_.date)))},F=N=>{localStorage.setItem("kasRT",JSON.stringify(N)),o(N.sort((_,C)=>new Date(C.date)-new Date(_.date)))},ee=()=>l.reduce((N,_)=>_.type==="income"?N+parseFloat(_.amount):N-parseFloat(_.amount),0),$=()=>l.filter(N=>N.type==="income").reduce((N,_)=>N+parseFloat(_.amount),0),S=()=>l.filter(N=>N.type==="expense").reduce((N,_)=>N+parseFloat(_.amount),0),M=N=>{N.preventDefault();const _=JSON.parse(localStorage.getItem("kasRT")||"[]");if(m){const C=_.map(G=>G.id===m.id?{...G,...h,amount:parseFloat(h.amount)}:G);F(C)}else{const C={id:Date.now(),...h,amount:parseFloat(h.amount),createdAt:new Date().toISOString()};F([..._,C])}q()},K=N=>{y(N),w({type:N.type,amount:N.amount.toString(),description:N.description,date:N.date.split("T")[0]}),g(!0)},Q=N=>{if(window.confirm("Apakah Anda yakin ingin menghapus transaksi ini?")){const _=l.filter(C=>C.id!==N);F(_)}},q=()=>{g(!1),y(null),w({type:"income",amount:"",description:"",date:new Date().toISOString().split("T")[0]})},ne=N=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(N),ce=l.filter(N=>{const _=N.description.toLowerCase().includes(a.toLowerCase()),C=f==="all"||N.type===f;return _&&C}),U=ee(),E=$(),B=S();return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Kas RT"}),r.jsx("p",{className:"text-muted mb-0",children:"Kelola pemasukan dan pengeluaran kas RT"})]}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>g(!0),children:[r.jsx(br,{size:20}),r.jsx("span",{className:"d-none d-sm-inline",children:"Tambah Transaksi"}),r.jsx("span",{className:"d-sm-none",children:"Tambah"})]})]}),r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsx("div",{className:"col-12 col-md-4",children:r.jsx("div",{className:"card border-primary border-2",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:"bg-primary bg-opacity-10 rounded p-3",children:r.jsx(Jx,{size:24,className:"text-primary"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h6",{className:"text-muted mb-1 small",children:"Saldo Kas"}),r.jsx("h4",{className:`mb-0 ${U>=0?"text-success":"text-danger"}`,children:ne(U)})]})]})})})}),r.jsx("div",{className:"col-12 col-md-4",children:r.jsx("div",{className:"card border-success border-2",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:"bg-success bg-opacity-10 rounded p-3",children:r.jsx(So,{size:24,className:"text-success"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h6",{className:"text-muted mb-1 small",children:"Total Pemasukan"}),r.jsx("h4",{className:"mb-0 text-success",children:ne(E)})]})]})})})}),r.jsx("div",{className:"col-12 col-md-4",children:r.jsx("div",{className:"card border-danger border-2",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:"bg-danger bg-opacity-10 rounded p-3",children:r.jsx(Vd,{size:24,className:"text-danger"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h6",{className:"text-muted mb-1 small",children:"Total Pengeluaran"}),r.jsx("h4",{className:"mb-0 text-danger",children:ne(B)})]})]})})})})]}),r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsx("div",{className:"col-12 col-md-8",children:r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(Ns,{size:20})}),r.jsx("input",{type:"text",className:"form-control",placeholder:"Cari transaksi berdasarkan keterangan...",value:a,onChange:N=>u(N.target.value)})]})}),r.jsx("div",{className:"col-12 col-md-4",children:r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(hm,{size:18})}),r.jsxs("select",{className:"form-select",value:f,onChange:N=>d(N.target.value),children:[r.jsx("option",{value:"all",children:"Semua Transaksi"}),r.jsx("option",{value:"income",children:"Pemasukan"}),r.jsx("option",{value:"expense",children:"Pengeluaran"})]})]})})]}),ce.length===0?r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:"Tidak ada transaksi. Tambahkan transaksi baru untuk memulai."})}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table table-hover align-middle",children:[r.jsx("thead",{className:"table-light",children:r.jsxs("tr",{children:[r.jsx("th",{style:{width:"50px"},children:"No"}),r.jsx("th",{style:{width:"120px"},children:"Tanggal"}),r.jsx("th",{style:{width:"120px"},children:"Jenis"}),r.jsx("th",{children:"Keterangan"}),r.jsx("th",{style:{width:"150px"},className:"text-end",children:"Jumlah"}),r.jsx("th",{style:{width:"100px"},children:"Aksi"})]})}),r.jsx("tbody",{children:ce.map((N,_)=>r.jsxs("tr",{children:[r.jsx("td",{children:_+1}),r.jsx("td",{children:r.jsx("small",{children:new Date(N.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})})}),r.jsx("td",{children:r.jsx("span",{className:`badge d-inline-flex align-items-center gap-1 ${N.type==="income"?"bg-success":"bg-danger"}`,children:N.type==="income"?r.jsxs(r.Fragment,{children:[r.jsx(So,{size:12}),"Pemasukan"]}):r.jsxs(r.Fragment,{children:[r.jsx(Vd,{size:12}),"Pengeluaran"]})})}),r.jsx("td",{className:"text-truncate",style:{maxWidth:"300px"},children:N.description}),r.jsxs("td",{className:`text-end fw-semibold ${N.type==="income"?"text-success":"text-danger"}`,children:[N.type==="income"?"+":"-",ne(N.amount)]}),r.jsx("td",{children:r.jsxs("div",{className:"d-flex gap-2",children:[r.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>K(N),title:"Edit",children:r.jsx(ml,{size:16})}),r.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>Q(N.id),title:"Hapus",children:r.jsx(bs,{size:16})})]})})]},N.id))})]})}),p&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:m?"Edit Transaksi":"Tambah Transaksi Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:q,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:M,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Jenis Transaksi"}),r.jsxs("select",{className:"form-select",required:!0,value:h.type,onChange:N=>w({...h,type:N.target.value}),children:[r.jsx("option",{value:"income",children:"Pemasukan"}),r.jsx("option",{value:"expense",children:"Pengeluaran"})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Tanggal"}),r.jsx("input",{type:"date",className:"form-control",required:!0,value:h.date,onChange:N=>w({...h,date:N.target.value})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Jumlah (Rp)"}),r.jsx("input",{type:"number",className:"form-control",required:!0,min:"0",step:"1000",value:h.amount,onChange:N=>w({...h,amount:N.target.value}),placeholder:"0"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Keterangan"}),r.jsx("textarea",{className:"form-control",required:!0,rows:"3",value:h.description,onChange:N=>w({...h,description:N.target.value}),placeholder:"Masukkan keterangan transaksi..."})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:q,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:m?"Simpan Perubahan":"Tambah Transaksi"})]})]})})]})})})]})},Im={BASE_URL:"/demo/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Ke=Cm;(function(l,o){const a=Cm,u=l();for(;;)try{if(parseInt(a(251))/1+-parseInt(a(287))/2*(-parseInt(a(314))/3)+-parseInt(a(284))/4*(-parseInt(a(255))/5)+parseInt(a(254))/6+parseInt(a(285))/7*(-parseInt(a(331))/8)+-parseInt(a(318))/9*(-parseInt(a(273))/10)+parseInt(a(283))/11*(-parseInt(a(293))/12)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(sl,578911);const rl=Im[Ke(305)]==="development",_h=Im[Ke(319)]||Ke(321);let Qt=null;const _o=rl?"ws://broker.emqx.io:8083/mqtt":Ke(316),jr=Ke(286);console[Ke(326)](Ke(253)+Ke(rl?268:281)),console[Ke(326)](Ke(330)+_o+" ("+Ke(rl?262:270)+")");let Ka=null,Ee=null,wr=[],yr=[];const Ih=new Map,Ch=async()=>{const l=Ke;if(Ka)return Ka;try{const o=await import(l(300));return Ka=o[l(311)]||o,console[l(326)](l(308)),Ka}catch(o){return console[l(261)]("Failed to load MQTT library:",o),null}},Io=async()=>{const l=Ke;if(Qt)return Qt;try{return Qt=await km(_h),Qt}catch(o){return console[l(261)](l(312),o),null}},Ah=async l=>{const o=Ke;if(Ee&&Ee[o(260)])return l&&l(!0),Ee;await Io();const a=await Ch();if(!a)return console.error(o(288)),l&&l(!1),null;l&&typeof l===o(334)&&yr[o(310)](l);try{console[o(326)]("["+(rl?"DEV":o(276))+o(291),_o);const u=new URL(_o),f=u.protocol===o(304)?"wss":"ws",d=u.hostname,p=parseInt(u.port)||(f==="wss"?8084:8083),g=u[o(297)]||"/mqtt";return Ee=a[o(264)]({protocol:f,host:d,port:p,path:g,clientId:o(271)+Date.now()+"-"+Math.random().toString(36)[o(265)](2)}),Ee.on(o(264),()=>{const m=o;console[m(326)]("MQTT Connected to broker"),yr[m(296)](y=>{const h=m;try{y(!0)}catch(w){console[h(261)](h(322),w)}}),Ee.subscribe(jr,{qos:1},y=>{const h=m;y?console[h(261)](h(327),y):console[h(326)]("MQTT Subscribed to:",jr)}),Ee[m(292)](m(280),{qos:1},y=>{const h=m;y?console.error(h(309),y):console[h(326)](h(294))})}),Ee.on(o(269),async(m,y)=>{const h=o;try{const w=y[h(275)]();if(!w||w[h(277)]()[h(257)]===0){console[h(272)]("MQTT: Received empty message on topic:",m);return}if(m===jr){try{const $=w.trim();let S;try{S=JSON[h(301)]($)}catch{console[h(272)]("MQTT: Chat message is not in encrypted format, skipping");return}if(!Qt&&await Io(),Qt){const M=await Nn(Qt,S),K={...M,topic:m};wr[h(296)](Q=>{const q=h;try{Q(K)}catch(ne){console[q(261)](q(290),ne)}})}else console[h(261)]("MQTT: Encryption key not available, cannot decrypt chat message")}catch($){console[h(261)]("MQTT: Error decrypting chat message:",$);return}return}if(m.startsWith("rt-management/sync/")){const $=w[h(277)]();if(!$[h(267)]("{")&&!$[h(267)]("[")&&m[h(267)](h(279))){console[h(326)]("MQTT: Received non-JSON sync request message on topic:",m,"message:",$[h(317)](0,50));return}return}const O=w[h(277)]();if(!O[h(267)]("{")&&!O[h(267)]("[")){console[h(272)](h(266),m,"message:",O[h(317)](0,50));return}let F;try{F=JSON[h(301)](w)}catch($){console.error(h(307),m,h(258),O[h(317)](0,100)),console[h(261)](h(295),$);return}const ee={...F,topic:m};wr[h(296)]($=>{const S=h;try{$(ee)}catch(M){console[S(261)](S(290),M)}})}catch(w){console[h(261)](h(249),w),console[h(261)]("Topic:",m),console[h(261)](h(332),y[h(275)]()[h(317)](0,100))}}),Ee.on("error",m=>{const y=o;console[y(261)](y(323),m),yr[y(296)](h=>{const w=y;try{h(!1)}catch(O){console[w(261)](w(322),O)}})}),Ee.on("close",()=>{const m=o;console[m(326)](m(302)),yr[m(296)](y=>{try{y(!1)}catch(h){console.error("Error in status handler:",h)}})}),Ee.on(o(274),()=>{const m=o;console[m(326)](m(333))}),Ee.on(o(252),()=>{const m=o;console.log("MQTT Client offline"),yr[m(296)](y=>{const h=m;try{y(!1)}catch(w){console[h(261)]("Error in status handler:",w)}})}),Ee}catch(u){return console[o(261)](o(278),u),null}};function sl(){const l=["7CJvpsK","rt-management/chat","14ZsrNlY","MQTT library not available","subscribed","Error in message handler:","] Attempting to connect to MQTT broker:","subscribe","11168508ONDuPU","MQTT Subscribed to sync topics: rt-management/sync/#","MQTT: Parse error:","forEach","pathname","MQTT Publish error:","MQTT not connected","mqtt","parse","MQTT Connection closed","get","wss:","MODE","stringify","MQTT: Invalid JSON on topic:","MQTT library loaded","MQTT Subscribe error (sync):","push","default","Failed to initialize encryption key:","Error publishing message:","303111hSBMmY"," (retained)","wss://broker.emqx.io:8084/mqtt","substring","19431HwXzwD","VITE_SYNC_KEY","splice","AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","Error in status handler:","MQTT Error:","publish","MQTT Message published to ","log","MQTT Subscribe error:","unsubscribe","topic","MQTT Broker: ","1960728PfBXFf","Message preview:","MQTT Reconnecting...","function","Error processing MQTT message:","MQTT Disconnected","904593fMarGS","offline","MQTT Environment: ","4240272TFnGOE","855lmjKNQ","indexOf","length","message:","clear","connected","error","WebSocket","end","connect","slice","MQTT: Received non-JSON message on topic:","startsWith","Development","message","WebSocket Secure","rt-chat-","warn","4780XybeRH","reconnect","toString","PROD","trim","Error connecting to MQTT:","rt-management/sync/request/","rt-management/sync/#","Production","production","33HCPFfn","6212xUcjBh"];return sl=function(){return l},sl()}const Eh=()=>{const l=Ke;Ee&&(Ee[l(328)](jr),Ee[l(328)](l(280)),Ee[l(263)](),Ee=null,wr=[],Ih[l(259)](),yr=[],console[l(326)](l(250)))},Th=async l=>{const o=Ke;if(!Ee||!Ee.connected)return console[o(261)](o(299)),!1;try{const a=l[o(329)]||jr,u={...l};if(delete u.topic,a===jr)if(!Qt&&await Io(),Qt){const f=await ws(Qt,u),d=JSON.stringify(f);return Ee.publish(a,d,{qos:1,retain:!0},p=>{const g=o;p?console[g(261)](g(298),p):console[g(326)]("MQTT Encrypted message published to "+a+" (retained)")}),!0}else return console.error("MQTT: Encryption key not available, cannot encrypt chat message"),!1;else{const f=JSON[o(306)](u);return Ee[o(324)](a,f,{qos:1,retain:!0},d=>{const p=o;d?console[p(261)](p(298),d):console.log(p(325)+a+p(315))}),!0}}catch(a){return console[o(261)](o(313),a),!1}},Ph=l=>{const o=Ke;if(typeof l===o(334))return wr[o(310)](l),()=>{const a=o,u=wr[a(256)](l);u>-1&&wr[a(320)](u,1)}};function Cm(l,o){return l=l-249,sl()[l]}const xo=()=>Ee&&Ee[Ke(260)],Xd=()=>{const[l,o]=I.useState([]),[a,u]=I.useState(""),[f,d]=I.useState(null),[p,g]=I.useState(!0),[m,y]=I.useState(!1),h=I.useRef(null),w=I.useRef(null);I.useEffect(()=>{const S=ht();if(d(S),S){const q=new Date().toISOString();localStorage.setItem(`chatLastRead_${S.id}`,q)}F();let M=null,K=null;return(async()=>{try{await Ah(ne=>{y(ne),console.log("MQTT Status changed:",ne)})?(y(xo()),M=Ph(ne=>{o(ce=>ce.find(B=>B.id===ne.id)?ce:[...ce,ne].sort((B,N)=>new Date(B.createdAt)-new Date(N.createdAt)))}),K=setInterval(()=>{y(xo())},3e3)):(y(!1),K=setInterval(()=>{F()},2e3))}catch(q){console.error("Error setting up MQTT:",q),y(!1),K=setInterval(()=>{F()},2e3)}})(),()=>{M&&M(),K&&clearInterval(K),Eh()}},[]),I.useEffect(()=>{if(O(),f&&l.length>0){const S=new Date().toISOString();localStorage.setItem(`chatLastRead_${f.id}`,S)}},[l,f]);const O=()=>{var S;(S=h.current)==null||S.scrollIntoView({behavior:"smooth"})},F=async()=>{try{const M=(await Qn("chatMessage")).sort((K,Q)=>new Date(K.createdAt)-new Date(Q.createdAt));o(M),g(!1)}catch(S){console.error("Error loading messages:",S),g(!1)}},ee=async S=>{if(S.preventDefault(),!(!a.trim()||!f))try{const M={id:`chatMessage_${Date.now()}_${Math.random()}`,userId:f.id,username:f.username,name:f.name,role:f.role,message:a.trim(),createdAt:new Date().toISOString()};if(xo()&&await Th(M)){try{await Ot("chatMessage",M)}catch(Q){console.error("Error saving to DB:",Q)}o(Q=>[...Q,M].sort((ne,ce)=>new Date(ne.createdAt)-new Date(ce.createdAt))),u("");return}await Ot("chatMessage",M),u(""),await F()}catch(M){console.error("Error sending message:",M),alert("Terjadi kesalahan saat mengirim pesan")}},$=S=>{const M=new Date(S),Q=new Date-M;return Q<6e4?"Baru saja":Q<36e5?`${Math.floor(Q/6e4)} menit lalu`:Q<864e5?M.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):M.toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})};return r.jsxs("div",{className:"d-flex flex-column w-100 h-100",style:{height:"100vh",maxHeight:"100vh",overflow:"hidden"},children:[r.jsx("div",{className:"card flex-shrink-0 border-0 border-bottom rounded-0",style:{borderRadius:0},children:r.jsx("div",{className:"card-body py-2 px-3",children:r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2",children:[r.jsx("div",{className:"bg-primary bg-opacity-10 rounded p-2",children:r.jsx(Sr,{size:20,className:"text-primary"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"mb-0 h6 fw-bold",children:"Chat Group RT"}),r.jsx("p",{className:"text-muted mb-0 small",children:"Komunikasi dengan semua warga RT"})]})]}),r.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 px-2 py-1 bg-light rounded",children:[r.jsx(Eo,{size:16,className:"text-muted"}),r.jsxs("span",{className:"small",children:[l.length," Pesan"]})]}),r.jsx("div",{className:`d-flex align-items-center gap-2 px-2 py-1 rounded ${m?"bg-success bg-opacity-10":"bg-danger bg-opacity-10"}`,children:m?r.jsxs(r.Fragment,{children:[r.jsx(rh,{size:16,className:"text-success"}),r.jsx("span",{className:"small text-success",children:"Terhubung"})]}):r.jsxs(r.Fragment,{children:[r.jsx(nh,{size:16,className:"text-danger"}),r.jsx("span",{className:"small text-danger",children:"Tidak Terhubung"})]})})]})]})})}),r.jsx("div",{className:"card flex-grow-1 d-flex flex-column overflow-hidden flex-shrink-0 border-0 rounded-0",ref:w,style:{minHeight:0,flex:"1 1 auto",borderRadius:0,height:0},children:r.jsx("div",{className:"card-body overflow-auto flex-grow-1 p-3",style:{minHeight:0,maxHeight:"100%",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:p?r.jsx("div",{className:"d-flex justify-content-center align-items-center h-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Memuat pesan..."})}),r.jsx("p",{className:"text-muted mb-0",children:"Memuat pesan..."})]})}):l.length===0?r.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center h-100 text-center py-5",children:[r.jsx(Sr,{size:48,className:"text-muted mb-3"}),r.jsx("p",{className:"text-muted mb-0",children:"Belum ada pesan. Mulai percakapan!"})]}):r.jsxs("div",{className:"d-flex flex-column gap-3",children:[l.map((S,M)=>{const K=f&&S.userId===f.id,Q=S.id||`msg_${M}_${S.createdAt||Date.now()}`;return r.jsx("div",{className:`d-flex ${K?"justify-content-end":"justify-content-start"}`,children:r.jsx("div",{className:`card shadow-sm ${K?"bg-primary text-white":"bg-light"}`,style:{maxWidth:"75%",minWidth:"200px"},children:r.jsxs("div",{className:"card-body p-3",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start gap-2 mb-2",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1 min-w-0",children:[r.jsx("span",{className:`fw-semibold ${K?"text-white":""} text-truncate`,children:S.name||S.username}),S.role==="admin"&&r.jsx("span",{className:`badge ${K?"bg-white text-primary":"bg-primary"} flex-shrink-0`,children:"Admin"})]}),r.jsx("small",{className:`${K?"text-white-50":"text-muted"} flex-shrink-0`,children:$(S.createdAt)})]}),r.jsx("p",{className:`mb-0 ${K?"text-white":""}`,style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:S.message})]})})},Q)}),r.jsx("div",{ref:h},"messages-end")]})})}),r.jsx("div",{className:"card flex-shrink-0 border-0 border-top rounded-0",style:{position:"sticky",bottom:0,zIndex:10,backgroundColor:"white",borderRadius:0},children:r.jsx("div",{className:"card-body py-2 px-3",children:r.jsxs("form",{className:"d-flex gap-2",onSubmit:ee,children:[r.jsx("input",{type:"text",className:"form-control",placeholder:"Ketik pesan...",value:a,onChange:S=>u(S.target.value),disabled:!f}),r.jsx("button",{type:"submit",className:"btn btn-primary d-flex align-items-center justify-content-center",disabled:!a.trim()||!f,style:{minWidth:"50px"},children:r.jsx(gm,{size:20})})]})})})]})},Mh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState([]),[f,d]=I.useState(""),[p,g]=I.useState("all"),[m,y]=I.useState(null),[h,w]=I.useState(!1),[O,F]=I.useState(!1),[ee,$]=I.useState(null),[S,M]=I.useState("");I.useEffect(()=>{K(),Q();const b=setInterval(()=>{K()},5e3);return()=>clearInterval(b)},[]);const K=async()=>{try{console.log("[AdminDocuments] Loading documents...");const b=await lt.getAll();console.log("[AdminDocuments] Documents from database:",b),console.log("[AdminDocuments] Number of docs from DB:",(b==null?void 0:b.length)||0),b&&b.length>0?b.forEach((v,P)=>{console.log(`[AdminDocuments] Doc ${P+1}:`,{id:v.id||v._id,userId:v.userId,type:v.type,hasFormData:!!v.formData,status:v.status,submittedAt:v.submittedAt})}):(console.warn("[AdminDocuments]  No documents found in database"),console.log("[AdminDocuments] This might indicate:"),console.log("[AdminDocuments] 1. No documents have been submitted yet"),console.log("[AdminDocuments] 2. Sync issue - documents not synced from warga"),console.log("[AdminDocuments] 3. Filter issue - documents exist but filtered out"));const z=JSON.parse(localStorage.getItem("wargaDocuments")||"{}");console.log("[AdminDocuments] Documents from localStorage:",z),console.log("[AdminDocuments] Number of users in localStorage:",Object.keys(z).length);const Z=[];Array.isArray(b)&&b.length>0?b.forEach((v,P)=>{if(console.log(`[AdminDocuments] Processing doc ${P+1}:`,{id:v.id||v._id,userId:v.userId,type:v.type,hasFormData:!!v.formData,hasDocuments:!!v.documents,status:v.status,allKeys:Object.keys(v)}),v.formData&&(console.log(`[AdminDocuments] Doc ${P+1} formData type:`,typeof v.formData),console.log(`[AdminDocuments] Doc ${P+1} formData is object:`,typeof v.formData=="object"),console.log(`[AdminDocuments] Doc ${P+1} formData keys:`,typeof v.formData=="object"?Object.keys(v.formData):"not an object"),typeof v.formData=="object"&&v.formData!==null&&console.log(`[AdminDocuments] Doc ${P+1} formData sample:`,{name:v.formData.name,nik:v.formData.nik,address:v.formData.address})),v&&v.formData){let L=v.formData;if(typeof L=="string")try{L=JSON.parse(L),console.log("[AdminDocuments] Parsed formData from string")}catch(pe){console.error("[AdminDocuments] Error parsing formData string:",pe),L={}}console.log("[AdminDocuments]  Adding form document for userId:",v.userId),console.log("[AdminDocuments] FormData object keys:",Object.keys(L)),Z.push({id:v._id||v.id||`form_${v.userId}`,userId:v.userId,type:"form",formData:L,status:v.status||"pending",submittedAt:v.submittedAt,verifiedAt:v.verifiedAt,verifiedBy:v.verifiedBy,verifiedByName:v.verifiedByName,rejectionReason:v.rejectionReason,source:"database",_id:v._id||v.id})}else v&&v.documents&&typeof v.documents=="object"?(console.log("[AdminDocuments] Processing legacy format documents for userId:",v.userId),Object.keys(v.documents).forEach(L=>{v.documents[L]&&Z.push({id:`${v.userId}_${L}`,userId:v.userId,type:L,...v.documents[L],source:"database"})})):v&&v.userId&&(console.warn("[AdminDocuments]  Document found but no formData or documents:",{id:v.id||v._id,userId:v.userId,type:v.type,keys:Object.keys(v)}),v.type==="wargaDocument"&&v.userId&&(console.log("[AdminDocuments] Attempting to add document with basic structure"),Z.push({id:v._id||v.id||`form_${v.userId}`,userId:v.userId,type:"form",formData:v.formData||{},status:v.status||"pending",submittedAt:v.submittedAt,verifiedAt:v.verifiedAt,verifiedBy:v.verifiedBy,verifiedByName:v.verifiedByName,rejectionReason:v.rejectionReason,source:"database",_id:v._id||v.id})))}):(console.log("[AdminDocuments] No documents found in database or docs is not an array"),console.log("[AdminDocuments] Docs type:",typeof b),console.log("[AdminDocuments] Docs value:",b)),Object.keys(z).forEach(v=>{const P=z[v];P&&typeof P=="object"&&(P.formData?Z.find(pe=>pe.userId===v&&pe.type==="form")||(console.log("[AdminDocuments] Adding form document from localStorage for userId:",v),Z.push({id:`form_${v}`,userId:v,type:"form",formData:P.formData,status:P.status||"pending",submittedAt:P.submittedAt,source:"localStorage"})):Object.keys(P).forEach(L=>{P[L]&&(L==="ktp"||L==="kartuKeluarga")&&(Z.find(ae=>ae.userId===v&&ae.type===L)||Z.push({id:`${v}_${L}`,userId:v,type:L,...P[L],source:"localStorage"}))}))});const W=Z.sort((v,P)=>{const L=new Date(v.submittedAt||v.createdAt||v.verifiedAt||0);return new Date(P.submittedAt||P.createdAt||P.verifiedAt||0)-L});console.log("[AdminDocuments] Total formatted documents:",W.length),console.log("[AdminDocuments] Formatted documents:",W),o(W)}catch(b){console.error("[AdminDocuments] Error loading documents:",b),console.error("[AdminDocuments] Error stack:",b.stack),o([])}},Q=async()=>{try{const b=await tl();u(Array.isArray(b)?b:[])}catch(b){console.error("Error loading users:",b)}},q=b=>{const z=a.find(Z=>Z.id===b);return z?z.name:`User ${b}`},ne=b=>a.find(Z=>Z.id===b)||null,ce=b=>({ktp:"KTP (Kartu Tanda Penduduk)",kartuKeluarga:"Kartu Keluarga (KK)",form:"Formulir Pendaftaran Warga"})[b]||b,U=b=>{$(b),M(""),F(!0)},E=async()=>{if(!S.trim()){alert("Mohon isi alasan penolakan!");return}ee&&(await B(ee,"rejected",S),F(!1),$(null),M(""))},B=async(b,z,Z=null)=>{try{const W=JSON.parse(localStorage.getItem("currentUser")||"{}"),v=W.name||"Admin",P=z==="rejected"?Z||"Dokumen tidak memenuhi persyaratan. Silakan perbaiki dan kirim ulang.":null;if(b.source==="database"){const pe=await lt.getByUserId(b.userId);if(pe){const ae={...pe,status:z,verifiedAt:new Date().toISOString(),verifiedBy:W.id,verifiedByName:v,rejectionReason:P};pe.documents&&b.type!=="form"&&(ae.documents={...pe.documents,[b.type]:{...pe.documents[b.type],status:z,verifiedAt:new Date().toISOString(),verifiedBy:W.id,verifiedByName:v,rejectionReason:P}}),console.log(`[AdminDocuments] Updating document status to ${z} for userId: ${b.userId}`),await lt.save(ae),console.log("[AdminDocuments] Document status updated and will be synced to network (warga will be notified via P2P sync)")}}const L=JSON.parse(localStorage.getItem("wargaDocuments")||"{}");L[b.userId]&&(b.type==="form"?(L[b.userId].status=z,L[b.userId].verifiedAt=new Date().toISOString(),L[b.userId].verifiedByName=v,z==="rejected"?L[b.userId].rejectionReason=P:delete L[b.userId].rejectionReason):L[b.userId][b.type]&&(L[b.userId][b.type].status=z,L[b.userId][b.type].verifiedAt=new Date().toISOString(),L[b.userId][b.type].verifiedByName=v,z==="rejected"?L[b.userId][b.type].rejectionReason=P:delete L[b.userId][b.type].rejectionReason),localStorage.setItem("wargaDocuments",JSON.stringify(L))),z==="approved"&&await N(b),await K(),w(!1),alert(z==="approved"?"Status disetujui. Data warga telah dibuat/updated. Warga akan menerima notifikasi via P2P sync.":"Status ditolak. Warga akan menerima notifikasi dan dapat mengirim ulang dokumen.")}catch(W){console.error("Error updating document status:",W),alert("Terjadi kesalahan saat mengupdate status dokumen")}},N=async b=>{var z,Z;try{console.log("[AdminDocuments] createResidentFromDocument called for document:",{id:b.id||b._id,userId:b.userId,type:b.type,hasFormData:!!b.formData,status:b.status});const W=ne(b.userId);if(!W){console.error("[AdminDocuments]  User not found for document userId:",b.userId),console.log("[AdminDocuments] Available users:",a.map(de=>({id:de.id,username:de.username})));return}console.log("[AdminDocuments]  User found:",{id:W.id,username:W.username,name:W.name});const v=await Je.getAll();console.log("[AdminDocuments] Current residents count:",v.length);const P=v.find(de=>{const ye=de.userId===b.userId||b.formData&&de.nik===b.formData.nik;return ye&&console.log("[AdminDocuments] Found existing resident:",{id:de.id,userId:de.userId,nik:de.nik}),ye}),L=await lt.getByUserId(b.userId);console.log("[AdminDocuments] Document from database:",L?{id:L.id||L._id,userId:L.userId,hasFormData:!!L.formData,formDataType:typeof L.formData,formDataIsObject:typeof L.formData=="object"&&L.formData!==null,status:L.status,allKeys:Object.keys(L)}:"null"),L!=null&&L.formData&&(console.log("[AdminDocuments] userDoc.formData type:",typeof L.formData),console.log("[AdminDocuments] userDoc.formData is object:",typeof L.formData=="object"&&L.formData!==null),typeof L.formData=="object"&&L.formData!==null?(console.log("[AdminDocuments] userDoc.formData keys:",Object.keys(L.formData)),console.log("[AdminDocuments] userDoc.formData sample:",{name:L.formData.name,nik:L.formData.nik,address:L.formData.address})):typeof L.formData=="string"&&(console.log("[AdminDocuments] userDoc.formData is string, length:",L.formData.length),console.log("[AdminDocuments] userDoc.formData preview:",L.formData.substring(0,100))));const ae=JSON.parse(localStorage.getItem("wargaDocuments")||"{}")[b.userId]||{};console.log("[AdminDocuments] Document from localStorage:",ae?{hasFormData:!!ae.formData,status:ae.status}:"null");let X=null;if(b.formData)X=b.formData,console.log("[AdminDocuments] Using formData from document parameter"),console.log("[AdminDocuments] document.formData type:",typeof X),console.log("[AdminDocuments] document.formData keys:",typeof X=="object"&&X!==null?Object.keys(X):"not an object");else if(L!=null&&L.formData)if(typeof L.formData=="string")try{X=JSON.parse(L.formData),console.log("[AdminDocuments] Parsed formData from string in userDoc")}catch(de){console.error("[AdminDocuments] Error parsing formData string from userDoc:",de),X=null}else typeof L.formData=="object"&&L.formData!==null?(X=L.formData,console.log("[AdminDocuments] Using formData from database document (already object)")):(console.warn("[AdminDocuments] userDoc.formData is not a valid object or string:",typeof L.formData),X=null);else ae.formData?(X=ae.formData,console.log("[AdminDocuments] Using formData from localStorage")):(console.warn("[AdminDocuments]  No formData found in any source!"),console.warn("[AdminDocuments] Document keys:",Object.keys(b)),console.warn("[AdminDocuments] userDoc keys:",L?Object.keys(L):"null"),L&&console.warn("[AdminDocuments] userDoc values:",{id:L.id||L._id,userId:L.userId,type:L.type,status:L.status,hasFormData:!!L.formData,formDataType:typeof L.formData}),console.warn("[AdminDocuments] userLocalDocs keys:",Object.keys(ae)));if(X){if(typeof X=="string")try{X=JSON.parse(X),console.log("[AdminDocuments] Final parse: formData converted from string to object")}catch(de){console.error("[AdminDocuments] Final parse error:",de),X=null}X&&typeof X=="object"&&X!==null?console.log("[AdminDocuments]  Final formData is valid object with keys:",Object.keys(X)):(console.error("[AdminDocuments]  Final formData is not a valid object:",typeof X),X=null)}const ie=((z=L==null?void 0:L.documents)==null?void 0:z.ktp)||ae.ktp,re=((Z=L==null?void 0:L.documents)==null?void 0:Z.kartuKeluarga)||ae.kartuKeluarga;if(X)if(console.log("[AdminDocuments]  FormData found, processing resident creation/update"),console.log("[AdminDocuments] FormData keys:",Object.keys(X)),console.log("[AdminDocuments] FormData values:",{name:X.name,nik:X.nik,address:X.address,phone:X.phone,familyMembers:X.familyMembers,hasFotoKtp:!!X.fotoKtp,hasFotoKk:!!X.fotoKk}),P){console.log("[AdminDocuments] Updating existing resident:",P.id||P._id);const de={...P,name:X.name||P.name,nik:X.nik||P.nik,email:W.email||P.email,address:X.address||P.address,phone:X.phone||P.phone,familyMembers:parseInt(X.familyMembers)||P.familyMembers||1,fotoKtp:X.fotoKtp||P.fotoKtp,fotoKk:X.fotoKk||P.fotoKk,userId:b.userId,updatedAt:new Date().toISOString()};console.log("[AdminDocuments] Updated resident data:",{id:de.id||de._id,userId:de.userId,name:de.name,nik:de.nik});try{const ye=await Je.save(de);console.log("[AdminDocuments]  Resident updated successfully:",{id:ye.id||ye._id,userId:ye.userId,name:ye.name}),console.log("[AdminDocuments] Resident will be synced via MQTT + CRDT"),await new Promise(be=>setTimeout(be,500));const De=await Je.getAll(),Ze=De.find(be=>(be.id===ye.id||be._id===ye._id||be.id===ye._id||be._id===ye.id)&&be.userId===b.userId);Ze?(console.log("[AdminDocuments]  Verification SUCCESS: Resident found in database"),console.log("[AdminDocuments] Verified resident:",{id:Ze.id||Ze._id,userId:Ze.userId,name:Ze.name,nik:Ze.nik})):(console.error("[AdminDocuments]  Verification FAILED: Resident not found after save!"),console.error("[AdminDocuments] Looking for:",{id:ye.id||ye._id,userId:b.userId}),console.error("[AdminDocuments] Available residents:",De.map(be=>({id:be.id||be._id,userId:be.userId}))))}catch(ye){throw console.error("[AdminDocuments]  Error saving updated resident:",ye),ye}}else{console.log("[AdminDocuments] Creating new resident from approved document");const de={id:`resident_${Date.now()}_${Math.random().toString(36).slice(2)}`,userId:b.userId,name:X.name||"",nik:X.nik||"",email:W.email||"",address:X.address||"",phone:X.phone||"",familyMembers:parseInt(X.familyMembers)||1,fotoKtp:X.fotoKtp||null,fotoKk:X.fotoKk||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("[AdminDocuments] New resident data:",{id:de.id,userId:de.userId,name:de.name,nik:de.nik,address:de.address});try{const ye=await Je.save(de);console.log("[AdminDocuments]  Resident created successfully:",{id:ye.id||ye._id,userId:ye.userId,name:ye.name}),console.log("[AdminDocuments] Resident will be synced via MQTT + CRDT"),await new Promise(be=>setTimeout(be,500));const De=await Je.getAll(),Ze=De.find(be=>(be.id===ye.id||be._id===ye._id||be.id===ye._id||be._id===ye.id)&&be.userId===b.userId);Ze?(console.log("[AdminDocuments]  Verification SUCCESS: Resident found in database"),console.log("[AdminDocuments] Verified resident:",{id:Ze.id||Ze._id,userId:Ze.userId,name:Ze.name,nik:Ze.nik})):(console.error("[AdminDocuments]  Verification FAILED: Resident not found after save!"),console.error("[AdminDocuments] Looking for:",{id:ye.id||ye._id,userId:b.userId}),console.error("[AdminDocuments] Available residents:",De.map(be=>({id:be.id||be._id,userId:be.userId}))))}catch(ye){throw console.error("[AdminDocuments]  Error saving new resident:",ye),ye}}else{const de=ie&&ie.status==="approved",ye=re&&re.status==="approved";if(P){const De={...P,name:W.name||P.name,email:W.email||P.email,fotoKtp:ie&&ie.dataUrl?{fileName:ie.fileName,fileType:ie.fileType,fileSize:ie.fileSize,dataUrl:ie.dataUrl,uploadDate:ie.uploadDate}:P.fotoKtp,fotoKk:re&&re.dataUrl?{fileName:re.fileName,fileType:re.fileType,fileSize:re.fileSize,dataUrl:re.dataUrl,uploadDate:re.uploadDate}:P.fotoKk,updatedAt:new Date().toISOString()};await Je.save(De),console.log("[AdminDocuments] Updated resident from approved document:",De)}else if(de&&ye){const De={id:`resident_${Date.now()}`,userId:b.userId,name:W.name||"",nik:W.nik||"",email:W.email||"",address:W.address||"",phone:W.phone||"",familyMembers:1,fotoKtp:ie&&ie.dataUrl?{fileName:ie.fileName,fileType:ie.fileType,fileSize:ie.fileSize,dataUrl:ie.dataUrl,uploadDate:ie.uploadDate}:null,fotoKk:re&&re.dataUrl?{fileName:re.fileName,fileType:re.fileType,fileSize:re.fileSize,dataUrl:re.dataUrl,uploadDate:re.uploadDate}:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Je.save(De),console.log("[AdminDocuments] Created new resident from approved documents:",De)}else console.log("[AdminDocuments] Waiting for both KTP and KK to be approved before creating resident")}}catch(W){console.error("[AdminDocuments] Error creating resident from document:",W)}},_=b=>{if(!b)return"0 Bytes";const z=1024,Z=["Bytes","KB","MB"],W=Math.floor(Math.log(b)/Math.log(z));return Math.round(b/Math.pow(z,W)*100)/100+" "+Z[W]},C=b=>{switch(b){case"approved":return r.jsxs("span",{className:"status-badge approved",children:[r.jsx(en,{size:14}),"Disetujui"]});case"rejected":return r.jsxs("span",{className:"status-badge rejected",children:[r.jsx(Un,{size:14}),"Ditolak"]});default:return r.jsxs("span",{className:"status-badge pending",children:[r.jsx(it,{size:14}),"Menunggu Verifikasi"]})}},G=l.filter(b=>{var W,v,P;const z=q(b.userId).toLowerCase().includes(f.toLowerCase())||ce(b.type).toLowerCase().includes(f.toLowerCase())||b.fileName&&b.fileName.toLowerCase().includes(f.toLowerCase())||b.formData&&(((W=b.formData.name)==null?void 0:W.toLowerCase().includes(f.toLowerCase()))||((v=b.formData.nik)==null?void 0:v.toLowerCase().includes(f.toLowerCase()))||((P=b.formData.address)==null?void 0:P.toLowerCase().includes(f.toLowerCase()))),Z=p==="all"||b.status===p;return z&&Z}),te=l.filter(b=>b.status==="pending").length,xe=l.filter(b=>b.status==="approved").length,fe=l.filter(b=>b.status==="rejected").length;return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Manajemen Dokumen Warga"}),r.jsx("p",{className:"text-muted mb-0",children:"Verifikasi dan kelola dokumen yang diupload oleh warga"})]}),r.jsxs("button",{className:"btn btn-outline-secondary d-flex align-items-center gap-2",onClick:K,title:"Refresh data",children:[r.jsx(fl,{size:18}),r.jsx("span",{className:"d-none d-sm-inline",children:"Refresh"})]})]}),!1,r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsx("div",{className:"col-6 col-md-3",children:r.jsx("div",{className:"card text-center",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"mb-0",children:l.length}),r.jsx("p",{className:"text-muted small mb-0",children:"Total Dokumen"})]})})}),r.jsx("div",{className:"col-6 col-md-3",children:r.jsx("div",{className:"card text-center border-warning",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"mb-0 text-warning",children:te}),r.jsx("p",{className:"text-muted small mb-0",children:"Menunggu Verifikasi"})]})})}),r.jsx("div",{className:"col-6 col-md-3",children:r.jsx("div",{className:"card text-center border-success",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"mb-0 text-success",children:xe}),r.jsx("p",{className:"text-muted small mb-0",children:"Disetujui"})]})})}),r.jsx("div",{className:"col-6 col-md-3",children:r.jsx("div",{className:"card text-center border-danger",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"mb-0 text-danger",children:fe}),r.jsx("p",{className:"text-muted small mb-0",children:"Ditolak"})]})})})]}),r.jsxs("div",{className:"row g-3 mb-4",children:[r.jsx("div",{className:"col-12 col-md-8",children:r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(Ns,{size:20})}),r.jsx("input",{type:"text",className:"form-control",placeholder:"Cari berdasarkan nama warga, jenis dokumen, atau nama file...",value:f,onChange:b=>d(b.target.value)})]})}),r.jsx("div",{className:"col-12 col-md-4",children:r.jsxs("div",{className:"input-group",children:[r.jsx("span",{className:"input-group-text",children:r.jsx(hm,{size:18})}),r.jsxs("select",{className:"form-select",value:p,onChange:b=>g(b.target.value),children:[r.jsx("option",{value:"all",children:"Semua Status"}),r.jsx("option",{value:"pending",children:"Menunggu Verifikasi"}),r.jsx("option",{value:"approved",children:"Disetujui"}),r.jsx("option",{value:"rejected",children:"Ditolak"})]})]})})]}),G.length===0?r.jsxs("div",{className:"alert alert-info text-center",children:[r.jsx(it,{size:48,className:"mb-3"}),r.jsx("p",{className:"mb-0",children:"Tidak ada dokumen ditemukan"})]}):r.jsx("div",{className:"row g-3",children:G.map(b=>{const z=ne(b.userId);return r.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:r.jsx("div",{className:"card h-100 shadow-sm",children:r.jsxs("div",{className:"card-body d-flex flex-column",style:{overflow:"hidden"},children:[r.jsxs("div",{className:"d-flex align-items-start gap-2 mb-3",style:{minWidth:0},children:[r.jsx("div",{className:"bg-primary bg-opacity-10 rounded p-2 flex-shrink-0",children:r.jsx(it,{size:20,className:"text-primary"})}),r.jsxs("div",{className:"flex-grow-1 min-w-0",style:{overflow:"hidden"},children:[r.jsx("h5",{className:"card-title mb-1 text-truncate",style:{fontSize:"0.95rem",fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ce(b.type)}),r.jsxs("div",{className:"d-flex flex-column gap-1",style:{overflow:"hidden"},children:[r.jsxs("small",{className:"text-muted d-flex align-items-center gap-1",style:{minWidth:0},children:[r.jsx(Ao,{size:12,className:"flex-shrink-0"}),r.jsx("span",{className:"text-truncate",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:q(b.userId)})]}),z&&z.email&&r.jsx("small",{className:"text-muted text-truncate",style:{fontSize:"0.75rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.email})]})]}),r.jsx("div",{className:"flex-shrink-0 ms-1",children:C(b.status)})]}),r.jsxs("div",{className:"mb-3",style:{overflow:"hidden"},children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-1",style:{minWidth:0},children:[r.jsx(it,{size:14,className:"text-muted flex-shrink-0"}),r.jsx("small",{className:"text-muted text-truncate",style:{fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:b.fileName||"N/A"})]}),r.jsxs("div",{className:"d-flex align-items-center gap-2 text-muted small flex-wrap",style:{fontSize:"0.75rem"},children:[r.jsx("span",{className:"flex-shrink-0",children:_(b.fileSize)}),b.uploadDate&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"flex-shrink-0",children:""}),r.jsxs("span",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[r.jsx(ko,{size:10}),new Date(b.uploadDate).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})]})]})]})]}),r.jsx("div",{className:"mt-auto pt-2 border-top",children:r.jsxs("div",{className:"d-flex flex-wrap gap-1",children:[r.jsxs("button",{className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},onClick:()=>{y(b),w(!0)},children:[r.jsx(qx,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"Preview"})]}),b.dataUrl&&r.jsxs("a",{href:b.dataUrl,download:b.fileName,className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[r.jsx(ps,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"Download"})]}),b.type==="form"&&b.formData&&r.jsxs(r.Fragment,{children:[b.formData.fotoKtp&&b.formData.fotoKtp.dataUrl&&r.jsxs("a",{href:b.formData.fotoKtp.dataUrl,download:b.formData.fotoKtp.fileName||"ktp.jpg",className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[r.jsx(ps,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"KTP"})]}),b.formData.fotoKk&&b.formData.fotoKk.dataUrl&&r.jsxs("a",{href:b.formData.fotoKk.dataUrl,download:b.formData.fotoKk.fileName||"kk.jpg",className:"btn btn-sm btn-outline-secondary d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[r.jsx(ps,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"KK"})]})]}),b.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"btn btn-sm btn-success d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},onClick:()=>B(b,"approved"),children:[r.jsx(en,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"Setujui"})]}),r.jsxs("button",{className:"btn btn-sm btn-danger d-flex align-items-center gap-1",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},onClick:()=>U(b),children:[r.jsx(Un,{size:14}),r.jsx("span",{className:"d-none d-md-inline",children:"Tolak"})]})]})]})})]})})},b.id)})}),h&&m&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:r.jsx("div",{className:"modal-dialog modal-xl modal-dialog-scrollable",children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:ce(m.type)}),r.jsx("button",{type:"button",className:"btn-close",onClick:()=>w(!1),"aria-label":"Close"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"mb-3",children:"Informasi Warga"}),r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Nama Warga:"})," ",q(m.userId)]}),m.type==="form"&&m.formData?r.jsx(r.Fragment,{children:r.jsx("div",{className:"card mb-3",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h6",{className:"card-title mb-3",children:"Data Formulir"}),r.jsxs("div",{className:"row g-2",children:[r.jsx("div",{className:"col-12 col-md-6",children:r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Nama Lengkap:"})," ",m.formData.name||"-"]})}),r.jsx("div",{className:"col-12 col-md-6",children:r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"NIK:"})," ",m.formData.nik||"-"]})}),r.jsx("div",{className:"col-12",children:r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Alamat:"})," ",m.formData.address||"-"]})}),r.jsx("div",{className:"col-12 col-md-6",children:r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Nomor Telepon:"})," ",m.formData.phone||"-"]})}),r.jsx("div",{className:"col-12 col-md-6",children:r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Jumlah Anggota Keluarga:"})," ",m.formData.familyMembers||"-"]})}),m.submittedAt&&r.jsx("div",{className:"col-12",children:r.jsxs("p",{className:"mb-0",children:[r.jsx("strong",{children:"Tanggal Submit:"})," ",new Date(m.submittedAt).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})})]})]})})}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"File:"})," ",m.fileName||"-"]}),r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Ukuran:"})," ",_(m.fileSize)]}),m.uploadDate&&r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Tanggal Upload:"})," ",new Date(m.uploadDate).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Status:"})," ",C(m.status)]}),m.verifiedByName&&r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Diverifikasi oleh:"})," ",m.verifiedByName]}),m.verifiedAt&&r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Tanggal Verifikasi:"})," ",new Date(m.verifiedAt).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),m.rejectionReason&&r.jsxs("div",{className:"alert alert-danger mb-0",children:[r.jsx("strong",{children:"Alasan Penolakan:"})," ",m.rejectionReason]})]}),m.type==="form"&&m.formData?r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"mb-3",children:"Dokumen KTP"}),m.formData.fotoKtp&&m.formData.fotoKtp.dataUrl?r.jsx("div",{className:"card mb-3",children:r.jsxs("div",{className:"card-body",children:[m.formData.fotoKtp.dataUrl.startsWith("data:image")?r.jsx("img",{src:m.formData.fotoKtp.dataUrl,alt:"KTP",className:"img-fluid rounded mb-3",style:{maxWidth:"100%",height:"auto"}}):r.jsx("iframe",{src:m.formData.fotoKtp.dataUrl,title:"KTP",className:"w-100 rounded mb-3",style:{height:"500px",border:"1px solid #dee2e6"}}),r.jsxs("div",{className:"small text-muted",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"File:"})," ",m.formData.fotoKtp.fileName||"ktp.jpg"]}),r.jsxs("p",{className:"mb-0",children:[r.jsx("strong",{children:"Ukuran:"})," ",_(m.formData.fotoKtp.fileSize)]})]})]})}):r.jsx("div",{className:"alert alert-warning mb-0",children:"Tidak ada dokumen KTP yang diupload"}),r.jsx("h5",{className:"mb-3 mt-4",children:"Dokumen Kartu Keluarga"}),m.formData.fotoKk&&m.formData.fotoKk.dataUrl?r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-body",children:[m.formData.fotoKk.dataUrl.startsWith("data:image")?r.jsx("img",{src:m.formData.fotoKk.dataUrl,alt:"KK",className:"img-fluid rounded mb-3",style:{maxWidth:"100%",height:"auto"}}):r.jsx("iframe",{src:m.formData.fotoKk.dataUrl,title:"KK",className:"w-100 rounded mb-3",style:{height:"500px",border:"1px solid #dee2e6"}}),r.jsxs("div",{className:"small text-muted",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"File:"})," ",m.formData.fotoKk.fileName||"kk.jpg"]}),r.jsxs("p",{className:"mb-0",children:[r.jsx("strong",{children:"Ukuran:"})," ",_(m.formData.fotoKk.fileSize)]})]})]})}):r.jsx("div",{className:"alert alert-warning mb-0",children:"Tidak ada dokumen Kartu Keluarga yang diupload"})]}):m.dataUrl&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"mb-3",children:"Preview Dokumen"}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",children:m.dataUrl.startsWith("data:image")?r.jsx("img",{src:m.dataUrl,alt:m.fileName,className:"img-fluid rounded",style:{maxWidth:"100%",height:"auto"}}):r.jsx("iframe",{src:m.dataUrl,title:m.fileName,className:"w-100 rounded",style:{height:"600px",border:"1px solid #dee2e6"}})})})]}),m.status==="pending"&&r.jsxs("div",{className:"d-flex gap-2 justify-content-end mt-4",children:[r.jsxs("button",{className:"btn btn-success d-flex align-items-center gap-2",onClick:()=>B(m,"approved"),children:[r.jsx(en,{size:18}),"Setujui ",m.type==="form"?"Formulir":"Dokumen"]}),r.jsxs("button",{className:"btn btn-danger d-flex align-items-center gap-2",onClick:()=>U(m),children:[r.jsx(Un,{size:18}),"Tolak ",m.type==="form"?"Formulir":"Dokumen"]})]})]})]})})}),O&&ee&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>{F(!1),$(null),M("")},children:r.jsx("div",{className:"modal-dialog",onClick:b=>b.stopPropagation(),children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:"Tolak Dokumen"}),r.jsx("button",{type:"button",className:"btn-close",onClick:()=>{F(!1),$(null),M("")},"aria-label":"Close"})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("p",{className:"mb-2",children:[r.jsx("strong",{children:"Warga:"})," ",q(ee.userId)]}),r.jsx("p",{className:"mb-3 text-muted",children:"Mohon berikan alasan penolakan yang jelas agar warga dapat memperbaiki dokumennya."}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("label",{className:"form-label",children:["Alasan Penolakan ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("textarea",{className:"form-control",value:S,onChange:b=>M(b.target.value),placeholder:"Contoh: Foto KTP buram, tidak jelas. Foto KK tidak lengkap. Data NIK tidak sesuai. Perbaiki alamat yang tercantum.",rows:"5",required:!0})]}),r.jsxs("div",{className:"alert alert-warning small mb-3",children:[r.jsx("strong",{children:"Contoh alasan penolakan:"}),r.jsxs("ul",{className:"mb-0 mt-2",children:[r.jsx("li",{children:"Foto KTP buram, tidak jelas"}),r.jsx("li",{children:"Foto Kartu Keluarga tidak lengkap"}),r.jsx("li",{children:"Data NIK tidak sesuai dengan dokumen"}),r.jsx("li",{children:"Perbaiki alamat yang tercantum"}),r.jsx("li",{children:"Foto dokumen terpotong atau tidak terbaca"})]})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{F(!1),$(null),M("")},children:"Batal"}),r.jsxs("button",{type:"button",className:"btn btn-danger d-flex align-items-center gap-2",onClick:E,disabled:!S.trim(),children:[r.jsx(Un,{size:18}),"Tolak Dokumen"]})]})]})]})})})]})},Zd=()=>{const[l,o]=I.useState(null),[a,u]=I.useState({myServices:0,pendingServices:0,completedServices:0,announcements:0,documentStatus:null});I.useEffect(()=>{const h=ht();o(h),f(h);const w=setInterval(()=>f(h),5e3);return()=>clearInterval(w)},[]);const f=async h=>{try{const w=await Wt.getAll(),O=await Je.getAll(),F=await Fn.getAll(),ee=JSON.parse(localStorage.getItem("services")||"[]"),$=JSON.parse(localStorage.getItem("residents")||"[]"),S=JSON.parse(localStorage.getItem("announcements")||"[]"),K=[...O,...$].filter((N,_,C)=>_===C.findIndex(G=>G.id===N.id||G._id&&G._id===N._id)),q=[...w,...ee].filter((N,_,C)=>_===C.findIndex(G=>G.id===N.id||G._id&&G._id===N._id)),ce=[...F,...S].filter((N,_,C)=>_===C.findIndex(G=>G.id===N.id||G._id&&G._id===N._id)),U=K.find(N=>N.userId===(h==null?void 0:h.id)||N.email===(h==null?void 0:h.email)||N.name===(h==null?void 0:h.name));let E=[];U&&(E=q.filter(N=>N.residentId===U.id||N.residentId===U._id));let B=null;try{const N=await lt.getByUserId(h.id);if(N&&N.status)B=N.status;else{const C=JSON.parse(localStorage.getItem("wargaDocuments")||"{}")[h.id]||{};C.status?B=C.status:(C.formData||C.ktp||C.kartuKeluarga)&&(B="pending")}}catch(N){console.error("Error loading document status:",N)}u({myServices:E.length,pendingServices:E.filter(N=>N.status==="pending"||N.status==="processing").length,completedServices:E.filter(N=>N.status==="completed").length,announcements:ce.length,documentStatus:B})}catch(w){console.error("Error loading warga dashboard stats:",w);const O=JSON.parse(localStorage.getItem("services")||"[]"),F=JSON.parse(localStorage.getItem("announcements")||"[]"),$=JSON.parse(localStorage.getItem("residents")||"[]").find(M=>M.email===(h==null?void 0:h.email)||M.name===(h==null?void 0:h.name));let S=[];$&&(S=O.filter(M=>M.residentId===$.id)),u({myServices:S.length,pendingServices:S.filter(M=>M.status==="pending"||M.status==="processing").length,completedServices:S.filter(M=>M.status==="completed").length,announcements:F.length,documentStatus:null})}},d=[{title:"Pelayanan Saya",value:a.myServices,icon:vs,color:"blue",description:"Total permintaan"},{title:"Sedang Diproses",value:a.pendingServices,icon:Bn,color:"orange",description:"Menunggu"},{title:"Selesai",value:a.completedServices,icon:en,color:"green",description:"Pelayanan selesai"}],g=(()=>{if(!a.documentStatus)return{icon:it,title:"Belum Upload",message:"Upload dokumen Anda untuk pendaftaran",color:"gray"};switch(a.documentStatus){case"approved":return{icon:en,title:"Dokumen Disetujui",message:"Dokumen Anda telah diverifikasi dan disetujui",color:"green"};case"rejected":return{icon:xm,title:"Dokumen Ditolak",message:"Silakan perbaiki dan kirim ulang dokumen",color:"red"};default:return{icon:Bn,title:"Menunggu Verifikasi",message:"Dokumen Anda sedang menunggu verifikasi admin",color:"orange"}}})(),m=g.icon,y=h=>({green:"success",orange:"warning",red:"danger",gray:"secondary",blue:"primary"})[h]||"secondary";return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"mb-2",children:"Dashboard Warga"}),r.jsxs("p",{className:"text-muted mb-0",children:["Selamat datang, ",(l==null?void 0:l.name)||"Warga"]})]}),r.jsx("div",{className:"row g-3 mb-4",children:d.map((h,w)=>{const O=h.icon,F=y(h.color);return r.jsx("div",{className:"col-12 col-md-4",children:r.jsx("div",{className:`card border-${F} border-2 h-100`,children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:`bg-${F} bg-opacity-10 rounded p-3 flex-shrink-0`,children:r.jsx(O,{size:24,className:`text-${F}`})}),r.jsxs("div",{className:"flex-grow-1 min-w-0",children:[r.jsx("h3",{className:"mb-1",children:h.value}),r.jsx("p",{className:"mb-0 fw-semibold",children:h.title}),h.description&&r.jsx("small",{className:"text-muted",children:h.description})]})]})})})},w)})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"mb-3",children:"Status Dokumen"}),r.jsx("div",{className:`card border-${y(g.color)} border-2`,children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-center gap-3",children:[r.jsx("div",{className:`bg-${y(g.color)} bg-opacity-10 rounded p-3 flex-shrink-0`,children:r.jsx(m,{size:32,className:`text-${y(g.color)}`})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h4",{className:"mb-1",children:g.title}),r.jsx("p",{className:"mb-0 text-muted",children:g.message})]})]})})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"mb-3",children:"Informasi"}),r.jsxs("div",{className:"row g-3",children:[r.jsx("div",{className:"col-12 col-md-6",children:r.jsx("div",{className:"card h-100",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-start gap-3",children:[r.jsx("div",{className:"bg-primary bg-opacity-10 rounded p-2 flex-shrink-0",children:r.jsx(vs,{size:24,className:"text-primary"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h4",{className:"mb-2",children:"Request Pelayanan"}),r.jsx("p",{className:"text-muted mb-2",children:"Ajukan permintaan pelayanan seperti surat keterangan, surat pengantar, surat domisili, dll"}),a.pendingServices>0&&r.jsxs("span",{className:"badge bg-warning text-dark",children:[a.pendingServices," menunggu"]})]})]})})})}),r.jsx("div",{className:"col-12 col-md-6",children:r.jsx("div",{className:"card h-100",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"d-flex align-items-start gap-3",children:[r.jsx("div",{className:"bg-info bg-opacity-10 rounded p-2 flex-shrink-0",children:r.jsx(Wa,{size:24,className:"text-info"})}),r.jsxs("div",{className:"flex-grow-1",children:[r.jsx("h4",{className:"mb-2",children:"Pengumuman"}),r.jsxs("p",{className:"text-muted mb-0",children:["Lihat ",a.announcements," pengumuman terbaru dari ketua RT"]})]})]})})})})]})]})]})},Rh=()=>{const[l,o]=I.useState([]),[a,u]=I.useState(null),[f,d]=I.useState(null),[p,g]=I.useState(!1),[m,y]=I.useState({type:"",description:""});I.useEffect(()=>{const S=ht();u(S),h(S);const M=setInterval(()=>{h(S)},5e3);return()=>clearInterval(M)},[]);const h=async S=>{if(S)try{const M=await Je.getAll(),K=await Wt.getAll();let Q=M.find(q=>q.userId===S.id);if(Q||(Q=M.find(q=>q.email===(S==null?void 0:S.email)||q.name===(S==null?void 0:S.name))),Q||(Q=JSON.parse(localStorage.getItem("residents")||"[]").find(ne=>ne.userId===S.id||ne.email===(S==null?void 0:S.email)||ne.name===(S==null?void 0:S.name))),d(Q),Q){const q=K.filter(B=>B.residentId===Q.id),ce=JSON.parse(localStorage.getItem("services")||"[]").filter(B=>B.residentId===Q.id),E=[...q,...ce].filter((B,N,_)=>N===_.findIndex(C=>C.id===B.id||C._id&&C._id===B._id)).sort((B,N)=>{const _=new Date(B.createdAt||B.date||0);return new Date(N.createdAt||N.date||0)-_});o(E)}else o([])}catch(M){console.error("Error loading data:",M);const K=JSON.parse(localStorage.getItem("services")||"[]"),q=JSON.parse(localStorage.getItem("residents")||"[]").find(ne=>ne.userId===(S==null?void 0:S.id)||ne.email===(S==null?void 0:S.email)||ne.name===(S==null?void 0:S.name));if(d(q),q){const ne=K.filter(ce=>ce.residentId===q.id).sort((ce,U)=>{const E=new Date(ce.createdAt||ce.date||0);return new Date(U.createdAt||U.date||0)-E});o(ne)}}},w=async S=>{if(S.preventDefault(),!f){alert("Data warga tidak ditemukan. Pastikan dokumen Anda sudah disetujui oleh admin.");return}const M={id:`service_${Date.now()}`,type:"service",residentId:f.id,residentName:f.name,serviceType:m.type,description:m.description,status:"pending",date:new Date().toISOString(),createdAt:new Date().toISOString()};try{await Wt.save(M);const Q=[...JSON.parse(localStorage.getItem("services")||"[]"),M];localStorage.setItem("services",JSON.stringify(Q)),await h(a),O(),alert("Pelayanan berhasil diajukan!")}catch(K){console.error("Error saving service:",K),alert("Terjadi kesalahan saat menyimpan pelayanan")}},O=()=>{g(!1),y({type:"",description:""})},F=S=>{switch(S){case"completed":return r.jsx(en,{size:16,className:"status-icon completed"});case"processing":return r.jsx(Bn,{size:16,className:"status-icon processing"});case"pending":return r.jsx(Bn,{size:16,className:"status-icon pending"});case"cancelled":return r.jsx(Un,{size:16,className:"status-icon cancelled"});default:return null}},ee=S=>({pending:"Menunggu",processing:"Diproses",completed:"Selesai",cancelled:"Dibatalkan"})[S]||S,$=["Surat Keterangan","Surat Pengantar","Surat Domisili","Surat Tidak Mampu","Lainnya"];return r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Pelayanan Saya"}),r.jsx("p",{className:"text-muted mb-0",children:"Lihat dan ajukan permintaan pelayanan"})]}),r.jsxs("button",{className:"btn btn-primary d-flex align-items-center gap-2",onClick:()=>g(!0),children:[r.jsx(br,{size:20}),r.jsx("span",{className:"d-none d-sm-inline",children:"Ajukan Pelayanan"}),r.jsx("span",{className:"d-sm-none",children:"Ajukan"})]})]}),!f&&r.jsx("div",{className:"alert alert-warning mb-4",children:r.jsx("p",{className:"mb-0",children:"Data warga Anda belum terdaftar. Silakan hubungi admin untuk mendaftarkan data warga Anda terlebih dahulu."})}),l.length===0?r.jsx("div",{className:"alert alert-info text-center",children:r.jsx("p",{className:"mb-0",children:"Belum ada permintaan pelayanan. Ajukan pelayanan baru untuk memulai."})}):r.jsx("div",{className:"row g-3",children:l.map(S=>{const M=S.serviceType||(S.type&&S.type!=="service"?S.type:null)||"Pelayanan",K=S.status||"pending";return r.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:r.jsx("div",{className:"card h-100 shadow-sm",children:r.jsxs("div",{className:"card-body d-flex flex-column",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[r.jsxs("div",{className:"flex-grow-1 min-w-0",children:[r.jsx("h5",{className:"card-title mb-1 text-truncate",children:M}),r.jsx("small",{className:"text-muted d-flex align-items-center gap-1",children:S.date?new Date(S.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-"})]}),r.jsxs("span",{className:`badge ${K==="completed"?"bg-success":K==="processing"?"bg-info":K==="cancelled"?"bg-secondary":"bg-warning"} d-flex align-items-center gap-1 flex-shrink-0 ms-2`,children:[F(K),r.jsx("span",{className:"d-none d-sm-inline",children:ee(K)})]})]}),r.jsx("p",{className:"card-text text-truncate-2 mb-0 flex-grow-1",children:S.description||"-"})]})})},S.id||S._id)})}),p&&r.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:O,children:r.jsx("div",{className:"modal-dialog",onClick:S=>S.stopPropagation(),children:r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h5",{className:"modal-title",children:"Ajukan Pelayanan Baru"}),r.jsx("button",{type:"button",className:"btn-close",onClick:O,"aria-label":"Close"})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("form",{onSubmit:w,children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Jenis Pelayanan"}),r.jsxs("select",{className:"form-select",required:!0,value:m.type,onChange:S=>y({...m,type:S.target.value}),children:[r.jsx("option",{value:"",children:"Pilih Jenis"}),$.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"form-label",children:"Keterangan"}),r.jsx("textarea",{className:"form-control",required:!0,rows:"4",value:m.description,onChange:S=>y({...m,description:S.target.value}),placeholder:"Deskripsi atau catatan pelayanan..."})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:O,children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajukan Pelayanan"})]})]})})]})})})]})},Oh=()=>{const[l,o]=I.useState(null),[a,u]=I.useState(!1),[f,d]=I.useState(!1),[p,g]=I.useState({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),[m,y]=I.useState({fotoKtp:!1,fotoKk:!1}),h=I.useCallback(async N=>{if(N)try{console.log("[WargaDocuments] Loading documents for userId:",N.id);const _=await lt.getByUserId(N.id);if(console.log("[WargaDocuments] Document from database:",_?{id:_.id||_._id,userId:_.userId,hasFormData:!!_.formData,status:_.status,keys:Object.keys(_)}:"null"),_&&_.formData){console.log("[WargaDocuments]  Found document with formData, loading into form"),g(_.formData),d(!0);return}else _&&console.warn("[WargaDocuments]  Document found but no formData:",{id:_.id||_._id,userId:_.userId,keys:Object.keys(_)});const G=JSON.parse(localStorage.getItem("wargaDocuments")||"{}")[N.id]||{};if(G.formData)g(G.formData),d(!0);else if(G.ktp||G.kartuKeluarga){const te={name:N.name||"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:G.ktp||null,fotoKk:G.kartuKeluarga||null};g(te),d(!0)}else g({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),d(!1),u(!0)}catch(_){console.error("Error loading documents:",_),g({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),d(!1),u(!0)}},[]);I.useEffect(()=>{const N=ht();o(N),h(N)},[h]),I.useEffect(()=>{const N=()=>{console.log("[WargaDocuments] Network clear detected, resetting form");const _=ht();g({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null}),d(!1),u(!0),_&&h(_)};return window.addEventListener("networkClear",N),()=>{window.removeEventListener("networkClear",N)}},[h]);const w=async N=>{const _=ht();if(_)try{const C=await lt.getByUserId(_.id),G=!!C,te={type:"wargaDocument",userId:_.id,formData:N,status:"pending",submittedAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdAt:(C==null?void 0:C.createdAt)||new Date().toISOString()};C?(te._id=C._id,te.id=C.id||C._id,te.status="pending",te.verifiedAt=null,te.verifiedBy=null,te.verifiedByName=null,te.rejectionReason=null,console.log("[WargaDocuments] Updating existing document (resubmitting):",te._id),console.log("[WargaDocuments] Status reset to pending - will appear in admin approval queue")):(te.id=`wargaDocument_${_.id}`,te._id=te.id,console.log("[WargaDocuments] Creating new document:",te._id)),console.log("[WargaDocuments] Saving document to database (isUpdate:",G,"):",te);const xe=await lt.save(te);console.log("[WargaDocuments] Document saved successfully:",xe),console.log("[WargaDocuments] Document will be synced to network via MQTT + CRDT"),await new Promise(W=>setTimeout(W,500));const fe=await lt.getByUserId(_.id);console.log("[WargaDocuments] Verification - document in database:",fe),fe?(console.log("[WargaDocuments]  Document verified in database"),console.log("[WargaDocuments] Document ID:",fe.id||fe._id),console.log("[WargaDocuments] Document type:",fe.type),console.log("[WargaDocuments] Document status:",fe.status),console.log("[WargaDocuments] Document should be visible to admin after sync")):(console.error("[WargaDocuments] WARNING: Document not found after save!"),console.error("[WargaDocuments] This might indicate a sync issue. Check MQTT connection.")),(await lt.getAll()).find(W=>(W.id===xe.id||W._id===xe.id||W.id===xe._id||W._id===xe._id)&&W.userId===_.id)?console.log("[WargaDocuments]  Document found in getAll() - ready for admin view"):console.warn("[WargaDocuments]  Document not found in getAll() - may need sync");const Z=JSON.parse(localStorage.getItem("wargaDocuments")||"{}");Z[_.id]={formData:N,status:"pending",submittedAt:new Date().toISOString()},localStorage.setItem("wargaDocuments",JSON.stringify(Z)),console.log("[WargaDocuments] Also saved to localStorage for userId:",_.id),g(N),d(!0),u(!1),alert(G?"Data berhasil diperbarui! Menunggu verifikasi admin.":"Data berhasil dikirim! Menunggu verifikasi admin.")}catch(C){console.error("Error saving documents:",C),alert("Terjadi kesalahan saat menyimpan data")}},O=async(N,_)=>{const C=_.target.files[0];if(!C)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(C.type)){alert("Format file tidak didukung. Gunakan JPG, PNG, atau PDF.");return}if(C.size>5*1024*1024){alert("Ukuran file terlalu besar. Maksimal 5MB.");return}y({...m,[N]:!0});const te=new FileReader;te.onloadend=()=>{const xe={fileName:C.name,fileType:C.type,fileSize:C.size,uploadDate:new Date().toISOString(),dataUrl:te.result};g({...p,[N]:xe}),y({...m,[N]:!1})},te.readAsDataURL(C)},F=N=>{g({...p,[N]:null})},ee=async N=>{if(N.preventDefault(),!p.name||!p.nik||!p.address||!p.phone||!p.familyMembers){alert("Mohon lengkapi semua field yang wajib diisi!");return}if(!p.fotoKtp||!p.fotoKk){alert("Mohon upload foto KTP dan foto Kartu Keluarga!");return}await w(p),alert("Data berhasil dikirim! Menunggu verifikasi admin.")},$=()=>{u(!0)},S=N=>{if(!N)return"0 Bytes";const _=1024,C=["Bytes","KB","MB"],G=Math.floor(Math.log(N)/Math.log(_));return Math.round(N/Math.pow(_,G)*100)/100+" "+C[G]},M=N=>{switch(N){case"approved":return r.jsxs("span",{className:"badge bg-success d-inline-flex align-items-center gap-1",children:[r.jsx(en,{size:14}),"Disetujui"]});case"rejected":return r.jsxs("span",{className:"badge bg-danger d-inline-flex align-items-center gap-1",children:[r.jsx(Un,{size:14}),"Ditolak"]});default:return r.jsxs("span",{className:"badge bg-warning text-dark d-inline-flex align-items-center gap-1",children:[r.jsx(it,{size:14}),"Menunggu Verifikasi"]})}},K=async()=>{if(!l)return"pending";try{const N=await lt.getByUserId(l.id);return N&&N.status?N.status:(JSON.parse(localStorage.getItem("wargaDocuments")||"{}")[l.id]||{}).status||"pending"}catch{return"pending"}},[Q,q]=I.useState("pending"),[ne,ce]=I.useState(null),[U,E]=I.useState(null),B=I.useRef(null);return I.useEffect(()=>{if(l){K().then(q);const N=async()=>{try{const C=await lt.getByUserId(l.id);if(C)if(C.status==="rejected"){if(ce(C.rejectionReason||"Dokumen tidak memenuhi persyaratan. Silakan perbaiki dan kirim ulang."),E(C.verifiedByName||"Admin"),C.verifiedAt){const G=new Date(C.verifiedAt).getTime(),xe=Date.now()-G<5*60*1e3,fe=B.current!==G;xe&&fe&&(alert(` Dokumen Anda DITOLAK oleh ${C.verifiedByName||"Admin"}

Alasan: ${C.rejectionReason||"Dokumen tidak memenuhi persyaratan. Silakan perbaiki dan kirim ulang."}

Silakan edit dan kirim ulang dokumen.`),B.current=G)}}else ce(null),E(null),B.current=null}catch(C){console.error("Error checking document status:",C)}};N();const _=setInterval(()=>{K().then(C=>{q(G=>G!==C?(C!=="rejected"&&(B.current=null),C):G)}),N()},5e3);return()=>clearInterval(_)}},[l]),r.jsxs("div",{className:"container-fluid",children:[r.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start mb-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mb-2",children:"Dokumen Saya"}),r.jsx("p",{className:"text-muted mb-0",children:"Isi data dan upload dokumen untuk pendaftaran warga"})]}),f&&(Q==="pending"||Q==="rejected")&&r.jsx("button",{className:"btn btn-secondary d-flex align-items-center gap-2",onClick:$,children:Q==="rejected"?"Edit & Kirim Ulang":"Edit Data"})]}),!f||a?r.jsxs("form",{onSubmit:ee,children:[r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0 h5",children:"Data Pribadi"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["Nama Lengkap ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:p.name,onChange:N=>g({...p,name:N.target.value}),placeholder:"Masukkan nama lengkap"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["NIK ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:p.nik,onChange:N=>g({...p,nik:N.target.value}),placeholder:"Masukkan NIK"})]}),r.jsxs("div",{className:"col-12",children:[r.jsxs("label",{className:"form-label",children:["Alamat ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("input",{type:"text",className:"form-control",required:!0,value:p.address,onChange:N=>g({...p,address:N.target.value}),placeholder:"Masukkan alamat lengkap"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["No. Telepon ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("input",{type:"tel",className:"form-control",required:!0,value:p.phone,onChange:N=>g({...p,phone:N.target.value}),placeholder:"Masukkan nomor telepon"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["Jumlah Anggota Keluarga ",r.jsx("span",{className:"text-danger",children:"*"})]}),r.jsx("input",{type:"number",className:"form-control",min:"1",required:!0,value:p.familyMembers,onChange:N=>g({...p,familyMembers:N.target.value}),placeholder:"Masukkan jumlah anggota keluarga"})]})]})})]}),r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0 h5",children:"Dokumen"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["Foto KTP ",r.jsx("span",{className:"text-danger",children:"*"})]}),p.fotoKtp?r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[r.jsx(it,{size:16,className:"text-muted"}),r.jsx("span",{className:"text-truncate flex-grow-1",children:p.fotoKtp.fileName}),r.jsxs("small",{className:"text-muted flex-shrink-0",children:["(",S(p.fotoKtp.fileSize),")"]})]}),p.fotoKtp.dataUrl&&p.fotoKtp.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"mb-2",children:r.jsx("img",{src:p.fotoKtp.dataUrl,alt:"KTP Preview",className:"img-fluid rounded",style:{maxHeight:"200px"}})}),r.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger w-100",onClick:()=>F("fotoKtp"),children:[r.jsx(js,{size:14,className:"me-1"}),"Hapus"]})]}):r.jsxs("label",{className:"d-flex flex-column align-items-center justify-content-center p-4 border rounded text-muted cursor-pointer bg-light",style:{minHeight:"150px"},children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:N=>O("fotoKtp",N),disabled:m.fotoKtp,style:{display:"none"}}),m.fotoKtp?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"spinner-border text-primary mb-2",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Mengupload..."})}),r.jsx("p",{className:"mb-0",children:"Mengupload..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ba,{size:32,className:"mb-2"}),r.jsx("p",{className:"mb-1",children:"Klik untuk upload foto KTP"}),r.jsx("small",{className:"text-center",children:"Format: JPG, PNG, atau PDF (Maks. 5MB)"})]})]})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsxs("label",{className:"form-label",children:["Foto Kartu Keluarga (KK) ",r.jsx("span",{className:"text-danger",children:"*"})]}),p.fotoKk?r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[r.jsx(it,{size:16,className:"text-muted"}),r.jsx("span",{className:"text-truncate flex-grow-1",children:p.fotoKk.fileName}),r.jsxs("small",{className:"text-muted flex-shrink-0",children:["(",S(p.fotoKk.fileSize),")"]})]}),p.fotoKk.dataUrl&&p.fotoKk.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"mb-2",children:r.jsx("img",{src:p.fotoKk.dataUrl,alt:"KK Preview",className:"img-fluid rounded",style:{maxHeight:"200px"}})}),r.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger w-100",onClick:()=>F("fotoKk"),children:[r.jsx(js,{size:14,className:"me-1"}),"Hapus"]})]}):r.jsxs("label",{className:"d-flex flex-column align-items-center justify-content-center p-4 border rounded text-muted cursor-pointer bg-light",style:{minHeight:"150px"},children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:N=>O("fotoKk",N),disabled:m.fotoKk,style:{display:"none"}}),m.fotoKk?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"spinner-border text-primary mb-2",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Mengupload..."})}),r.jsx("p",{className:"mb-0",children:"Mengupload..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ba,{size:32,className:"mb-2"}),r.jsx("p",{className:"mb-1",children:"Klik untuk upload foto KK"}),r.jsx("small",{className:"text-center",children:"Format: JPG, PNG, atau PDF (Maks. 5MB)"})]})]})]})]})})]}),r.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),f||g({name:"",nik:"",address:"",phone:"",familyMembers:"",fotoKtp:null,fotoKk:null})},children:"Batal"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Kirim untuk Verifikasi"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0 h5",children:"Status Pendaftaran"})}),r.jsxs("div",{className:"card-body",children:[r.jsx("div",{className:"d-flex justify-content-center mb-3",children:M(Q)}),Q==="pending"&&r.jsx("p",{className:"text-center text-muted mb-0",children:"Data Anda sedang menunggu verifikasi admin. Mohon tunggu konfirmasi."}),Q==="approved"&&r.jsx("p",{className:"text-center text-success mb-0",children:"Data Anda telah disetujui dan masuk ke data warga."}),Q==="rejected"&&r.jsxs("div",{children:[r.jsx("p",{className:"text-center mb-3",children:r.jsx("strong",{className:"text-danger",children:" Dokumen Anda DITOLAK"})}),U&&r.jsxs("p",{className:"text-center mb-3",children:["Oleh: ",r.jsx("strong",{children:U})]}),ne&&r.jsxs("div",{className:"alert alert-danger",children:[r.jsx("p",{className:"mb-2 fw-semibold",children:"Alasan Penolakan:"}),r.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:ne})]}),r.jsx("p",{className:"text-center mb-3",children:'Silakan klik tombol "Edit & Kirim Ulang" di atas untuk memperbaiki dan mengirim ulang dokumen.'}),r.jsx("div",{className:"d-flex justify-content-center",children:r.jsx("button",{className:"btn btn-primary",onClick:$,children:"Edit & Kirim Ulang"})})]})]})]}),r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0 h5",children:"Data yang Dikirim"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsx("label",{className:"form-label fw-semibold",children:"Nama Lengkap"}),r.jsx("p",{className:"mb-0",children:p.name||"-"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsx("label",{className:"form-label fw-semibold",children:"NIK"}),r.jsx("p",{className:"mb-0",children:r.jsx("code",{children:p.nik||"-"})})]}),r.jsxs("div",{className:"col-12",children:[r.jsx("label",{className:"form-label fw-semibold",children:"Alamat"}),r.jsx("p",{className:"mb-0",children:p.address||"-"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsx("label",{className:"form-label fw-semibold",children:"No. Telepon"}),r.jsx("p",{className:"mb-0",children:p.phone||"-"})]}),r.jsxs("div",{className:"col-12 col-md-6",children:[r.jsx("label",{className:"form-label fw-semibold",children:"Jumlah Anggota Keluarga"}),r.jsx("p",{className:"mb-0",children:p.familyMembers||"-"})]})]})})]}),r.jsxs("div",{className:"card mb-4",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0 h5",children:"Dokumen"})}),r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"row g-3",children:[p.fotoKtp&&r.jsx("div",{className:"col-12 col-md-6",children:r.jsx("div",{className:"card h-100",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-3",children:[r.jsx(it,{size:20,className:"text-primary"}),r.jsx("span",{className:"fw-semibold",children:"Foto KTP"})]}),p.fotoKtp.dataUrl&&p.fotoKtp.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:p.fotoKtp.dataUrl,alt:"KTP",className:"img-fluid rounded"})}),r.jsxs("a",{href:p.fotoKtp.dataUrl,download:p.fotoKtp.fileName,className:"btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2",children:[r.jsx(ps,{size:16}),"Download"]})]})})}),p.fotoKk&&r.jsx("div",{className:"col-12 col-md-6",children:r.jsx("div",{className:"card h-100",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"d-flex align-items-center gap-2 mb-3",children:[r.jsx(it,{size:20,className:"text-primary"}),r.jsx("span",{className:"fw-semibold",children:"Foto Kartu Keluarga"})]}),p.fotoKk.dataUrl&&p.fotoKk.dataUrl.startsWith("data:image")&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:p.fotoKk.dataUrl,alt:"KK",className:"img-fluid rounded"})}),r.jsxs("a",{href:p.fotoKk.dataUrl,download:p.fotoKk.fileName,className:"btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2",children:[r.jsx(ps,{size:16}),"Download"]})]})})})]})})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h4",{className:"mb-0 h6",children:"Informasi Penting"})}),r.jsx("div",{className:"card-body",children:r.jsxs("ul",{className:"mb-0",children:[r.jsx("li",{children:"Pastikan semua data diisi dengan benar"}),r.jsx("li",{children:"Pastikan foto dokumen jelas dan terbaca"}),r.jsx("li",{children:"Format file yang didukung: JPG, PNG, PDF"}),r.jsx("li",{children:"Ukuran maksimal file: 5MB"}),r.jsx("li",{children:"Data akan diverifikasi oleh admin"}),r.jsx("li",{children:"Status verifikasi akan muncul setelah admin memeriksa"})]})})]})]})},zh=()=>{const l=ht();return(l==null?void 0:l.role)===We.ADMIN?r.jsxs(vo,{children:[r.jsx(He,{index:!0,element:r.jsx(Gd,{})}),r.jsx(He,{path:"residents",element:r.jsx(Sh,{})}),r.jsx(He,{path:"services",element:r.jsx(Nh,{})}),r.jsx(He,{path:"announcements",element:r.jsx(Yd,{})}),r.jsx(He,{path:"documents",element:r.jsx(Mh,{})}),r.jsx(He,{path:"kas",element:r.jsx(Dh,{})}),r.jsx(He,{path:"chat",element:r.jsx(Xd,{})}),r.jsx(He,{path:"users",element:r.jsx(bh,{})}),r.jsx(He,{path:"*",element:r.jsx(Gd,{})})]}):r.jsxs(vo,{children:[r.jsx(He,{index:!0,element:r.jsx(Zd,{})}),r.jsx(He,{path:"documents",element:r.jsx(Oh,{})}),r.jsx(He,{path:"my-services",element:r.jsx(Rh,{})}),r.jsx(He,{path:"announcements",element:r.jsx(Yd,{readOnly:!0})}),r.jsx(He,{path:"chat",element:r.jsx(Xd,{})}),r.jsx(He,{path:"*",element:r.jsx(Zd,{})})]})};function Lh(){return r.jsx(zx,{children:r.jsxs(vo,{children:[r.jsx(He,{path:"/login",element:r.jsx(kh,{})}),r.jsx(He,{path:"/*",element:r.jsx(wh,{children:r.jsx(jh,{children:r.jsx(zh,{})})})})]})})}(function(l,o){const a=Am,u=l();for(;;)try{if(parseInt(a(369))/1*(parseInt(a(376))/2)+-parseInt(a(362))/3+-parseInt(a(356))/4+-parseInt(a(367))/5*(-parseInt(a(366))/6)+parseInt(a(368))/7+parseInt(a(341))/8*(parseInt(a(344))/9)+-parseInt(a(372))/10*(parseInt(a(374))/11)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(al,272410);function al(){const l=["announcement","9264xlMBaz","Migration error:","Starting migration from localStorage to IndexedDB + MQTT + CRDT...","2169blepAO","keys","entries","resident","user","service_","announcements","migration_to_indexeddb","random","now","length","log","674620xHSkXi","Migration completed!","wargaDocuments"," kas transactions","error","kasRT","414339mzjUCp","user_"," residents","wargaDocument","1158DfBrFH","3110IHjUQa","3160213QglErr","1ashhLH","true","Migrated warga documents","40XGggZg","Migrated ","1834327aHGFhO","resident_","791246nJzuDs","parse","announcement_","setItem","getItem"];return al=function(){return l},al()}function Am(l,o){return l=l-340,al()[l]}const Kh=async()=>{const l=Am;try{if(localStorage[l(380)](l(351))===l(370))return;console[l(355)](l(343));const a=JSON[l(377)](localStorage[l(380)]("users")||"[]");if(a[l(354)]>0){for(const m of a){const y={...m,id:m.id?String(m.id):l(363)+Date[l(353)]()+"_"+Math[l(352)]()};await Ot(l(348),y)}console.log(l(373)+a[l(354)]+" users")}const u=JSON[l(377)](localStorage[l(380)]("residents")||"[]");if(u[l(354)]>0){for(const m of u){const y={...m,id:m.id?String(m.id):l(375)+Date[l(353)]()+"_"+Math[l(352)]()};await Ot(l(347),y)}console[l(355)]("Migrated "+u[l(354)]+l(364))}const f=JSON[l(377)](localStorage[l(380)]("services")||"[]");if(f[l(354)]>0){for(const m of f){const y={...m,id:m.id?String(m.id):l(349)+Date[l(353)]()+"_"+Math[l(352)]()};await Ot("service",y)}console[l(355)](l(373)+f[l(354)]+" services")}const d=JSON[l(377)](localStorage[l(380)](l(350))||"[]");if(d[l(354)]>0){for(const m of d){const y={...m,id:m.id?String(m.id):l(378)+Date[l(353)]()+"_"+Math[l(352)]()};await Ot(l(340),y)}console[l(355)](l(373)+d[l(354)]+" announcements")}const p=JSON[l(377)](localStorage.getItem(l(361))||"[]");if(p[l(354)]>0){for(const m of p){const y={...m,id:m.id?String(m.id):"kasTransaction_"+Date[l(353)]()+"_"+Math.random()};await Ot("kasTransaction",y)}console.log("Migrated "+p[l(354)]+l(359))}const g=JSON.parse(localStorage[l(380)](l(358))||"{}");if(Object[l(345)](g)[l(354)]>0){for(const[m,y]of Object[l(346)](g))await Ot(l(365),{userId:m,...y});console[l(355)](l(371))}localStorage[l(379)](l(351),l(370)),console.log(l(357))}catch(o){console[l(360)](l(342),o)}};(function(l,o){const a=Po,u=l();for(;;)try{if(-parseInt(a(191))/1+-parseInt(a(206))/2+parseInt(a(189))/3+-parseInt(a(186))/4+parseInt(a(192))/5*(-parseInt(a(196))/6)+-parseInt(a(184))/7+-parseInt(a(183))/8*(-parseInt(a(205))/9)===o)break;u.push(u.shift())}catch{u.push(u.shift())}})(ll,819617);let ho=null,Em=!0,Tm=1e4;const hs=()=>{ho&&clearTimeout(ho),Em&&(ho=setTimeout(()=>{Fh()},Tm))},Fh=async()=>{const l=Po;try{const o=ks();if(!o){console.log(l(185));return}if(!o[l(194)]()){console[l(200)](l(193)),hs();return}console[l(200)]("[IdleSync] User idle detected, requesting network sync..."),await o.reloadNetwork(),console[l(200)](l(201)),hs()}catch(o){console[l(199)]("[IdleSync] Error during idle sync:",o),hs()}};function ll(){const l=["[IdleSync] Sync engine not initialized, skipping idle sync","5435252hSNTxy","click","[IdleSync] Stopped","3535038WlPwQm","forEach","129410UnMnwC","5mSPyzp","[IdleSync] MQTT not connected, skipping idle sync","isOnline","scroll","3684102NKqQrL"," seconds of inactivity","[IdleSync] Started - will sync after ","error","log","[IdleSync] Network sync requested successfully","mousedown","touchstart","keypress","45SNpYyB","2014414LiBtWX","mousemove","5005576cVcCcF","2644369EbeaMt"];return ll=function(){return l},ll()}function Po(l,o){return l=l-182,ll()[l]}const Uh=(l=1e4)=>{const o=Po;Tm=l,Em=!0,[o(202),o(182),o(204),o(195),o(203),o(187)][o(190)](u=>{document.addEventListener(u,hs,{passive:!0})}),hs(),console[o(200)](o(198)+l/1e3+o(197))};typeof globalThis>"u"&&(window.global=window);Kh().then(()=>{console.log("[App] Starting MQTT + CRDT sync engine..."),hh().then(l=>{l?(console.log("[App] MQTT + CRDT sync started successfully"),setTimeout(()=>{Uh(1e4),console.log("[App] Idle sync enabled - will auto-sync after 10 seconds of inactivity")},2e3)):console.warn("[App] MQTT + CRDT sync not started (error occurred)")}).catch(l=>{console.error("[App] Error starting MQTT + CRDT sync:",l)})}).catch(console.error);Fp.createRoot(document.getElementById("root")).render(r.jsx(tm.StrictMode,{children:r.jsx(Lh,{})}));
